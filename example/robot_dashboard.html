<!DOCTYPE html>
<html data-bs-theme="dark" class="dark-mode w-100 html-scroll">
<head>
<title>Robot Framework Dashboard - 2026-02-11 22:57:34</title>
<!-- JS/CSS Dependencies -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
<script src="https://unpkg.com/@sgratzl/chartjs-chart-boxplot@3.6.0/build/index.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-chart-matrix@2.0.1/dist/chartjs-chart-matrix.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gridstack@12.2.1/dist/gridstack.min.css" />
<script src="https://cdn.jsdelivr.net/npm/gridstack@12.2.1/dist/gridstack-all.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdn.datatables.net/v/bs5/jq-3.7.0/dt-2.1.8/datatables.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/v/bs5/jq-3.7.0/dt-2.1.8/datatables.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/pako@2.1.0/dist/pako.min.js"></script>
<!-- Custom CSS -->
<style>
/* === styling.css === */
#overview,
#dashboard,
#unified,
#compare,
#tables {
margin-bottom: 35vh;
}
/* LIGHT MODE STYLING */
body {
background-color: #eee;
}
.border-bottom {
border-color: rgba(0, 0, 0, 0.175) !important;
}
.fullscreen,
.sticky-top,
body {
background-color: #eee;
}
.grid-stack {
max-height: 10000px;
}
.grid-stack-item-content {
background-color: white;
}
.form-switch .form-check-input:not(:checked) {
background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='black'/></svg>");
border-color: black;
}
.stat-label {
font-size: 1rem;
color: darkgrey;
}
.white-text {
color: black;
}
/* Dark mode */
.navbar .nav-item {
color: black;
}
.navbar .nav-item.active,
.navbar .nav-item:hover,
.active.information-icon,
.active.bar-graph,
.active.line-graph,
.active.fullscreen-graph,
.active.close-graph,
.active.timeline-graph,
.active.radar-graph,
.active.heatmap-graph,
.active.pie-graph,
.active.percentage-graph,
.active.stats-graph,
.active.boxplot-graph,
.active.shown-graph,
.information-icon:hover,
.bar-graph:hover,
.line-graph:hover,
.fullscreen-graph:hover,
.close-graph:hover,
.timeline-graph:hover,
.radar-graph:hover,
.heatmap-graph:hover,
.pie-graph:hover,
.percentage-graph:hover,
.stats-graph:hover,
.boxplot-graph:hover,
.shown-graph:hover,
.collapse-icon:hover,
#rflogo:hover,
#filters:hover,
#customizeLayout:hover,
#saveLayout:hover,
#settings:hover,
#themeDark:hover,
#themeLight:hover,
#database:hover,
#versionInformation:hover,
#bug:hover,
#github:hover,
#docs:hover {
color: #3451b2;
}
/* Light mode SVG strokes */
.active.information-icon svg,
.active.bar-graph svg,
.active.line-graph svg,
.active.fullscreen-graph svg,
.active.close-graph svg,
.active.timeline-graph svg,
.active.radar-graph svg,
.active.heatmap-graph svg,
.active.pie-graph svg,
.active.percentage-graph svg,
.active.stats-graph svg,
.active.boxplot-graph svg,
.active.shown-graph svg,
.information-icon:hover svg,
.bar-graph:hover svg,
.line-graph:hover svg,
.fullscreen-graph:hover svg,
.close-graph:hover svg,
.timeline-graph:hover svg,
.radar-graph:hover svg,
.heatmap-graph:hover svg,
.pie-graph:hover svg,
.percentage-graph:hover svg,
.stats-graph:hover svg,
.boxplot-graph:hover svg,
.shown-graph:hover svg,
.hidden-graph:hover svg,
.shown-section:hover svg,
.hidden-section:hover svg,
.collapse-icon:hover svg,
.move-up-table:hover svg,
.move-down-table:hover svg,
.move-up-section:hover svg,
.move-down-section:hover svg,
#filters:hover svg,
#customizeLayout:hover svg,
#saveLayout:hover svg,
#settings:hover svg,
#themeDark:hover svg,
#themeLight:hover svg,
#database:hover svg,
#versionInformation:hover svg,
#bug:hover svg,
#github:hover svg,
#docs:hover svg {
stroke: #3451b2 !important;
fill: none !important;
}
/* Robot logo uses fill instead of stroke */
#rflogo:hover svg path,
#github:hover svg path {
fill: #3451b2 !important;
}
/* DARK MODE STYLING */
.dark-mode :root {
color-scheme: dark;
}
.dark-mode .grid-stack-item-content,
.dark-mode .overview-card .card {
background: rgba(30, 41, 59, 0.9);
}
.dark-mode .fullscreen {
background: rgba(30, 41, 59, 1);
}
.dark-mode .modal-content {
background: #0f172a;
}
.dark-mode .border-bottom {
border-color: rgba(255, 255, 255, 0.15) !important;
}
.dark-mode .sticky-top,
.dark-mode .card,
.dark-mode body,
.dark-mode .modal-dialog {
background: #0f172a;
color: #eee;
}
.dark-mode .list-group-item:not(.disabled),
.dark-mode .form-label,
.dark-mode .form-control,
.dark-mode .form-select {
color: #eee;
}
.dark-mode .list-group-item .disabled {
color: rgba(173, 181, 189, 0.75);
}
.dark-mode .form-switch .form-check-input:not(:checked) {
background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='white'/></svg>");
border-color: #eee;
}
.dark-mode .table > :not(caption) > * > * {
color: #eee;
}
.dark-mode .collapse-icon {
color: #eee;
}
.dark-mode .stat-label {
font-size: 0.85rem;
color: #9ca3af;
}
.dark-mode .white-text {
color: #eee;
}
/* Dark mode */
.dark-mode .nav-item {
color: white;
}
.dark-mode .nav-item.active,
.dark-mode .nav-item:hover {
color: #a8b1ff;
}
/* Dark mode SVG strokes */
.dark-mode .active.information-icon svg,
.dark-mode .active.bar-graph svg,
.dark-mode .active.line-graph svg,
.dark-mode .active.fullscreen-graph svg,
.dark-mode .active.close-graph svg,
.dark-mode .active.timeline-graph svg,
.dark-mode .active.radar-graph svg,
.dark-mode .active.heatmap-graph svg,
.dark-mode .active.pie-graph svg,
.dark-mode .active.percentage-graph svg,
.dark-mode .active.stats-graph svg,
.dark-mode .active.boxplot-graph svg,
.dark-mode .active.shown-graph svg,
.dark-mode .information-icon:hover svg,
.dark-mode .bar-graph:hover svg,
.dark-mode .line-graph:hover svg,
.dark-mode .fullscreen-graph:hover svg,
.dark-mode .close-graph:hover svg,
.dark-mode .timeline-graph:hover svg,
.dark-mode .radar-graph:hover svg,
.dark-mode .heatmap-graph:hover svg,
.dark-mode .pie-graph:hover svg,
.dark-mode .percentage-graph:hover svg,
.dark-mode .stats-graph:hover svg,
.dark-mode .boxplot-graph:hover svg,
.dark-mode .shown-graph:hover svg,
.dark-mode .hidden-graph:hover svg,
.dark-mode .shown-section:hover svg,
.dark-mode .hidden-section:hover svg,
.dark-mode .collapse-icon:hover svg,
.dark-mode .move-up-table:hover svg,
.dark-mode .move-down-table:hover svg,
.dark-mode .move-up-section:hover svg,
.dark-mode .move-down-section:hover svg,
.dark-mode #filters:hover svg,
.dark-mode #customizeLayout:hover svg,
.dark-mode #saveLayout:hover svg,
.dark-mode #settings:hover svg,
.dark-mode #themeDark:hover svg,
.dark-mode #themeLight:hover svg,
.dark-mode #database:hover svg,
.dark-mode #versionInformation:hover svg,
.dark-mode #bug:hover svg,
.dark-mode #docs:hover svg {
stroke: #a8b1ff !important;
}
/* Robot logo uses fill instead of stroke */
.dark-mode #github:hover svg path,
.dark-mode #rflogo:hover svg path {
fill: #a8b1ff !important;
}
/* GENERAL STYLING */
:root {
font-family: Helvetica, sans-serif;
}
.html-scroll {
overflow-y: scroll;
}
.modal-open {
padding-right: 0px !important;
}
h4,
h5,
h6 {
margin-bottom: 0rem;
}
body.lock-scroll {
overflow: hidden;
}
#settings,
#database,
.nav-item,
.information-icon,
.bar-graph,
.line-graph,
.fullscreen-graph,
.close-graph,
.timeline-graph,
.radar-graph,
.heatmap-graph,
.pie-graph,
.percentage-graph,
.stats-graph,
.boxplot-graph,
.shown-graph,
.hidden-graph,
.shown-section,
.hidden-section,
.move-up-table,
.move-down-table,
.move-up-section,
.move-down-section {
cursor: pointer;
}
.navbar-disabled {
opacity: 0.5;
user-select: none;
}
.navbar-disabled a {
pointer-events: none;
}
.navbar-disabled a:hover {
pointer-events: auto;
}
.tooltip-popup {
position: fixed;
max-width: 360px;
padding: 8px 12px;
border-radius: 8px;
background-color: white;
color: black;
box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
font-size: 0.95rem;
white-space: pre-line;
pointer-events: none;
z-index: 9999;
box-sizing: border-box;
}
.dark-mode .tooltip-popup {
background-color: #0f172a;
color: #eee;
}
.navbar {
margin-bottom: 1rem;
}
.card {
margin-bottom: 1rem;
box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
}
.stats {
float: right;
text-align: right;
font-size: 0.9em;
white-space: nowrap;
}
.section-filters {
display: flex;
flex: 1 1 auto;
flex-wrap: wrap;
align-items: center;
column-gap: 0.75rem;
row-gap: 0.35rem;
}
.section-filters .filter-group {
display: flex;
align-items: center;
gap: 0.5rem;
}
.container-fluid .form-check-input,
#sectionFiltersModal .form-check-input {
margin-top: 6px;
position: static;
}
.fullscreen {
position: fixed !important;
width: 100% !important;
height: 100% !important;
left: 0 !important;
top: 0 !important;
z-index: 10 !important;
padding: 20px 20px 20px 20px !important;
border-radius: 0px !important;
}
.dropdown-menu {
width: max-content;
}
.version-selected-dot {
display: inline-block;
width: 6px;
height: 6px;
background-color: #ec5800;
border-radius: 50%;
margin-left: 5px;
margin-bottom: 2px;
vertical-align: middle;
}
.selectBox {
position: relative;
}
.selectBox select {
width: 100%;
}
.overSelect {
position: absolute;
left: 0;
right: 0;
top: 0;
bottom: 0;
}
.filterCheckBoxes {
display: none;
position: absolute;
z-index: 2;
}
.filterCheckBoxes label {
display: block;
}
.border {
min-height: 42px;
}
.stat-value {
font-size: 1.5rem;
font-weight: 600;
}
.fullscreen .stat-value {
font-size: 4rem;
}
.fullscreen .stat-label {
font-size: 2rem;
}
.green-text,
.text-passed {
color: rgba(151, 189, 97, 0.9);
}
.border-passed {
border-color: rgba(151, 189, 97, 0.9);
}
.red-text,
.text-failed {
color: rgba(206, 62, 1, 0.9);
}
.border-failed {
border-color: rgba(206, 62, 1, 0.9);
}
.yellow-text {
color: rgba(254, 216, 79, 0.9);
}
.border-skipped {
border-color: rgba(254, 216, 79, 0.9);
}
.blue-text {
color: dodgerblue;
}
.overview-canvas {
height: 200px;
}
.overview-card {
cursor: pointer;
min-width: 300px;
}
.overview-card .card {
border-radius: 1rem;
}
.project-run-cards-container {
display: flex;
flex-wrap: wrap;
column-gap: 24px;
}
.project-run-cards-container .overview-card {
flex: 0 1 calc((100% - 48px) / 3); /* 3 per row, subtract total gap */
}
.run-card-version-title {
gap: 0.25rem;
width: fit-content;
}
.run-card-version-title:hover h5 {
color: #ec5800 !important;
}
.run-card-small-version {
display: flex;
gap: 0.25rem;
width: fit-content;
}
.run-card-small-version:hover div {
color: #ec5800 !important;
}
.grid-stack-item-content {
border-radius: 8px;
display: flex;
flex-direction: column;
padding: 20px;
box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
}
.graph-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 8px;
}
.graph-header h6 {
margin: 0;
font-weight: 600;
}
.graph-controls {
display: flex;
gap: 8px;
}
.grid-stack-item-content .graph-body {
flex: 1 1 auto;
display: flex;
overflow-x: hidden;
overflow-y: auto;
width: 100%;
}
.graph-body .row {
flex-wrap: wrap;
margin-left: 0;
margin-right: 0;
}
.grid-stack-item-content .graph-body .vertical {
overflow-y: auto;
}
canvas {
display: block;
}
#alertContainer {
z-index: 1100;
top: 7rem;
max-width: 80%;
}
.alert-dismissible {
padding-right: 16px !important;
}
.grid-stack-item-content:has(.hidden-graph:not([hidden])),
.table-section:has(.hidden-graph:not([hidden])),
.card:has(.hidden-section:not([hidden])) {
opacity: 0.5;
}
.modal.dimmed {
pointer-events: none;
filter: brightness(0.5);
}
#runTag {
max-height: 400px;
overflow: auto;
}
.btn.collapse-icon:active {
border: none;
background-color: none;
}
@media print {
table {
width: 100%;
page-break-inside: auto;
}
.grid-stack-item-contentvas {
width: 100%;
overflow: hidden;
page-break-inside: avoid;
break-inside: avoid;
display: block;
}
canvas {
height: auto !important;
max-width: 100% !important;
}
}
/* spinner styling */
/* Fullscreen center wrapper */
.loader-wrapper {
position: fixed;
top: 0;
left: 0;
width: 100vw;
height: calc(100vh - 55px);
display: flex;
justify-content: center;
align-items: center;
background: transparent; /* or any backdrop you prefer */
}
/* Make the grid larger */
.ball-grid-beat {
width: 120px; /* previously 60px → 2× size */
display: grid;
grid-template-columns: repeat(3, 1fr);
grid-gap: 12px; /* doubled from 6px */
}
.ball-grid-beat div {
width: 32px; /* doubled from 16px */
height: 32px;
border-radius: 50%;
background-color: #3451b2; /* change color to match your theme */
animation: ball-grid-beat 0.7s infinite linear;
}
.dark-mode .ball-grid-beat div {
background-color: #a8b1ff; /* change color to match dark mode theme */
}
/* Animation timing (same pattern, reused) */
.ball-grid-beat div:nth-child(1) {
animation-delay: 0.15s;
}
.ball-grid-beat div:nth-child(2) {
animation-delay: 0.1s;
}
.ball-grid-beat div:nth-child(3) {
animation-delay: 0.05s;
}
.ball-grid-beat div:nth-child(4) {
animation-delay: 0.2s;
}
.ball-grid-beat div:nth-child(5) {
animation-delay: 0.15s;
}
.ball-grid-beat div:nth-child(6) {
animation-delay: 0.1s;
}
.ball-grid-beat div:nth-child(7) {
animation-delay: 0.25s;
}
.ball-grid-beat div:nth-child(8) {
animation-delay: 0.2s;
}
.ball-grid-beat div:nth-child(9) {
animation-delay: 0.15s;
}
@keyframes ball-grid-beat {
0% {
transform: scale(1);
opacity: 1;
}
50% {
transform: scale(0.7);
opacity: 0.5;
}
100% {
transform: scale(1);
opacity: 1;
}
}
/* Section Filters Modal Styling */
#sectionFiltersModal .modal-body {
padding: 1rem;
}
.dark-mode #sectionFiltersModal .card {
background-color: rgba(30, 41, 59, 0.9) !important;
border: none;
box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
}
.dark-mode #sectionFiltersModal .card-header {
background-color: rgba(30, 41, 59, 0.9) !important;
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
color: white;
}
.dark-mode #sectionFiltersModal .card-body {
background-color: rgba(30, 41, 59, 0.9) !important;
padding: 1.25rem;
}
#sectionFiltersModal .card {
background-color: white !important;
}
#sectionFiltersModal .card-header {
background-color: white !important;
color: black;
}
#sectionFiltersModal .card-body {
background-color: white !important;
}
/* Ensure hidden list-group items are properly hidden */
.list-group-item[hidden] {
display: none !important;
}
#navigation .nav-link svg {
width: 24px;
height: 24px;
display: block;
}
</style>
<!-- Favicon -->
<link rel="icon" type="image/x-icon"
href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKcAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAqAAAAAAAAAAAAAAAAAAAALIAAAD/AAAA4AAAANwAAADcAAAA3AAAANwAAADcAAAA3AAAANwAAADcAAAA4AAAAP8AAACxAAAAAAAAAKYAAAD/AAAAuwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC/AAAA/wAAAKkAAAD6AAAAzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAN8AAAD/AAAA+gAAAMMAAAAAAAAAAgAAAGsAAABrAAAAawAAAGsAAABrAAAAawAAAGsAAABrAAAADAAAAAAAAADaAAAA/wAAAPoAAADDAAAAAAAAAIsAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAANEAAAAAAAAA2gAAAP8AAAD6AAAAwwAAAAAAAAAAAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAFAAAAAAAAANoAAAD/AAAA+gAAAMMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADaAAAA/wAAAPoAAADDAAAAAAAAADwAAAB8AAAAAAAAAGAAAABcAAAAAAAAAH8AAABKAAAAAAAAAAAAAAAAAAAA2gAAAP8AAAD6AAAAwwAAAAAAAADCAAAA/wAAACkAAADqAAAA4QAAAAAAAAD7AAAA/wAAALAAAAAGAAAAAAAAANoAAAD/AAAA+gAAAMMAAAAAAAAAIwAAAP4AAAD/AAAA/wAAAGAAAAAAAAAAAAAAAMkAAAD/AAAAigAAAAAAAADaAAAA/wAAAPoAAADDAAAAAAAAAAAAAAAIAAAAcAAAABkAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAAAAAAA2gAAAP8AAAD7AAAAywAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAN4AAAD/AAAAqwAAAP8AAACvAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALIAAAD/AAAAsgAAAAAAAAC5AAAA/wAAAMoAAADAAAAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAwAAAAMkAAAD/AAAAvAAAAAAAAAAAAAAAAAAAAKwAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAArQAAAAAAAAAAwAMAAIABAAAf+AAAP/wAAD/8AAAgBAAAP/wAAD/8AAA//AAAJIwAADHEAAA//AAAP/wAAB/4AACAAQAAwAMAAA==" />
</head>
<body>
<div class="position-relative alert-container">
<div class="position-fixed top-20 start-50 translate-middle" id="alertContainer"></div>
</div>
<nav class="navbar navbar-expand-sm sticky-top navbar-dark ps-4 pe-4 border-bottom pb-1" id="navigation">
<div class="navbar-nav ms-4">
<a class="nav-link information" id="rflogo" href="https://robotframework.org/" target="_blank"></a>
<a class="nav-item nav-link" id="menuOverview">Overview</a>
<a class="nav-item nav-link active" id="menuDashboard">Dashboard</a>
<a class="nav-item nav-link" id="runStatisticsSectionNav"><i>Runs</i></a>
<a class="nav-item nav-link" id="suiteStatisticsSectionNav"><i>Suites</i></a>
<a class="nav-item nav-link" id="testStatisticsSectionNav"><i>Tests</i></a>
<a class="nav-item nav-link" id="keywordStatisticsSectionNav"><i>Keywords</i></a>
<a class="nav-item nav-link" id="menuCompare">Compare</a>
<a class="nav-item nav-link" id="menuTables">Tables</a>
<a class="nav-item nav-link" id="openDashboard" href="/admin" hidden>Admin</a>
</div>
<ul class="navbar-nav flex-row flex-wrap ms-md-auto me-4">
<li class="nav-item">
<a class="nav-link information" id="filters" data-bs-toggle="modal" data-bs-target="#filtersModal"></a>
</li>
<li class="nav-item">
<a class="nav-link information" id="customizeLayout"></a>
</li>
<li class="nav-item">
<a class="nav-link information" id="saveLayout" hidden></a>
</li>
<li class="nav-item">
<a class="nav-link information" id="settings" data-bs-toggle="modal"
data-bs-target="#settingsModal"></a>
</li>
<li class="nav-item">
<a class="nav-link information" id="themeDark"></a>
</li>
<li class="nav-item">
<a class="nav-link information" id="themeLight"></a>
</li>
<li class="nav-item">
<a class="nav-link information" id="database" data-bs-toggle="modal"
data-bs-target="#databaseModal"></a>
</li>
<li class="nav-item">
<a class="nav-link information information-icon" id="versionInformation"></a>
</li>
<li class="nav-item">
<a class="nav-link information" target="_blank" id="bug"
href="https://github.com/marketsquare/robotframework-dashboard/issues"></a>
</li>
<li class="nav-item">
<a class="nav-link information" target="_blank" id="github"
href="https://github.com/marketsquare/robotframework-dashboard"></a>
</li>
<li class="nav-item">
<a class="nav-link information" target="_blank" id="docs"
href="https://marketsquare.github.io/robotframework-dashboard/"></a>
</li>
</ul>
</nav>
<div class="container-fluid">
<div class="loader-wrapper" id="loading">
<div class="ball-grid-beat">
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
</div>
</div>
<div id="overview" hidden>
<div id="topOverviewSection" hidden></div>
</div>
<div id="unified" hidden>
<div class="card" id="unifiedStatisticsSection">
<div class="card-header">
<div class="row">
<div class="col-auto align-self-center">
<div class="btn btn-sm collapse-icon" id="collapsegridUnified"></div>
</div>
<div class="col-5">
<h4 id="unifiedTitle"></h4>
</div>
<div class="d-flex flex-wrap align-items-start col align-items-center">
<div class="col-auto">
<button class="btn btn-outline-light btn-sm mt-2" id="showSectionFiltersUnified"
data-bs-toggle="modal" data-bs-target="#sectionFiltersModal">Section
Filters</button>
</div>
<div class="col-auto">
<a type="button" class="information information-icon ms-2 mt-1"
id="unifiedStatisticsInformation"></a>
</div>
</div>
</div>
</div>
<!-- Placeholder DIV to keep the graphs, they will be moved based on the config to the card unifiedData -->
<div id="unifiedDataHidden" hidden></div>
<div class="card-body grid-stack" id="gridUnified"></div>
</div>
</div>
<div id="dashboard" hidden>
<div id="topDashboardSection" hidden></div>
<div class="card" id="runStatisticsSection">
<div class="card-header">
<div class="row">
<div class="col-auto align-self-center">
<div class="btn btn-sm collapse-icon" id="collapsegridRun"></div>
</div>
<div class="col">
<h4 id="runTitle"></h4>
</div>
<div class="col-auto ms-auto">
<a class="move-up-section information" id="runSectionMoveUp" hidden></a>
<a class="move-down-section information" id="runSectionMoveDown" hidden></a>
<a class="shown-section information" id="runSectionShown" hidden></a>
<a class="hidden-section information" id="runSectionHidden" hidden></a>
</div>
</div>
</div>
<!-- Placeholder DIV to keep the graphs, they will be moved based on the config to the card runData -->
<div id="runDataHidden" hidden></div>
<div class="card-body grid-stack" id="gridRun"></div>
</div>
<div class="card" id="suiteStatisticsSection">
<div class="card-header">
<div class="row">
<div class="col-auto align-self-center">
<div class="btn btn-sm collapse-icon" id="collapsegridSuite"></div>
</div>
<div class="col-3">
<h4 id="suiteTitle"></h4>
</div>
<div class="col d-flex align-items-center" id="suiteSectionFiltersContainer">
<div class="section-filters" id="suiteSectionFilters">
<div class="filter-group">
<label class="form-label mb-0" for="suiteFolder">Folder:</label>
<p class="form-label mb-0" id="suiteFolder">All</p>
</div>
<div class="filter-group">
<button class="btn btn-outline-light btn-sm" id="resetSuiteFolder">Reset
Folder</button>
</div>
<div class="filter-group">
<label class="form-label mb-0" for="suiteSelectSuites">Suite:</label>
<select class="form-select form-select-sm" id="suiteSelectSuites"></select>
</div>
<div class="filter-group">
<label class="form-check-label mb-0" for="switchSuitePathsSuiteSection">Use
Suite
Paths</label>
<div class="form-check form-switch">
<input class="form-check-input" type="checkbox" role="switch"
id="switchSuitePathsSuiteSection" />
</div>
</div>
<div class="filter-group">
<a type="button" class="information information-icon"
id="suiteStatisticsInformation"></a>
</div>
</div>
<div class="col-auto ms-auto">
<a class="move-up-section information" id="suiteSectionMoveUp" hidden></a>
<a class="move-down-section information" id="suiteSectionMoveDown" hidden></a>
<a class="shown-section information" id="suiteSectionShown" hidden></a>
<a class="hidden-section information" id="suiteSectionHidden" hidden></a>
</div>
</div>
</div>
</div>
<!-- Placeholder DIV to keep the graphs, they will be moved based on the config to the card suiteData -->
<div id="suiteDataHidden" hidden></div>
<div class="card-body grid-stack" id="gridSuite"></div>
</div>
<div class="card" id="testStatisticsSection">
<div class="card-header">
<div class="row">
<div class="col-auto align-self-center">
<div class="btn btn-sm collapse-icon" id="collapsegridTest"></div>
</div>
<div class="col-3">
<h4 id="testTitle"></h4>
</div>
<div class="col d-flex align-items-center" id="testSectionFiltersContainer">
<div class="section-filters" id="testSectionFilters">
<div class="filter-group">
<label class="form-label mb-0" for="suiteSelectTests">Suite:</label>
<select class="form-select form-select-sm" id="suiteSelectTests"></select>
</div>
<div class="filter-group">
<label class="form-check-label mb-0" for="switchSuitePathsTestSection">Use
Suite
Paths</label>
<div class="form-check form-switch">
<input class="form-check-input" type="checkbox" role="switch"
id="switchSuitePathsTestSection" />
</div>
</div>
<div class="filter-group">
<label class="form-label mb-0" for="testSelect">Test:</label>
<select class="form-select form-select-sm" id="testSelect"></select>
</div>
<div class="filter-group flex-nowrap">
<label class="form-label mb-0 text-nowrap" for="testTagsSelect">Test Tags:</label>
<select class="form-select form-select-sm w-auto" id="testTagsSelect"></select>
</div>
<div class="filter-group">
<a type="button" class="information information-icon"
id="testStatisticsInformation"></a>
</div>
</div>
<div class="col-auto ms-auto">
<a class="move-up-section information" id="testSectionMoveUp" hidden></a>
<a class="move-down-section information" id="testSectionMoveDown" hidden></a>
<a class="shown-section information" id="testSectionShown" hidden></a>
<a class="hidden-section information" id="testSectionHidden" hidden></a>
</div>
</div>
</div>
</div>
<!-- Placeholder DIV to keep the graphs, they will be moved based on the config to the card keywordData -->
<div id="testDataHidden" hidden></div>
<div class="card-body grid-stack" id="gridTest"></div>
</div>
<div class="card" id="keywordStatisticsSection">
<div class="card-header">
<div class="row">
<div class="col-auto align-self-center">
<div class="btn btn-sm collapse-icon" id="collapsegridKeyword"></div>
</div>
<div class="col-3">
<h4 id="keywordTitle"></h4>
</div>
<div class="col d-flex align-items-center" id="keywordSectionFiltersContainer">
<div class="section-filters" id="keywordSectionFilters">
<div class="filter-group">
<label class="form-label mb-0" for="keywordSelect">Keyword:</label>
<select class="form-select form-select-sm" id="keywordSelect"></select>
</div>
<div class="filter-group">
<label class="form-check-label mb-0" for="switchUseLibraryNames">Use Library
Names</label>
<div class="form-check form-switch">
<input class="form-check-input" type="checkbox" role="switch"
id="switchUseLibraryNames" />
</div>
</div>
<div class="filter-group">
<a type="button" class="information information-icon"
id="keywordStatisticsInformation"></a>
</div>
</div>
</div>
<div class="col-auto ms-auto">
<a class="move-up-section information" id="keywordSectionMoveUp" hidden></a>
<a class="move-down-section information" id="keywordSectionMoveDown" hidden></a>
<a class="shown-section information" id="keywordSectionShown" hidden></a>
<a class="hidden-section information" id="keywordSectionHidden" hidden></a>
</div>
</div>
</div>
<!-- Placeholder DIV to keep the graphs, they will be moved based on the config to the card keywordData -->
<div id="keywordDataHidden" hidden></div>
<div class="card-body grid-stack" id="gridKeyword"></div>
</div>
</div>
<div id="compare" hidden>
<div class="card" id="compareStatisticsSection">
<div class="card-header">
<div class="row">
<div class="col-auto align-self-center">
<div class="btn btn-sm collapse-icon" id="collapsegridCompare"></div>
</div>
<div class="col-3">
<h4 id="compareTitle"></h4>
</div>
<div class="col d-flex align-items-center" id="compareSectionFiltersContainer">
<div class="d-flex flex-wrap align-items-start col align-items-center"
id="compareSectionFilters">
<div class="col-auto">
<div class="btn-group">
<label class="form-label ms-1 mt-2" for="compareRun1">Run 1</label>
</div>
<div class="btn-group">
<select class="form-select form-select-sm" id="compareRun1"></select>
</div>
</div>
<div class="col-auto">
<div class="btn-group">
<label class="form-label ms-1 mt-2" for="compareRun2">Run 2</label>
</div>
<div class="btn-group">
<select class="form-select form-select-sm" id="compareRun2"></select>
</div>
</div>
<div class="col-auto">
<div class="btn-group">
<label class="form-label ms-1 mt-2" for="compareRun3">Run 3</label>
</div>
<div class="btn-group">
<select class="form-select form-select-sm" id="compareRun3"></select>
</div>
</div>
<div class="col-auto me-2">
<div class="btn-group">
<label class="form-label ms-1 mt-2" for="compareRun4">Run 4</label>
</div>
<div class="btn-group">
<select class="form-select form-select-sm" id="compareRun4"></select>
</div>
</div>
<div class="col-auto d-flex me-2">
<label class="form-check-label mb-0 me-2" for="switchSuitePathsCompareSection">Use
Suite
Paths</label>
<div class="form-check form-switch">
<input class="form-check-input" type="checkbox" role="switch"
id="switchSuitePathsCompareSection" />
</div>
</div>
</div>
</div>
</div>
</div>
<!-- Placeholder DIV to keep the graphs, they will be moved based on the config to the card compareData -->
<div id="compareDataHidden" hidden></div>
<div class="card-body grid-stack" id="gridCompare"></div>
</div>
</div>
<div id="tables" hidden>
<div class="card" id="tablesStatisticsSection">
<div class="card-header">
<div class="row">
<div class="col-auto align-self-center">
<div class="btn btn-sm collapse-icon" id="collapsegridTable"></div>
</div>
<div class="col-3">
<h4 id="tablesTitle"></h4>
</div>
</div>
</div>
<!-- Placeholder DIV to keep the graphs, they will be moved based on the config to the card tablesData -->
<div id="tableDataHidden" hidden></div>
<div class="card-body" id="gridTable"></div>
</div>
</div>
</div>
<div id="modals">
<!-- Modal for the filter -->
<div class="modal fade" id="filtersModal" tabindex="-1" aria-labelledby="filtersModalLabel">
<div class="modal-dialog modal-lg">
<div class="modal-content">
<div class="modal-header">
<h1 class="modal-title" id="filtersModalLabel">Filters</h1>
<div>
<button type="button" class="btn btn-outline-light btn-sm mt-auto ms-3"
id="resetFilters">Reset Filters</button>
<button type="button" class="btn btn-outline-light btn-sm mt-auto ms-3"
data-bs-dismiss="modal" id="closeFilters">Close</button>
</div>
</div>
<div class="modal-body">
<div class="list-group">
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Runs</span>
<div class="d-flex align-items-center">
<select class="form-select form-select-sm" id="runs" style="width: 200px;"></select>
</div>
</div>
<div class="list-group-item" id="runTagFilter">
<div class="d-flex justify-content-between align-items-start">
<span class="d-flex align-items-center">
Run Tags
<span id="filterRunTagSelectedIndicator" class="version-selected-dot ms-2 mt-1"
style="display: none;"></span>
</span>
<div style="width: 200px;">
<div class="selectBox" id="selectRunTags">
<select class="form-select form-select-sm">
<option>Select Tags</option>
</select>
<div class="overSelect"></div>
</div>
<div id="runTagCheckBoxes" class="filterCheckBoxes mt-2"
style="max-height: 50vh; overflow-y: auto;">
<input id="runTagCheckBoxesFilter" class="form-control form-control-sm"
type="text" placeholder="Filter...">
<ul class="list-group" id="runTag"></ul>
</div>
</div>
</div>
</div>
<div class="list-group-item" id="projectVersionFilter">
<div class="d-flex justify-content-between align-items-start">
<span class="d-flex align-items-center">
Versions
<span id="filterVersionSelectedIndicator" class="version-selected-dot ms-2 mt-1"
style="display: none;"></span>
</span>
<div style="width: 200px;">
<div class="selectBox" id="selectProjectVersion">
<select class="form-select form-select-sm">
<option>Select Versions</option>
</select>
<div class="overSelect"></div>
</div>
<div id="projectVersionCheckBoxes" class="filterCheckBoxes mt-2"
style="max-height: 50vh; overflow-y: auto;">
<input id="projectVersionCheckBoxesFilter"
class="form-control form-control-sm" type="text"
placeholder="Filter...">
<ul class="list-group" id="projectVersionList">
</ul>
</div>
</div>
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>From Date</span>
<div class="d-flex align-items-center">
<input class="form-control form-control-sm" id="fromDate" type="date"
style="width: 200px;" />
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>From Time</span>
<div class="d-flex align-items-center">
<input class="form-control form-control-sm" id="fromTime" type="time"
style="width: 200px;" />
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>To Date</span>
<div class="d-flex align-items-center">
<input class="form-control form-control-sm" id="toDate" type="date"
style="width: 200px;" />
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>To Time</span>
<div class="d-flex align-items-center">
<input class="form-control form-control-sm" id="toTime" type="time"
style="width: 200px;" />
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center"
id="metadataFilter" hidden>
<span>Metadata</span>
<div class="d-flex align-items-center">
<select class="form-select form-select-sm" id="metadata"
style="width: 200px;"></select>
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Amount</span>
<div class="d-flex align-items-center">
<input class="form-control form-control-sm information" type="number" min="0"
id="amount" value="10" style="width: 120px;">
<button type="button" class="btn btn-outline-light btn-sm ms-2 text-nowrap"
id="allRuns">All Runs</button>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- Database Details Modal -->
<div class="modal fade" id="databaseModal" tabindex="-1" aria-labelledby="databaseModalLabel">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<h1 class="modal-title" id="databaseModalLabel">Database Summary</h1>
<div>
<button type="button" class="btn btn-outline-light btn-sm mt-auto ms-5"
data-bs-dismiss="modal" id="closeDatabaseSummary">Close</button>
</div>
</div>
<div class="modal-body">
<span id="stats"></span>
</div>
</div>
</div>
</div>
<!-- Settings Modal -->
<div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel"
aria-hidden="true">
<div class="modal-dialog modal-xl">
<div class="modal-content">
<div class="modal-header">
<h1 class="modal-title" id="settingsModalLabel">Settings</h1>
<button type="button" class="btn btn-outline-light btn-sm mt-auto ms-5" data-bs-dismiss="modal"
id="closeSettings">Close</button>
</div>
<div class="modal-body">
<ul class="nav nav-tabs" id="settingsTab" role="tablist">
<li class="nav-item" role="presentation">
<button class="nav-link active" id="general-tab" data-bs-toggle="tab"
data-bs-target="#general" type="button" role="tab" aria-controls="general"
aria-selected="true">Graphs</button>
</li>
<li class="nav-item" role="presentation">
<button class="nav-link" id="keywords-tab" data-bs-toggle="tab"
data-bs-target="#keywords" type="button" role="tab" aria-controls="keywords"
aria-selected="false">Keywords</button>
</li>
<li class="nav-item" role="presentation">
<button class="nav-link" id="overview-tab" data-bs-toggle="tab"
data-bs-target="#overview-settings" type="button" role="tab"
aria-controls="overview-settings" aria-selected="false">Overview</button>
</li>
<li class="nav-item" role="presentation">
<button class="nav-link" id="json-tab" data-bs-toggle="tab" data-bs-target="#json"
type="button" role="tab" aria-controls="json" aria-selected="false">JSON</button>
</li>
</ul>
<div class="tab-content pt-3" id="settingsTabContent">
<div class="tab-pane fade show active" id="general" role="tabpanel"
aria-labelledby="general-tab">
<p><i>Configure graph display settings and dashboard behavior.</i></p>
<div class="list-group">
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Unified Dashboard Sections</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="toggleUnified">
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Display Legends</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="toggleLegends">
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Display Axis Titles</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="toggleAxisTitles">
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Display Run Start/Alias Labels On Axes</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="toggleLabels">
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Display Alias Labels (Defaults to Run Start Labels)</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="toggleAliases">
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Display Milliseconds Run Start Labels</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="toggleMilliseconds">
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Display Drawing Animations</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="toggleAnimations">
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Animation Duration (Milliseconds)</span>
<div class="d-flex align-items-center">
<input class="form-control form-control-sm" type="number"
id="toggleAnimationDuration" style="width: 80px;">
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Bar Graph Edge Rounding (Pixels)</span>
<div class="d-flex align-items-center">
<select class="form-select form-select-sm" id="toggleBarRounding"
style="width: 80px;">
<option value="0">0</option>
<option value="2">2</option>
<option value="4">4</option>
<option value="6">6</option>
<option value="8">8</option>
</select>
</div>
</div>
</div>
</div>
<div class="tab-pane fade" id="overview-settings" role="tabpanel"
aria-labelledby="overview-tab">
<p><i>Configure overview page display options.</i></p>
<div class="list-group">
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Display bar with Latest Runs</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="switchLatestRuns" />
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Display bar with Total Stats</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="switchTotalStats" />
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Display bars with projects by Name</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="switchRunName" />
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Display bars with projects by Tag</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="switchRunTags" />
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Display "project_" prefix in tags on the overview page</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="togglePrefixes">
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Display Percentage Filters</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="switchPercentageFilters" />
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Display Version Filters</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="switchVersionFilters" />
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Display Sort Filters</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" role="switch"
id="switchSortFilters" />
</div>
</div>
</div>
</div>
<div class="tab-pane fade" id="json" role="tabpanel" aria-labelledby="json-tab">
<p><i>Press "Apply Settings JSON" or "Reset Settings JSON" to change your Settings JSON,
"Close" will not apply changes!</i></p>
<div class="row mb-3">
<div class="col-auto">
<button class="btn btn-outline-light btn-sm mt-auto" id="copySettings">Copy
Settings JSON</button>
</div>
<div class="col-auto">
<button class="btn btn-outline-light btn-sm mt-auto" id="resetSettings">Reset
Settings JSON</button>
</div>
<div class="col-auto">
<button class="btn btn-outline-light btn-sm mt-auto" id="applySettings">Apply
Settings JSON</button>
</div>
</div>
<div class="row mb-2">
<div class="col">
<label for="settingsTextArea" class="form-label">Current Settings JSON</label>
<textarea id="settingsTextArea" class="form-control" rows="20"></textarea>
</div>
</div>
</div>
<div class="tab-pane fade" id="keywords" role="tabpanel" aria-labelledby="keywords-tab">
<p><i>Enable or disable libraries used for the keyword graphs.</i></p>
<div id="keywordLibraryList" class="list-group"></div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- Confirmation Modal -->
<div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel">
<div class="modal-dialog">
<div class="modal-content mt-5">
<div class="modal-header">
<h5 class="modal-title" id="confirmModalLabel">Please Confirm</h5>
<div>
<button type="button" class="btn btn-outline-light btn-sm mt-auto ms-5"
data-bs-dismiss="modal" id="closeConfirm">Close</button>
</div>
</div>
<div class="modal-body" id="confirmModalMessage">
Are you sure you want to proceed?
</div>
<div class="modal-footer">
<button type="button" class="btn btn-outline-light btn-sm" id="confirmCancel">Cancel</button>
<button type="button" class="btn btn-outline-light btn-sm" id="confirmOk">Confirm</button>
</div>
</div>
</div>
</div>
</div>
<!-- Unified Section Filters Modal -->
<div class="modal fade" id="sectionFiltersModal" tabindex="-1" aria-labelledby="sectionFiltersModalLabel">
<div class="modal-dialog modal-xl">
<div class="modal-content">
<div class="modal-header">
<h1 class="modal-title" id="sectionFiltersModalLabel">Section Filters</h1>
<div>
<button type="button" class="btn btn-outline-light btn-sm mt-auto ms-5" data-bs-dismiss="modal"
id="closeSectionFilters">Close</button>
</div>
</div>
<div class="modal-body">
<div class="row g-3">
<div class="col-12">
<div class="card">
<div class="card-header">
<h6 class="mb-0" id="suiteSectionFiltersPlaceholder">Suite Filters</h6>
</div>
<div class="card-body" id="suiteSectionFiltersCardBody"></div>
</div>
</div>
<div class="col-12">
<div class="card">
<div class="card-header">
<h6 class="mb-0" id="testSectionFiltersPlaceholder">Test Filters</h6>
</div>
<div class="card-body" id="testSectionFiltersCardBody"></div>
</div>
</div>
<div class="col-12">
<div class="card">
<div class="card-header">
<h6 class="mb-0" id="keywordSectionFiltersPlaceholder">Keyword Filters</h6>
</div>
<div class="card-body" id="keywordSectionFiltersCardBody"></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script>// MERGED MODULES
// === common.js ===
// function to get a higher folder path based on the full_path or partial full_path provided
function get_next_folder_level(currentPath, fullPath) {
const fullParts = fullPath.split(".");
const currentParts = currentPath.split(".");
if (
currentParts.length < fullParts.length &&
fullParts.slice(0, currentParts.length).join(".") === currentPath
) {
return fullParts.slice(0, currentParts.length + 1).join(".");
}
return currentPath;
}
// helper to format seconds into d/h/m/s + 100ths of a second
function format_duration(seconds) {
if (seconds < 60) {
// keep up to 2 decimals for sub-minute values
const fixed = seconds.toFixed(2);
return `${fixed.replace(/\.?0+$/, "")}s`; // strip trailing zeros
}
const days = Math.floor(seconds / 86400);
const hours = Math.floor((seconds % 86400) / 3600);
const minutes = Math.floor((seconds % 3600) / 60);
const sec = Math.floor(seconds % 60);
let parts = [];
if (days > 0) parts.push(`${days}d`);
if (hours > 0) parts.push(`${hours}h`);
if (minutes > 0) parts.push(`${minutes}m`);
if (sec > 0 && days === 0) parts.push(`${sec}s`); // only show seconds if <1d
return parts.join(" ");
}
// returns run card duration class
function compare_to_average(duration, average, percent) {
const t = parseFloat(percent) / 100;
return duration < average * (1 - t) ? 'text-passed' :
duration > average * (1 + t) ? 'text-failed' : '';
}
// function to convert to camelcase
function space_to_camelcase(string) {
return string.replace(/(?:^\w|[A-Z]|\b\w)/g, function (word, index) {
return index === 0 ? word.toLowerCase() : word.toUpperCase();
}).replace(/\s+/g, "");
}
// function to convert to camelcase from underscores
function underscore_to_camelcase(str) {
return str.replace(/_(.)/g, (match, group) => group.toUpperCase());
}
// function to convert camelcose to underscores
function camelcase_to_underscore(str) {
return str
.replace(/([A-Z]+)/g, "_$1")     // Prefix all capital groups with _
.replace(/^_/, "")               // Remove leading underscore if it appears
.toLowerCase();                  // Convert everything to lowercase
}
// function to convert a date object to the desired string format
function format_date_to_string(date) {
const pad = (n) => n.toString().padStart(2, "0");
const year = date.getFullYear();
const month = pad(date.getMonth() + 1); // Months are 0-indexed
const day = pad(date.getDate());
const hours = pad(date.getHours());
const minutes = pad(date.getMinutes());
const seconds = pad(date.getSeconds());
return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;
}
// function to transform an output.xml path to a log.html path
function transform_file_path(filePath) {
const normalizedPath = filePath.replace(/\\/g, "/");
const pathSegments = normalizedPath.split("/");
const filename = pathSegments.pop();
const updatedFilename = filename.replace(/output/g, "log").replace(/\.xml$/i, ".html");
const updatedPath = [...pathSegments, updatedFilename].join("/");
return filePath.includes("\\") ? updatedPath.replace(/\//g, "\\") : updatedPath;
}
// function used to combine paths to open the correct log file, used in combination with a file server
function combine_paths(baseUrlStr, relativePath) {
const baseUrl = new URL(baseUrlStr);
const baseParts = baseUrl.pathname.split("/").filter(Boolean);
const relParts = relativePath.replaceAll("\\", "/").split("/").filter(Boolean);
// Find the first matching folder name from the relative path in the base path
let match = null;
for (let i = 0; i < relParts.length; i++) {
const folder = relParts[i];
const baseMatchIndex = baseParts.lastIndexOf(folder);
if (baseMatchIndex !== -1) {
match = { baseIndex: baseMatchIndex, relIndex: i };
break;
}
}
let combinedParts;
if (match) {
const baseSlice = baseParts.slice(0, match.baseIndex);
const relSlice = relParts.slice(match.relIndex);
combinedParts = [...baseSlice, ...relSlice];
} else {
combinedParts = relParts;
}
// Resolve "." and ".."
const resolvedParts = [];
for (const part of combinedParts) {
if (part === ".") continue;
if (part === "..") {
if (resolvedParts.length > 0) resolvedParts.pop();
} else {
resolvedParts.push(part);
}
}
return baseUrl.origin + "/" + resolvedParts.join("/");
}
// function to add an alert to the page
function add_alert(message, category, timeout = 5000) {
const alertHTML = `<div class="row alert alert-${category} alert-dismissible" role="alert">
<div class="col">${message}</div>
<div class="col-auto">
<span onclick="close_alert()" type="button" class="close" data-dismiss="alert" aria-label="Close">
<span aria-hidden="true">&times;</span>
</span>
</div>
</div>`
document.getElementById("alertContainer").innerHTML = alertHTML
setTimeout(() => {
close_alert()
}, timeout);
}
// function to close the alerts
function close_alert() {
document.getElementById("alertContainer").innerHTML = ""
}
// delay in milliseconds
function debounce(func, delay) {
let timeout;
return function (...args) {
clearTimeout(timeout);
timeout = setTimeout(() => {
func.apply(this, args);
}, delay);
};
}
// === graphmetadata.js ===
const graphMetadata = [
{
key: "runStatistics",
label: "Run Statistics",
defaultType: "percentages",
viewOptions: ["Percentages", "Line", "Amount"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="runStatisticsTitle">Statistics</h6>
<div class="graph-controls">
<a class="percentage-graph information" id="runStatisticsGraphPercentages"></a>
<a class="bar-graph information" id="runStatisticsGraphAmount"></a>
<a class="line-graph information" id="runStatisticsGraphLine"></a>
<a class="fullscreen-graph information" id="runStatisticsFullscreen"></a>
<a class="close-graph information" id="runStatisticsClose" hidden></a>
<a class="shown-graph information" id="runStatisticsShown" showGraphHidden></a>
<a class="hidden-graph information" id="runStatisticsHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="runStatisticsGraph"></canvas>
</div>`,
},
{
key: "runDonut",
label: "Run Donut",
defaultType: "donut",
viewOptions: ["Donut"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="runDonutTitle">Donut</h6>
<div class="graph-controls">
<a class="pie-graph information" id="runDonutGraphDonut"></a>
<a class="fullscreen-graph information" id="runDonutFullscreen"></a>
<a class="close-graph information" id="runDonutClose" hidden></a>
<a class="shown-graph information" id="runDonutShown" showGraphHidden></a>
<a class="hidden-graph information" id="runDonutHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body" style="height:90%;">
<div class="row w-100 h-100">
<div class="col-md-6 w-50 h-100">
<canvas id="runDonutGraph"></canvas>
</div>
<div class="col-md-6 w-50 h-100">
<canvas id="runDonutTotalGraph"></canvas>
</div>
</div>
</div>`,
},
{
key: "runDonutTotal",
label: "Run Donut Total",
defaultType: "donut",
viewOptions: ["Donut"],
hasFullscreenButton: false,
information: null,
},
{
key: "runStats",
label: "Run Stats",
defaultType: "stats",
viewOptions: ["Stats"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="runStatsTitle">Stats</h6>
<div class="graph-controls">
<a class="stats-graph information" id="runStatsGraphStats"></a>
<a class="fullscreen-graph information" id="runStatsFullscreen"></a>
<a class="close-graph information" id="runStatsClose" hidden></a>
<a class="shown-graph information" id="runStatsShown" showGraphHidden></a>
<a class="hidden-graph information" id="runStatsHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div class="w-100 h-100">
<div class="d-flex flex-column justify-content-between h-100">
<div class="row text-center mb-4">
<div class="col">
<div class="stat-label">Executed Runs</div>
<div class="stat-value blue-text" id="totalRuns"></div>
</div>
<div class="col">
<div class="stat-label">Executed Suites</div>
<div class="stat-value blue-text" id="totalSuites"></div>
</div>
<div class="col">
<div class="stat-label">Executed Tests</div>
<div class="stat-value blue-text" id="totalTests"></div>
</div>
<div class="col">
<div class="stat-label">Executed Keywords</div>
<div class="stat-value blue-text" id="totalKeywords"></div>
</div>
</div>
<div class="row text-center mb-4">
<div class="col">
<div class="stat-label">Unique Tests</div>
<div class="stat-value white-text" id="totalUniqueTests"></div>
</div>
<div class="col">
<div class="stat-label">Passed</div>
<div class="stat-value green-text" id="totalPassed"></div>
</div>
<div class="col">
<div class="stat-label">Failed</div>
<div class="stat-value red-text" id="totalFailed"></div>
</div>
<div class="col">
<div class="stat-label">Skipped</div>
<div class="stat-value yellow-text" id="totalSkipped"></div>
</div>
</div>
<div class="row text-center">
<div class="col">
<div class="stat-label">Total Run Time</div>
<div class="stat-value white-text" id="totalRunTime"></div>
</div>
<div class="col">
<div class="stat-label">Avg Run Time</div>
<div class="stat-value white-text" id="averageRunTime"></div>
</div>
<div class="col">
<div class="stat-label">Avg Test Time</div>
<div class="stat-value white-text" id="averageTestTime"></div>
</div>
<div class="col">
<div class="stat-label">Avg Run Pass Rate</div>
<div class="stat-value green-text" id="averagePassRate"></div>
</div>
</div>
</div>
</div>
</div>`,
},
{
key: "runDuration",
label: "Run Duration",
defaultType: "line",
viewOptions: ["Bar", "Line"],
hasFullscreenButton: true,
html: ` <div class="graph-header">
<h6 id="runDurationTitle">Duration</h6>
<div class="graph-controls">
<a class="bar-graph information" id="runDurationGraphBar"></a>
<a class="line-graph information" id="runDurationGraphLine"></a>
<a class="fullscreen-graph information" id="runDurationFullscreen"></a>
<a class="close-graph information" id="runDurationClose" hidden></a>
<a class="shown-graph information" id="runDurationShown" showGraphHidden></a>
<a class="hidden-graph information" id="runDurationHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="runDurationGraph"></canvas>
</div>`,
},
{
key: "runHeatmap",
label: "Run Heatmap",
defaultType: "heatmap",
viewOptions: ["Heatmap"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="runHeatmapTitle">Heatmap</h6>
<div class="graph-controls">
<div class="btn-group">
<label class="form-check-label" for="heatMapTestType">Status</label>
</div>
<div class="btn-group">
<select class="form-select form-select-sm" id="heatMapTestType">
<option value="All">All</option>
<option value="Passed">Passed</option>
<option value="Failed">Failed</option>
<option value="Skipped">Skipped</option>
</select>
</div>
<div class="btn-group">
<label class="form-check-label" for="heatMapHour">Hour</label>
</div>
<div class="btn-group">
<select class="form-select form-select-sm" id="heatMapHour">
<option value="All">All</option>
<option value="0">00:00</option>
<option value="1">01:00</option>
<option value="2">02:00</option>
<option value="3">03:00</option>
<option value="4">04:00</option>
<option value="5">05:00</option>
<option value="6">06:00</option>
<option value="7">07:00</option>
<option value="8">08:00</option>
<option value="9">09:00</option>
<option value="10">10:00</option>
<option value="11">11:00</option>
<option value="12">12:00</option>
<option value="13">13:00</option>
<option value="14">14:00</option>
<option value="15">15:00</option>
<option value="16">16:00</option>
<option value="17">17:00</option>
<option value="18">18:00</option>
<option value="19">19:00</option>
<option value="20">20:00</option>
<option value="21">21:00</option>
<option value="22">22:00</option>
<option value="23">23:00</option>
</select>
</div>
<a class="heatmap-graph information" id="runHeatmapGraphHeatmap"></a>
<a class="fullscreen-graph information" id="runHeatmapFullscreen"></a>
<a class="close-graph information" id="runHeatmapClose" hidden></a>
<a class="shown-graph information" id="runHeatmapShown" showGraphHidden></a>
<a class="hidden-graph information" id="runHeatmapHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="runHeatmapGraph"></canvas>
</div>`,
},
{
key: "suiteFolderDonut",
label: "Suite Folder Donut",
defaultType: "donut",
viewOptions: ["Donut"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="suiteFolderDonutTitle">Folders</h6>
<div class="graph-controls">
<div class="btn-group">
<label class="form-check-label" for="onlyFailedFolders">Only Failed</label>
</div>
<div class="btn-group form-switch">
<input class="form-check-input" type="checkbox" role="switch" id="onlyFailedFolders">
</div>
<button class="btn btn-outline-light btn-sm" id="suiteFolderDonutGoUp">Go Up</button>
<a class="pie-graph information" id="suiteFolderDonutGraphDonut"></a>
<a class="fullscreen-graph information" id="suiteFolderDonutFullscreen"></a>
<a class="close-graph information" id="suiteFolderDonutClose" hidden></a>
<a class="shown-graph information" id="suiteFolderDonutShown" showGraphHidden></a>
<a class="hidden-graph information" id="suiteFolderDonutHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div class="row w-100 h-100">
<div class="col-md-6 w-50 h-100">
<canvas id="suiteFolderDonutGraph" class="w-100 h-100"></canvas>
</div>
<div class="col-md-6 w-50 h-100">
<canvas id="suiteFolderFailDonutGraph" class="w-100 h-100"></canvas>
</div>
</div>
</div>`,
},
{
key: "suiteFolderFailDonut",
label: "Suite Folder Fail Donut",
defaultType: "donut",
viewOptions: ["Donut"],
hasFullscreenButton: false,
information: null,
},
{
key: "suiteStatistics",
label: "Suite Statistics",
defaultType: "percentages",
viewOptions: ["Percentages", "Line", "Amount"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="suiteStatisticsTitle">Statistics</h6>
<div class="graph-controls">
<a class="percentage-graph information" id="suiteStatisticsGraphPercentages"></a>
<a class="bar-graph information" id="suiteStatisticsGraphAmount"></a>
<a class="line-graph information" id="suiteStatisticsGraphLine"></a>
<a class="fullscreen-graph information" id="suiteStatisticsFullscreen"></a>
<a class="close-graph information" id="suiteStatisticsClose" hidden></a>
<a class="shown-graph information" id="suiteStatisticsShown" showGraphHidden></a>
<a class="hidden-graph information" id="suiteStatisticsHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="suiteStatisticsGraph"></canvas>
</div>`,
},
{
key: "suiteDuration",
label: "Suite Duration",
defaultType: "line",
viewOptions: ["Bar", "Line"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="suiteDurationTitle">Duration</h6>
<div class="graph-controls">
<a class="bar-graph information" id="suiteDurationGraphBar"></a>
<a class="line-graph information" id="suiteDurationGraphLine"></a>
<a class="fullscreen-graph information" id="suiteDurationFullscreen"></a>
<a class="close-graph information" id="suiteDurationClose" hidden></a>
<a class="shown-graph information" id="suiteDurationShown" showGraphHidden></a>
<a class="hidden-graph information" id="suiteDurationHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="suiteDurationGraph"></canvas>
</div>`,
},
{
key: "suiteMostFailed",
label: "Suite Most Failed",
defaultType: "bar",
viewOptions: ["Bar", "Timeline"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="suiteMostFailedTitle">Most Failed</h6>
<div class="graph-controls">
<a class="bar-graph information" id="suiteMostFailedGraphBar"></a>
<a class="timeline-graph information" id="suiteMostFailedGraphTimeline"></a>
<a class="fullscreen-graph information" id="suiteMostFailedFullscreen"></a>
<a class="close-graph information" id="suiteMostFailedClose" hidden></a>
<a class="shown-graph information" id="suiteMostFailedShown" showGraphHidden></a>
<a class="hidden-graph information" id="suiteMostFailedHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div id="suiteMostFailedVertical" class="w-100 vertical">
<canvas id="suiteMostFailedGraph"></canvas>
</div>
</div>`,
},
{
key: "suiteMostTimeConsuming",
label: "Suite Most Time Consuming",
defaultType: "timeline",
viewOptions: ["Bar", "Timeline"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="suiteMostTimeConsumingTitle">Most Time Consuming</h6>
<div class="graph-controls">
<div class="btn-group">
<label class="form-check-label" for="onlyLastRunSuite">Only Last Run</label>
</div>
<div class="btn-group form-switch">
<input class="form-check-input" type="checkbox" role="switch" id="onlyLastRunSuite">
</div>
<a class="bar-graph information" id="suiteMostTimeConsumingGraphBar"></a>
<a class="timeline-graph information" id="suiteMostTimeConsumingGraphTimeline"></a>
<a class="fullscreen-graph information" id="suiteMostTimeConsumingFullscreen"></a>
<a class="close-graph information" id="suiteMostTimeConsumingClose" hidden></a>
<a class="shown-graph information" id="suiteMostTimeConsumingShown" showGraphHidden></a>
<a class="hidden-graph information" id="suiteMostTimeConsumingHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div id="suiteMostTimeConsumingVertical" class="w-100 vertical">
<canvas id="suiteMostTimeConsumingGraph"></canvas>
</div
</div>`,
},
{
key: "testStatistics",
label: "Test Statistics",
defaultType: "timeline",
viewOptions: ["Timeline"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="testStatisticsTitle">Statistics</h6>
<div class="graph-controls">
<div class="btn-group">
<label class="form-check-label" for="testNoChanges">Status</label>
</div>
<div class="btn-group">
<select class="form-select form-select-sm" id="testNoChanges">
<option value="All">All</option>
<option value="Passed">Passed</option>
<option value="Failed">Failed</option>
<option value="Skipped">Skipped</option>
</select>
</div>
<div class="btn-group">
<label class="form-check-label" for="testOnlyChanges">Only Changes</label>
</div>
<div class="btn-group form-switch">
<input class="form-check-input" type="checkbox" role="switch" id="testOnlyChanges">
</div>
<a class="timeline-graph information" id="testStatisticsGraphTimeline"></a>
<a class="fullscreen-graph information" id="testStatisticsFullscreen"></a>
<a class="close-graph information" id="testStatisticsClose" hidden></a>
<a class="shown-graph information" id="testStatisticsShown" showGraphHidden></a>
<a class="hidden-graph information" id="testStatisticsHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div id="testStatisticsVertical" class="w-100 vertical">
<canvas id="testStatisticsGraph"></canvas>
</div>
</div>`,
},
{
key: "testDuration",
label: "Test Duration",
defaultType: "line",
viewOptions: ["Bar", "Line"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="testDurationTitle">Duration</h6>
<div class="graph-controls">
<a class="bar-graph information" id="testDurationGraphBar"></a>
<a class="line-graph information" id="testDurationGraphLine"></a>
<a class="fullscreen-graph information" id="testDurationFullscreen"></a>
<a class="close-graph information" id="testDurationClose" hidden></a>
<a class="shown-graph information" id="testDurationShown" showGraphHidden></a>
<a class="hidden-graph information" id="testDurationHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="testDurationGraph"></canvas>
</div>`,
},
{
key: "testDurationDeviation",
label: "Test Duration Deviation",
defaultType: "bar",
viewOptions: ["Bar"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="testDurationDeviationTitle">Duration Deviation</h6>
<div class="graph-controls">
<a class="boxplot-graph information" id="testDurationDeviationGraphBar"></a>
<a class="fullscreen-graph information" id="testDurationDeviationFullscreen"></a>
<a class="close-graph information" id="testDurationDeviationClose" hidden></a>
<a class="shown-graph information" id="testDurationDeviationShown" showGraphHidden></a>
<a class="hidden-graph information" id="testDurationDeviationHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="testDurationDeviationGraph"></canvas>
</div>`,
},
{
key: "testMessages",
label: "Test Messages",
defaultType: "timeline",
viewOptions: ["Bar", "Timeline"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="testMessagesTitle">Messages</h6>
<div class="graph-controls">
<a class="bar-graph information" id="testMessagesGraphBar"></a>
<a class="timeline-graph information" id="testMessagesGraphTimeline"></a>
<a class="fullscreen-graph information" id="testMessagesFullscreen"></a>
<a class="close-graph information" id="testMessagesClose" hidden></a>
<a class="shown-graph information" id="testMessagesShown" showGraphHidden></a>
<a class="hidden-graph information" id="testMessagesHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div id="testMessagesVertical" class="w-100 vertical">
<canvas id="testMessagesGraph"></canvas>
</div>
</div>`,
},
{
key: "testMostFlaky",
label: "Test Most Flaky",
defaultType: "timeline",
viewOptions: ["Bar", "Timeline"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="testMostFlakyTitle">Most Flaky</h6>
<div class="graph-controls">
<div class="btn-group">
<label class="form-check-label" for="ignoreSkips">Ignore Skips</label>
</div>
<div class="btn-group form-switch">
<input class="form-check-input" type="checkbox" role="switch" id="ignoreSkips">
</div>
<a class="bar-graph information" id="testMostFlakyGraphBar"></a>
<a class="timeline-graph information" id="testMostFlakyGraphTimeline"></a>
<a class="fullscreen-graph information" id="testMostFlakyFullscreen"></a>
<a class="close-graph information" id="testMostFlakyClose" hidden></a>
<a class="shown-graph information" id="testMostFlakyShown" showGraphHidden></a>
<a class="hidden-graph information" id="testMostFlakyHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div id="testMostFlakyVertical" class="w-100 vertical">
<canvas id="testMostFlakyGraph"></canvas>
</div>
</div>`,
},
{
key: "testRecentMostFlaky",
label: "Test Recent Most Flaky",
defaultType: "timeline",
viewOptions: ["Bar", "Timeline"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="testRecentMostFlakyTitle">Recent Most Flaky</h6>
<div class="graph-controls">
<div class="btn-group">
<label class="form-check-label" for="ignoreSkipsRecent">Ignore Skips</label>
</div>
<div class="btn-group form-switch">
<input class="form-check-input" type="checkbox" role="switch" id="ignoreSkipsRecent">
</div>
<a class="bar-graph information" id="testRecentMostFlakyGraphBar"></a>
<a class="timeline-graph information" id="testRecentMostFlakyGraphTimeline"></a>
<a class="fullscreen-graph information" id="testRecentMostFlakyFullscreen"></a>
<a class="close-graph information" id="testRecentMostFlakyClose" hidden></a>
<a class="shown-graph information" id="testRecentMostFlakyShown" showGraphHidden></a>
<a class="hidden-graph information" id="testRecentMostFlakyHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div id="testRecentMostFlakyVertical" class="w-100 vertical">
<canvas id="testRecentMostFlakyGraph"></canvas>
</div>
</div>`,
},
{
key: "testMostFailed",
label: "Test Most Failed",
defaultType: "timeline",
viewOptions: ["Bar", "Timeline"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="testMostFailedTitle">Most Failed</h6>
<div class="graph-controls">
<a class="bar-graph information" id="testMostFailedGraphBar"></a>
<a class="timeline-graph information" id="testMostFailedGraphTimeline"></a>
<a class="fullscreen-graph information" id="testMostFailedFullscreen"></a>
<a class="close-graph information" id="testMostFailedClose" hidden></a>
<a class="shown-graph information" id="testMostFailedShown" showGraphHidden></a>
<a class="hidden-graph information" id="testMostFailedHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div id="testMostFailedVertical" class="w-100 vertical">
<canvas id="testMostFailedGraph"></canvas>
</div>
</div>`,
},
{
key: "testRecentMostFailed",
label: "Test Recent Most Failed",
defaultType: "timeline",
viewOptions: ["Bar", "Timeline"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="testRecentMostFailedTitle">Recent Most Failed</h6>
<div class="graph-controls">
<a class="bar-graph information" id="testRecentMostFailedGraphBar"></a>
<a class="timeline-graph information" id="testRecentMostFailedGraphTimeline"></a>
<a class="fullscreen-graph information" id="testRecentMostFailedFullscreen"></a>
<a class="close-graph information" id="testRecentMostFailedClose" hidden></a>
<a class="shown-graph information" id="testRecentMostFailedShown" showGraphHidden></a>
<a class="hidden-graph information" id="testRecentMostFailedHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div id="testRecentMostFailedVertical" class="w-100 vertical">
<canvas id="testRecentMostFailedGraph"></canvas>
</div>
</div>`,
},
{
key: "testMostTimeConsuming",
label: "Test Most Time Consuming",
defaultType: "timeline",
viewOptions: ["Bar", "Timeline"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="testMostTimeConsumingTitle">Most Time Consuming</h6>
<div class="graph-controls">
<div class="btn-group">
<label class="form-check-label" for="onlyLastRunTest">Only Last Run</label>
</div>
<div class="btn-group form-switch">
<input class="form-check-input" type="checkbox" role="switch" id="onlyLastRunTest">
</div>
<a class="bar-graph information" id="testMostTimeConsumingGraphBar"></a>
<a class="timeline-graph information" id="testMostTimeConsumingGraphTimeline"></a>
<a class="fullscreen-graph information" id="testMostTimeConsumingFullscreen"></a>
<a class="close-graph information" id="testMostTimeConsumingClose" hidden></a>
<a class="shown-graph information" id="testMostTimeConsumingShown" showGraphHidden></a>
<a class="hidden-graph information" id="testMostTimeConsumingHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div id="testMostTimeConsumingVertical" class="w-100 vertical">
<canvas id="testMostTimeConsumingGraph"></canvas>
</div
</div>`,
},
{
key: "keywordStatistics",
label: "Keyword Statistics",
defaultType: "percentages",
viewOptions: ["Percentages", "Line", "Amount"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="keywordStatisticsTitle">Statistics</h6>
<div class="graph-controls">
<a class="percentage-graph information" id="keywordStatisticsGraphPercentages"></a>
<a class="bar-graph information" id="keywordStatisticsGraphAmount"></a>
<a class="line-graph information" id="keywordStatisticsGraphLine"></a>
<a class="fullscreen-graph information" id="keywordStatisticsFullscreen"></a>
<a class="close-graph information" id="keywordStatisticsClose" hidden></a>
<a class="shown-graph information" id="keywordStatisticsShown" showGraphHidden></a>
<a class="hidden-graph information" id="keywordStatisticsHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="keywordStatisticsGraph"></canvas>
</div>`,
},
{
key: "keywordTimesRun",
label: "Keyword Times Run",
defaultType: "line",
viewOptions: ["Bar", "Line"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="keywordTimesRunTitle">Times Run</h6>
<div class="graph-controls">
<a class="bar-graph information" id="keywordTimesRunGraphBar"></a>
<a class="line-graph information" id="keywordTimesRunGraphLine"></a>
<a class="fullscreen-graph information" id="keywordTimesRunFullscreen"></a>
<a class="close-graph information" id="keywordTimesRunClose" hidden></a>
<a class="shown-graph information" id="keywordTimesRunShown" showGraphHidden></a>
<a class="hidden-graph information" id="keywordTimesRunHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="keywordTimesRunGraph"></canvas>
</div>`,
},
{
key: "keywordTotalDuration",
label: "Keyword Total Duration",
defaultType: "line",
viewOptions: ["Bar", "Line"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="keywordTotalDurationTitle">Total Duration</h6>
<div class="graph-controls">
<a class="bar-graph information" id="keywordTotalDurationGraphBar"></a>
<a class="line-graph information" id="keywordTotalDurationGraphLine"></a>
<a class="fullscreen-graph information" id="keywordTotalDurationFullscreen"></a>
<a class="close-graph information" id="keywordTotalDurationClose" hidden></a>
<a class="shown-graph information" id="keywordTotalDurationShown" showGraphHidden></a>
<a class="hidden-graph information" id="keywordTotalDurationHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="keywordTotalDurationGraph"></canvas>
</div>`,
},
{
key: "keywordAverageDuration",
label: "Keyword Average Duration",
defaultType: "line",
viewOptions: ["Bar", "Line"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="keywordAverageDurationTitle">Average Duration</h6>
<div class="graph-controls">
<a class="bar-graph information" id="keywordAverageDurationGraphBar"></a>
<a class="line-graph information" id="keywordAverageDurationGraphLine"></a>
<a class="fullscreen-graph information" id="keywordAverageDurationFullscreen"></a>
<a class="close-graph information" id="keywordAverageDurationClose" hidden></a>
<a class="shown-graph information" id="keywordAverageDurationShown" showGraphHidden></a>
<a class="hidden-graph information" id="keywordAverageDurationHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="keywordAverageDurationGraph"></canvas>
</div>`,
},
{
key: "keywordMinDuration",
label: "Keyword Min Duration",
defaultType: "line",
viewOptions: ["Bar", "Line"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="keywordMinDurationTitle">Min Duration</h6>
<div class="graph-controls">
<a class="bar-graph information" id="keywordMinDurationGraphBar"></a>
<a class="line-graph information" id="keywordMinDurationGraphLine"></a>
<a class="fullscreen-graph information" id="keywordMinDurationFullscreen"></a>
<a class="close-graph information" id="keywordMinDurationClose" hidden></a>
<a class="shown-graph information" id="keywordMinDurationShown" showGraphHidden></a>
<a class="hidden-graph information" id="keywordMinDurationHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="keywordMinDurationGraph"></canvas>
</div>`,
},
{
key: "keywordMaxDuration",
label: "Keyword Max Duration",
defaultType: "line",
viewOptions: ["Bar", "Line"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="keywordMaxDurationTitle">Max Duration</h6>
<div class="graph-controls">
<a class="bar-graph information" id="keywordMaxDurationGraphBar"></a>
<a class="line-graph information" id="keywordMaxDurationGraphLine"></a>
<a class="fullscreen-graph information" id="keywordMaxDurationFullscreen"></a>
<a class="close-graph information" id="keywordMaxDurationClose" hidden></a>
<a class="shown-graph information" id="keywordMaxDurationShown" showGraphHidden></a>
<a class="hidden-graph information" id="keywordMaxDurationHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="keywordMaxDurationGraph"></canvas>
</div>>`,
},
{
key: "keywordMostFailed",
label: "Keyword Most Failed",
defaultType: "timeline",
viewOptions: ["Bar", "Timeline"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="keywordMostFailedTitle">Most Failed</h6>
<div class="graph-controls">
<a class="bar-graph information" id="keywordMostFailedGraphBar"></a>
<a class="timeline-graph information" id="keywordMostFailedGraphTimeline"></a>
<a class="fullscreen-graph information" id="keywordMostFailedFullscreen"></a>
<a class="close-graph information" id="keywordMostFailedClose" hidden></a>
<a class="shown-graph information" id="keywordMostFailedShown" showGraphHidden></a>
<a class="hidden-graph information" id="keywordMostFailedHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div id="keywordMostFailedVertical" class="w-100 vertical">
<canvas id="keywordMostFailedGraph"></canvas>
</div
</div>`,
},
{
key: "keywordMostTimeConsuming",
label: "Keyword Most Time Consuming",
defaultType: "timeline",
viewOptions: ["Bar", "Timeline"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="keywordMostTimeConsumingTitle">Most Time Consuming</h6>
<div class="graph-controls">
<div class="btn-group">
<label class="form-check-label" for="onlyLastRunKeyword">Only Last Run</label>
</div>
<div class="btn-group form-switch">
<input class="form-check-input" type="checkbox" role="switch" id="onlyLastRunKeyword">
</div>
<a class="bar-graph information" id="keywordMostTimeConsumingGraphBar"></a>
<a class="timeline-graph information" id="keywordMostTimeConsumingGraphTimeline"></a>
<a class="fullscreen-graph information" id="keywordMostTimeConsumingFullscreen"></a>
<a class="close-graph information" id="keywordMostTimeConsumingClose" hidden></a>
<a class="shown-graph information" id="keywordMostTimeConsumingShown" showGraphHidden></a>
<a class="hidden-graph information" id="keywordMostTimeConsumingHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div id="keywordMostTimeConsumingVertical" class="w-100 vertical">
<canvas id="keywordMostTimeConsumingGraph"></canvas>
</div
</div>`,
},
{
key: "keywordMostUsed",
label: "Keyword Most Used",
defaultType: "timeline",
viewOptions: ["Bar", "Timeline"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6 id="keywordMostUsedTitle">Most Used</h6>
<div class="graph-controls">
<div class="btn-group">
<label class="form-check-label" for="onlyLastRunKeywordMostUsed">Only Last Run</label>
</div>
<div class="btn-group form-switch">
<input class="form-check-input" type="checkbox" role="switch" id="onlyLastRunKeywordMostUsed">
</div>
<a class="bar-graph information" id="keywordMostUsedGraphBar"></a>
<a class="timeline-graph information" id="keywordMostUsedGraphTimeline"></a>
<a class="fullscreen-graph information" id="keywordMostUsedFullscreen"></a>
<a class="close-graph information" id="keywordMostUsedClose" hidden></a>
<a class="shown-graph information" id="keywordMostUsedShown" showGraphHidden></a>
<a class="hidden-graph information" id="keywordMostUsedHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div id="keywordMostUsedVertical" class="w-100 vertical">
<canvas id="keywordMostUsedGraph"></canvas>
</div
</div>`,
},
{
key: "compareStatistics",
label: "Compare Statistics",
defaultType: "bar",
viewOptions: ["Bar"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6>Statistics</h6>
<div class="graph-controls">
<a class="bar-graph information" id="compareStatisticsGraphBar"></a>
<a class="fullscreen-graph information" id="compareStatisticsFullscreen"></a>
<a class="close-graph information" id="compareStatisticsClose" hidden></a>
<a class="shown-graph information" id="compareStatisticsShown" showGraphHidden></a>
<a class="hidden-graph information" id="compareStatisticsHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="compareStatisticsGraph"></canvas>
</div>`,
},
{
key: "compareSuiteDuration",
label: "Compare Suite Duration",
defaultType: "radar",
viewOptions: ["Radar"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6>Suite Duration</h6>
<div class="graph-controls">
<a class="radar-graph information" id="compareSuiteDurationGraphRadar"></a>
<a class="fullscreen-graph information" id="compareSuiteDurationFullscreen"></a>
<a class="close-graph information" id="compareSuiteDurationClose" hidden></a>
<a class="shown-graph information" id="compareSuiteDurationShown" showGraphHidden></a>
<a class="hidden-graph information" id="compareSuiteDurationHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<canvas id="compareSuiteDurationGraph"></canvas>
</div>`,
},
{
key: "compareTests",
label: "Compare Tests",
defaultType: "timeline",
viewOptions: ["Timeline"],
hasFullscreenButton: true,
html: `<div class="graph-header">
<h6>Tests</h6>
<div class="graph-controls">
<div class="btn-group">
<label class="form-check-label" for="compareNoChanges">Status</label>
</div>
<div class="btn-group">
<select class="form-select form-select-sm" id="compareNoChanges">
<option value="All">All</option>
<option value="Passed">Passed</option>
<option value="Failed">Failed</option>
<option value="Skipped">Skipped</option>
</select>
</div>
<div class="btn-group">
<label class="form-check-label" for="compareOnlyChanges">Only Changes</label>
</div>
<div class="btn-group form-switch">
<input class="form-check-input" type="checkbox" role="switch" id="compareOnlyChanges">
</div>
<a class="timeline-graph information" id="compareTestsGraphTimeline"></a>
<a class="fullscreen-graph information" id="compareTestsFullscreen"></a>
<a class="close-graph information" id="compareTestsClose" hidden></a>
<a class="shown-graph information" id="compareTestsShown" showGraphHidden></a>
<a class="hidden-graph information" id="compareTestsHidden" hideGraphHidden></a>
</div>
</div>
<div class="graph-body">
<div id="compareTestsVertical" class="w-100 vertical">
<canvas id="compareTestsGraph"></canvas>
</div>
</div>`,
},
{
key: "runTable",
label: "Table Run",
defaultType: "table",
viewOptions: ["Table"],
hasFullscreenButton: false,
information: null,
html: `<div class="col table-section" id="runTableCanvas">
<div class="d-flex justify-content-between align-items-center mb-2">
<h6 class="mb-0">Run Table</h6>
<div>
<a class="move-up-table information" id="runTableMoveUp" moveUpHidden></a>
<a class="move-down-table information" id="runTableMoveDown" moveDownHidden></a>
<a class="shown-graph information" id="runTableShown" showGraphHidden></a>
<a class="hidden-graph information" id="runTableHidden" hideGraphHidden></a>
</div>
</div>
<table class="table table-striped" id="runTable"></table>
</div>`,
},
{
key: "suiteTable",
label: "Table Suite",
defaultType: "table",
viewOptions: ["Table"],
hasFullscreenButton: false,
information: null,
html: `<div class="col table-section" id="suiteTableCanvas">
<div class="d-flex justify-content-between align-items-center mb-2">
<h6 class="mb-0">Suite Table</h6>
<div>
<a class="move-up-table information" id="suiteTableMoveUp" moveUpHidden></a>
<a class="move-down-table information" id="suiteTableMoveDown" moveDownHidden></a>
<a class="shown-graph information" id="suiteTableShown" showGraphHidden></a>
<a class="hidden-graph information" id="suiteTableHidden" hideGraphHidden></a>
</div>
</div>
<table class="table table-striped" id="suiteTable"></table>
</div>`,
},
{
key: "testTable",
label: "Table Test",
defaultType: "table",
viewOptions: ["Table"],
hasFullscreenButton: false,
information: null,
html: `<div class="col table-section" id="testTableCanvas">
<div class="d-flex justify-content-between align-items-center mb-2">
<h6 class="mb-0">Test Table</h6>
<div>
<a class="move-up-table information" id="testTableMoveUp" moveUpHidden></a>
<a class="move-down-table information" id="testTableMoveDown" moveDownHidden></a>
<a class="shown-graph information" id="testTableShown" showGraphHidden></a>
<a class="hidden-graph information" id="testTableHidden" hideGraphHidden></a>
</div>
</div>
<table class="table table-striped" id="testTable"></table>
</div>`,
},
{
key: "keywordTable",
label: "Table Keyword",
defaultType: "table",
viewOptions: ["Table"],
hasFullscreenButton: false,
information: null,
html: `<div class="col table-section" id="keywordTableCanvas">
<div class="d-flex justify-content-between align-items-center mb-2">
<h6 class="mb-0">Keyword Table</h6>
<div>
<a class="move-up-table information" id="keywordTableMoveUp" moveUpHidden></a>
<a class="move-down-table information" id="keywordTableMoveDown" moveDownHidden></a>
<a class="shown-graph information" id="keywordTableShown" showGraphHidden></a>
<a class="hidden-graph information" id="keywordTableHidden" hideGraphHidden></a>
</div>
</div>
<table class="table table-striped" id="keywordTable"></table>
</div>`,
},
];
// === graphs.js ===
const tables = graphMetadata.filter(graph => graph.label.includes('Table'))
// hideGraphs (contains all graphs that can be hidden or shown)
const hideGraphs = graphMetadata
.map(graph => graph.label)
.filter(label => label !== "Run Donut Total" && label !== "Suite Folder Fail Donut");
// fullscreenButtons (contains all graphs that have a fullscreen/close button)
const fullscreenButtons = graphMetadata
.filter(graph => graph.hasFullscreenButton)
.map(graph => graph.key);
// defaultGraphTypes (stored in localstorge like percentage, bar etc.)
const defaultGraphTypes = {};
graphMetadata.forEach(graph => {
defaultGraphTypes[`${graph.key}GraphType`] = graph.defaultType;
});
// graphChangeButtons (adds the eventlisteners to the buttons ike percentage, bar, etc.)
const excludeKeys = ["runDonutTotal", "suiteFolderFailDonut"];
const graphChangeButtons = {};
graphMetadata.forEach(graph => {
if (!excludeKeys.includes(graph.key) && graph.type !== "Table") {
const snakeKey = camelcase_to_underscore(graph.key);
graphChangeButtons[snakeKey] = graph.viewOptions.join(',');
}
});
// graphVars
const graphVars = graphMetadata.map(g => g.defaultType === "table" ? g.key : `${g.key}Graph`);
graphVars.forEach(name => {
window[name] = undefined;
});
// Run compare filter Id's
const compareRunIds = ['compareRun1', 'compareRun2', 'compareRun3', 'compareRun4']
// customize view lists
const overviewSections = ["overviewLatestRuns", "overviewTotalStats",]
const dashboardSections = ["Run Statistics", "Suite Statistics", "Test Statistics", "Keyword Statistics",]
const unifiedSections = ["Dashboard Statistics"]
const compareSections = ["Compare Statistics"]
const tableSections = ["Table Statistics"]
const dashboardGraphs = graphMetadata
.filter(graph => !graph.label.startsWith("Compare")
&& !graph.label.startsWith("Table")
&& graph.label !== "Run Donut Total"
&& graph.label !== "Suite Folder Fail Donut")
.map(graph => graph.label);
const compareGraphs = graphMetadata
.filter(graph => graph.label.startsWith("Compare"))
.map(graph => graph.label)
const tableGraphs = graphMetadata
.filter(graph => graph.label.startsWith("Table"))
.map(graph => graph.label)
// === settings.js ===
// settings var
var settings = {
switch: {
runTags: false,
runName: true,
totalStats: true,
latestRuns: true,
percentageFilters: true,
versionFilters: true,
sortFilters: true,
suitePathsSuiteSection: false,
suitePathsTestSection: false,
suitePathsCompareSection: false,
useLibraryNames: false,
},
show: {
unified: false,
dateLabels: true,
legends: true,
aliases: false,
milliseconds: false,
axisTitles: true,
animation: true,
duration: 1500,
rounding: 6,
prefixes: true,
},
menu: {
overview: false,
dashboard: true,
compare: false,
tables: false,
},
graphTypes: defaultGraphTypes,
view: {
overview: {
sections: {
show: overviewSections,
hide: [],
},
graphs: {
show: [],
hide: [],
}
},
unified: {
sections: {
show: unifiedSections,
hide: [],
},
graphs: {
show: dashboardGraphs,
hide: [],
}
},
dashboard: {
sections: {
show: dashboardSections,
hide: [],
},
graphs: {
show: dashboardGraphs,
hide: [],
},
},
compare: {
sections: {
show: compareSections,
hide: [],
},
graphs: {
show: compareGraphs,
hide: [],
},
},
tables: {
sections: {
show: tableSections,
hide: [],
},
graphs: {
show: tableGraphs,
hide: [],
},
},
}
};
// === data.js ===
// prepare input data
const runs = decode_and_decompress("eJzFmFFv2jAQx78K4rlYd76zneR1e9/L9lQqlJZsZQWCEtNNmvbddw4ZgtKSpEkVhBB2TO4ffvnfnXP7Z1rst4vSp4WfJpOpBm1mQDOkCUCiMSFWDhxyNL2ZTL/v1+vFNt1kYenXrPRlmL2Y8LlP1zKDyDLapWWZLcMQXDhHulpXwzAon1a7XTUCGWXrdCdLF2U4G7JiHYfTVeIWfnWI8rrCqFbo0x/Vr3dFvryRj5/Zg19gOBIuM12v0upwvve7vZ+FcwEhzQA0Ek8rtf4xrPiUzOffyqwo53OJPFvO55/zh/0m23qZKfL73H8v5Lp/5cXTbJmWj/d5WsgiNZ+nXv4HWZOV+b54yGT5Idrxy8uw6vdmHUJvMp8uU5+G8Ld3lZj6Ap5FxyrfhgOgcPr3ZtKEzaDCyJC1Q2DTp9gQzrjpl9y0RDa6BbdKoiXrTrkts+cjNt0Km8FRsIn6wbFpeSsCRuDXse1XIvKC3XF2EN9pqzRTI79aq5G7o5/v5DUGQHl9BEDjFDsdRYOky3Pf4Rk3vOAGClr4rpbI7Ewv32njRsEm6gfHRglFipF0fOm7L/4xK06xHSfexAZX0iW/UuaImu1WS2SDtp/diKIxuEnYTtywDTdOAFSknXPxEHbjK9wu25NYOdPMrZYYuQh62Y0BxsAmYTti022wEaoYdd3eDVfmzgDG19MlkqpbxgZ+lVZiY/r5jmmUPkXCfgTAUEO0ZobBfdeATUfKWtMCW6WQwVE/241T5bhjlWtFzSTy5xFYfUhbPanhWXPSsCdAp+BQuK5SqxU6QuxnNqNHKXISthM2raANNo6VhZgPt31fbPw2tsutgJiNXAtsQSEiEPYym+F4FGqivhs1aqZmE7JhK2ftZY17R0vZrTVhZU1zjqwlGgfQz22yhx+Dm4QdnptLgJRDiuM33Pbe3sSeEoyuAyTZtVBzuqy1WrT9ipwDGoOfhP0IfhSrSADSEEXuxQ5cN6RLUszNO/BaItUS3+87R6PkSwnbhdtWEDRiixM0KtaW9QAdpTt73EVNz5mNYtu8kasVRtD3eVeMZgxqEnbw3oQgAauclgw0RG/SKUdKS+l0I7b/Cp3jfs9NCGCMIhfCdjbb3T89+bZn").sort((a, b) => new Date(a.run_start).getTime() - new Date(b.run_start).getTime());
const suites = decode_and_decompress("eJzVms9uG0cMh1/F0DkacEjOPz1DgR5S9FIUhoAqrVAlMaz1oSj67p3ROoU3K4e/3cgr1fDBktYS98N8JIejX/5ePT59uj9228dutblbMXFYk6y93BFt2G9EXaLkNa/e3a0+PB0O95+2H3ft0p92x+7o3n/cHg7r9vf6/a5rF315ffxK97nbHupLUv9+2B6Pu9+eH3zY7g+nB1QfHP/cPzz892h32D7UC++P7S3JiS/tnU7x3nf7/pPOBi0hZd+ubfe3Pey3p3f4/NQ9PHXr9h8kXtZE7EXbZfv2iaujXx/96p93d9/L5RyRcyw8v4Th/Usa/ts0vBMNCI3gKET2cRYNvgSNn3ePf61/2D7+vju7VF55+QujUl4yKoMVEw1G3FYCAik6JZ9yngVJEEjBO5+DxHgjKjGApcbMXlUIwhL8DJMsLDNN4gkw6k0qkldqqEEqjTSLBmSSReOSJuU0yDZDSDyCVFwIilCqzmX1JLMoASpx/XVC9SP0PKWnfbe7RZ/6wEVTKAib+jPZJ5DNQuXJluoUbwyaAyTVCAkgFYjkajWK1QUVhJQ6IgmBZ5GCxArJaeKcb6XdQ5yqMYf6XIC6Pe7X2USnLCyL1KgAdHunUDNLZizDfE0D0smi8YY1aphz/AhSdr6/JYtScRJzDFBfM6IEqCQbyU69cBknnR+7P3aPy++cssmlD7pGjbkkkie7ZHOZ6RK9pMF2vxcxGilSEKiTGdEAXLJpvJ1LecBIz+2c7G5PNkq1KCWheSsGMEk3RDWlpZTK/6Yo9TGHpKwIFiWaLJKNZZ5I5SULsT2ys0qNtG5qUtIEtXgjGIBHNoyLdneDup0MRq0k2SLVO2CnHFOExjQjSJBI4l3xrPwKpKtsmwJQl/rI1XvFdJLpcwgQzkLDCLvRq/HW9RLrk9h6+RoJJBWE5KIVapB9itHs1R1mgEiJS1ST8TxSkFmtJWZWpRspUcCYvA86eFGovdEZGyebywI+RWi4dwo1JU/YxmlEA/LJonE1lZgdRbsjDhtSR0wlYXl4xr4pbDg7ochBbkUluz71QYswdnwQePq+yeay0AzCYzRi8MWHWTQAlWwaF+330uuMxmPy4DwjS0bI+SKCVaURJEglLS5S0RhuRCWISwtaarMHVaXQp/aJKllcFlFJ1N4VnEItMfsMVaURDUgli8ZFVSoTGHF0RRBIodL0NVFDVWkECVAptvNhIY1x3Arf7DSvD7pKhx0YRImTVbK5LDDNYyfANO8UagyteZlFA1DJpnFRlQaHcfnbjOpeqUCMsiul+AwVpREjwKS0obob81LKK+nmCkMI7xTYL/WRK2uE0kzqz78n6QTCWeTwVoHyVOOt3U5sS34WEsApEMnVxnuc6vbSPrytt1GzD2WleYsHMkuKyxWV3MrOyZ6Tn2IuRF6hEpVkerdnY1lApzaDsI8lUztMYSYSqNsb0YB0smhcdAaRB4ysnBNdxihFpzE9f8FhMiVApbKpu7jCUfnN5nmD1WM0OFi71wcdRD00hHjenU9yyeYyz6XBMlG727MXSY20OlfXSIIWyQgGoJIN45IqxQEjsVRilyBI2cX6ZIHyzQiSbZJQq3uJo7+ZGYRt0nPQofbxyNdDhGjyxgngstA39MzzkxZqcpQ4JCSvjGnYKgE0rnd8Gx3ZjUy7g/ZFjszQoGYMqar0678n1nwY").sort((a, b) => new Date(a.run_start).getTime() - new Date(b.run_start).getTime());
const tests = decode_and_decompress("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").sort((a, b) => new Date(a.run_start).getTime() - new Date(b.run_start).getTime());
const keywords = decode_and_decompress("eJzlnd1v2zYUxf8VI88NwUtSouTHfXTo29D0bRgCYdEKo4kd2PLaYdj/PikOhsUxWZI+vKw8IC/+SBz/wHt0eC5J/fLX1Xa/vt0N3Xa4Wi6ulFTVtdTXpBdSLhUttRFWWjLN1ZvF1bp76Kd3/dQPi/fd+m7zsPhhv+2G1WY9vfzY7Xb93fgGIjM+/L1b3T89lOOD3afV4+O/j4bVQ7+7HT95+mvju6ffHjZDd387vXK7m56WQtLTp3Z/9NvuY//ypemFh9X6xJPdl5dPSpqenr5ld7/qnp7d7IfH/XA9fVmpSV9LqUg//RObz+t+O73lU//n5832bnf195tFEqPvN+vx/x4WHzaLd+uh/zj+2RyIlCqG6Lv96n54t04mdHPf9494KGSE1JWLCil9igu95kIHWNxU3u/Xi7ebbf76GjmRu8BImXBOhUrsPzJ0M3TDfpelwmQ7XxH6eYSx+PFL/9v+9RiSFoOnnEafLUDj933BRGKI6NkSeTt+eTcRm0ykni2Rm1FjPvS74aTCvCyhVDyk3Apz+NKBgHRujalIUFPpui5iBi3fIKoIy4jLDJZDFFFnJwllMoNKCmuM0+Q0KtDkVIFmEEyFzQyOnBr36KEm1DQnckKKUEYrqJwj6duXIK8VVBjj45x1ffvyE2EFVQSRcgPmXCJ+K0jpg2TG1yivF1QePuFDhtyThwxeMFlk1PgjtDR0GOHsXpBtDKlDwIZDxGUF+Sahx4iCy8xBKJcVrERTOdNSdXA/OIuDpsJnBSvRulPlKE6FSozHDEIKrCkCiCMW5It84PqTKRYsd9E6l0iuWJDPHcPHyIxiwTa3xlRWGKuapkyPmK89oyqLZcTlBcshiqizk4Ry9YhbUWt379NGxIJluPB1iVth3SVGNiIYlKpIkTG5QYQdpDKEOKJBvi4xXIIi7CBFEGGcoIOJfCUapORBwhcNwgdJRDRIiUOG3HY5xg9SUDSYLjJ6qRthSKu2TDQIaUIECbE+WAgcIyY/yNhJP0YUXGcOQrn8oBatp02sQv1g4JpBNBXONYOeS3nU2sq08YOUoYxukHHhMpyQ1w2CojDIhDRJo88WoAg3aCKI8C3jRhPJ1iieLxK/G/TxCR8ypNx5Mr5TnK4yZimf1hZZ2xaxg3x9CCMlltHltYqPEQUXmoNQvnhQe+wguFOMhsKZDRp3fcVgKlRgTGaQb7oFJ+Q1gyA8fNd5uPxk6hTPl0g2M8i3tBQ+SLxm0ED4kGflP94MnqMymkRLyqgiZlAxmkGdurTSwYjLDJZDFFFoJwnlMoNKWONUZKKIbLAMFz4/qEQDAhWU7cBrjGkXyYxViMEPcl7q0QqUqVXMt04OTcTvB9v/4xgJt4Nt4oAhzbly8ByNmXrpShkji7hBxmlWcjfdwegCo8HUFRkOQrl2kTRCuctLHQ4PAGaDYCpsXnDkpN3BVxSnQiXGZAbLVdjZhDjMIKNXRgvQ/M0gmEguM8iYr6PHCIMZVO61KBmiwWSNqZbTJUPWqtIlzCBm2WDQIKpUai/dwejyjho8RhRcZw5CuaLBWtSeU1NMHWhygqNBNBe+aLAW1n0tJxPaK04mhRSinL3iGcuQzw4SaBsJnx2ES1CeE2b4NhWjgfjdYHoFQYgE7cuHDxGfG/RVUMzxMiA3GBQNniMxphW1bE1dFXGDfLPyyrRYRlxusBihiDI7CShnMui8fGdIvNBceLPBgqCQMnQZm0jghLxecHZ9YrgCzf7gaTSRTGYQs9EozAyix4jXDEJK6HnazWUGkzWmXup6OoOnrstsIeGbY9W6xjLiMoN8WnyMKLjOHITy3YVEafdiuAMwZOCF5sIXDZrx0z17iuEhKrzImDrFfKc4wQldVqcYLkGZ7CBfpxhNJNs2khkPEo5tJNrNJ+qImcwqY5dSC0u6bYukg3zRlz1M6XCIuPwgn/QcIwquMwehXOlgK6zbD6r6ZHWdE3qhufClg61o3Pm7qmPOZgzaRgIvsvmcP11GhLxusJ6bG4QL0OzdIJqI3w02yUT4Qgv4GPGawRqBh9cLnqMxerxgjIh0mXWDfJm71akBqoPR5a0bPEYUUWcnCeUyg1pI47Y4EnxXOjQVPiuoBbnTdyVjDp8uU2JMnWJGt4MmxHD4NGZRZVCTCy5As78XCZrIV6JBNYcZA3qQRBw+ncrn+bbB59vBvCLTLmm6fVVtVJktxXxusD2oGo7R5W0pPkYUXGcOQrlaxaM9cW8pJg0+fBpNha9RXAnyNIo1/PBpeIld3JZiOCGPG7SgG9PxpT5w/Zl9Mogm4jeDOvnOdHyJBXyMeLzgywpKpkMm+ngZeUKGZej9jpJFRsulrIVVNZXZRcInxPp5+oJjxHUrErZZ1ytEoZXmIpTLDVqhPW6wQt+aDs6Fzw9aYTx+sEKng/giY0oH2RYO4gldVKsYL0GZDOF8ieRqFbNZZPwYYWgVezp88CNmPBrz6z84+Sim").sort((a, b) => new Date(a.run_start).getTime() - new Date(b.run_start).getTime());
function decode_and_decompress(base64Str) {
if (base64Str.includes("placeholder_")) return [];
const compressedData = Uint8Array.from(atob(base64Str), c => c.charCodeAt(0));
const decompressedData = pako.inflate(compressedData, { to: 'string' });
return JSON.parse(decompressedData);
}
var unified_dashboard_title = 'Robot Framework Dashboard - 2026-02-11 22:57:34'
var message_config = '"placeholder_message_config"'
var force_json_config = false
var json_config = "placeholder_json_config"
var filteredAmount = 20
var filteredAmountDefault = 0
const use_logs = true
const server = false
if (!message_config.includes("placeholder_message_config")) { message_config = JSON.parse(message_config) }
// === database.js ===
// set default values
function setup_database_stats() {
document.getElementById("stats").innerHTML = `<div class="list-group">
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Runs</span>
<div class="d-flex align-items-center">
<span >${runs.length}</span>
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Suites</span>
<div class="d-flex align-items-center">
<span >${suites.length}</span>
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Tests</span>
<div class="d-flex align-items-center">
<span >${tests.length}</span>
</div>
</div>
<div class="list-group-item d-flex justify-content-between align-items-center">
<span>Keywords</span>
<div class="d-flex align-items-center">
<span >${keywords.length}</span>
</div>
</div>
</div>`
window.onbeforeprint = () => {
return new Promise(res => setTimeout(res, settings.show.duration + 500)); // allow rendering time
};
}
// === globals.js ===
// UI defaults
const CARDS_PER_ROW = 3;
const DEFAULT_DURATION_PERCENTAGE = 20;
// populated by prepare_overview()
const projects_by_tag = {};
const projects_by_name = {};
const latestRunByProjectTag = {};
const latestRunByProjectName = {};
const versionsByProject = {};
let areGroupedProjectsPrepared = false;
// filtered data vars
var filteredRuns;
var filteredSuites;
var filteredTests;
var filteredKeywords;
// vars to keep track of grids
var gridUnified = null
var gridRun = null
var gridSuite = null
var gridTest = null
var gridKeyword = null
var gridCompare = null
var gridEditMode = false; // used to check how the graphs should be shown when rendered
// global vars for switching between overview and dashboard
var selectedRunSetting = '';
var selectedTagSetting = '';
// some global vars for various functionalities
var showingRunTags = false; // used to keep track if the runtags popup is showing and determine if it should be closed when clicked outside
let showingProjectVersionDialogue = false; // used to keep track if the projectVersion popup is showing and determine if it should be closed when clicked outside
var inFullscreen = false; // used to keep track if fullscreen view is being shown
var inFullscreenGraph = ""; // used to keep track of the graph being shown in fullscreen
var heatMapHourAll = true; // used to keep track of the heatmap setting, is it set to an hour or all
var previousFolder = ""; // used to update the suite folder donut to the previous folder with the button
var lastScrollY = 0; // used to scroll back to where you were previously
var ignoreSkips = false; // test most flaky graph
var ignoreSkipsRecent = false; // test recent most flaky graph
var onlyFailedFolders = false; // suite folder donut
// === svg.js ===
// menu
const rflogoPathD = 'M5,10.2c0-1.9,1.5-3.4,3.4-3.4c1.9,0,3.4,1.5,3.4,3.4c0,0.7-0.6,1.2-1.2,1.2c-0.7,0-1.2-0.6-1.2-1.2 c0-0.5-0.4-0.9-0.9-0.9c-0.5,0-0.9,0.4-0.9,0.9c0,0.7-0.6,1.2-1.2,1.2S5,10.9,5,10.2 M19,15.9c0,0.7-0.6,1.2-1.2,1.2H6.4 c-0.7,0-1.2-0.6-1.2-1.2c0-0.7,0.6-1.2,1.2-1.2h11.5C18.5,14.7,19,15.3,19,15.9 M13.7,10.9c-0.4-0.6-0.2-1.3,0.3-1.7l2.9-1.9 c0.6-0.4,1.3-0.2,1.7,0.3c0.4,0.6,0.2,1.3-0.3,1.7l-2.9,1.9c-0.2,0.1-0.5,0.2-0.7,0.2C14.3,11.5,13.9,11.3,13.7,10.9 M21.5,18.5 c0,0.2-0.1,0.5-0.3,0.6l-2.1,2.1c-0.2,0.2-0.4,0.3-0.6,0.3h-13c-0.2,0-0.5-0.1-0.6-0.3l-2.1-2.1c-0.2-0.2-0.3-0.4-0.3-0.6v-13 c0-0.2,0.1-0.5,0.3-0.6l2.1-2.1C5,2.6,5.2,2.5,5.5,2.5h13c0.2,0,0.5,0.1,0.6,0.3l2.1,2.1c0.2,0.2,0.3,0.4,0.3,0.6V18.5z M23.3,3.4 l-2.8-2.8C20.1,0.2,19.6,0,19,0H5C4.4,0,3.9,0.2,3.4,0.7L0.7,3.4C0.2,3.9,0,4.4,0,5v14c0,0.6,0.2,1.2,0.7,1.6l2.8,2.8 C3.9,23.8,4.4,24,5,24h14c0.6,0,1.2-0.2,1.6-0.7l2.8-2.8c0.4-0.4,0.7-1,0.7-1.6V5C24,4.4,23.8,3.9,23.3,3.4';
const christmasHat = `<g xmlns="http://www.w3.org/2000/svg" transform="translate(-13,-29) scale(0.0675)"><g><path d="M203.088,436.81c0,0,121.289-218.016,234.086-213.367c52.271,2.155,80.667,54.58,189.018,187.39c23.68,29.025-73.957,0.844-99.832-13.711c0,0,29.678,71.323,17.55,81.504C521.256,497.642,188.534,470.771,203.088,436.81z"/><path style="fill:#FF0000;" d="M214.989,431.339c0,0,117.473-205.47,219.314-200.9c52.262,2.345,64.324,43.946,183.472,178.285c24.855,28.025-78.717-9.817-104.593-24.371c0,0,33.153,80.05,21.025,90.231C511.553,493.6,200.434,465.299,214.989,431.339z"/><path d="M533.792,394.077c-23.439-14.475-31.93-28.12-58.411-67.336c0,0,39.928,64.925,46.647,80.675c6.72,15.75-3.59-15.027,0.655-15.027S536.182,395.552,533.792,394.077z"/><path style="fill:#BA0808;" d="M475.381,326.74c0,0,89.802,82.597,124.642,83.022c0,0-3.117,4.079-3.667,5.668c-0.417,1.205-47.293-3.131-79.019-31.988C504.21,371.502,484.852,340.772,475.381,326.74z"/><path d="M460.028,332.805c0,0,24.459,12.937,54.497,60.486C525.396,410.499,497.02,347.764,460.028,332.805z"/></g><g><path d="M556.344,493.337c-0.495-6.746-0.266-11.763-17.707-26.07c-18.356-9.955-32.218-13.512-43.255-14.848c-3.575-0.434,18.395-3.008,15.385-3.985c-48.516-15.768-95.818-12.332-95.818-12.332l17.284-10.511c-28.604-7.885-89.09-6.377-115.904-2.459l19.429-9.216c-38.666-1.87-84.902,3.968-107.871,15.085c-2.298,1.113,1.069-6.262,1.069-6.262l-16.761,4.67c-18.54,6.636-26.521,14.498-27.281,33.827l-0.266,30.723c-0.547,9.507,11.494,17.166,27.468,13.458c0,0,38.529-8.045,155.166,0.17c110.185,7.761,149.423,34.535,149.423,34.535c18.271,8.081,28.894-1.364,35.337-19.125L556.344,493.337z"/><path style="fill:#FFFFFF;" d="M528.875,536.977c-2.731,0-5.852-0.742-9.28-2.21c-2.893-1.851-11.365-8.533-40.852-16.815c-2.076-0.583,6.857-1.092,6.857-1.092c-17.284-2.426-53.776-10.246-77.602-13.34c-5.678-0.736,14.43-2.911,8.247-3.54c-7.153-0.728-40.685,0.111-48.537-0.442c-31.446-2.215-80.92,0.038-99.922-9.867c-2.489-1.299,9.185,6.156,6.465,6.156c-24.087,0-40.298,0.677-50.245,1.937c-9.512,1.206-13.959-3.055-13.428-2.129c2.351,4.093,0.586,3.785,0.298,3.846l-0.132,0.029c-2.276,0.528-4.515,0.796-6.654,0.796c-4.98,0-9.374-1.504-11.753-4.024c-1.165-1.234-1.715-2.57-1.634-3.974l0.01-0.297l0.264-30.629c0.62-15.518,8.887-24.977,30.719-31.243l-3.841,7.378c23.752-10.107,37.347-19.779,95.009-19.811c-0.869,1.197-13.039,11.432-13.039,11.432s49.021-6.378,118.219,0.293c-0.345,0.98-10.979,8.693-10.979,8.693s27.088,1.414,30.727,1.414c18.132,0,40.48,4.552,55.287,9.047c-5.862,0.758-8.545,3.736-8.667,4.067c0,0,7.456,1.579,11.333,2.54c13.608,3.373,54.946,16.387,54.501,37.883l-4.103,26.396c-6.491,17.443-14.537,17.506-17.238,17.506C528.894,536.977,528.884,536.977,528.875,536.977z"/><path style="fill:#E5E5E5;" d="M542.38,527.54c-5.555,9.388-11.281,9.437-13.476,9.437h-0.037c-2.729,0-5.845-0.752-9.277-2.22c-2.888-1.843-11.365-8.525-40.85-16.809c-2.074-0.583,6.865-1.092,6.865-1.092c-17.296-2.426-53.779-10.249-77.613-13.342c-5.676-0.74,14.434-2.912,8.248-3.542c-7.156-0.728-40.68,0.109-48.528-0.437c-31.45-2.22-80.923,0.036-99.929-9.873c-2.486-1.298,9.182,6.162,6.465,6.162c-24.088,0-40.292,0.679-50.238,1.94c-9.521,1.201-13.96-3.056-13.438-2.134c2.352,4.087,0.594,3.784,0.303,3.845l-0.134,0.036c-2.28,0.521-4.512,0.788-6.646,0.788c-4.985,0-9.376-1.503-11.753-4.026c-1.176-1.226-1.722-2.571-1.637-3.967l0.012-0.303l0.255-30.625c0.437-10.71,4.499-18.521,14.143-24.404c-3.026,2.767-10.606,9.034-9.595,20.151l0.379,24.713c0.48,3.79,2.412,6.049,3.714,7.126c3.942,3.259,9.092,2.444,14.077,2.444c2.134,0,4.378-0.267,6.646-0.788l0.134-0.036c0.291-0.061,2.049,0.242-0.291-3.845c-0.534-0.922,3.917,3.335,13.427,2.134c9.945-1.261,26.149-1.939,50.238-1.939c2.729,0-8.951-7.46-6.465-6.162c19.006,9.909,68.479,7.653,99.929,9.873c7.847,0.546,44.637,3.15,51.793,3.878c6.174,0.63-11.942,4.718-6.267,5.458c23.833,3.093,57.562,7.328,74.845,9.754c0,0-9.502,1.843-7.429,2.426c29.498,8.284,36.048,11.863,38.947,13.706c3.42,1.468,6.537,2.22,9.278,2.22c0,0,0.013,0,0.024,0C539.335,528.086,540.705,528.086,542.38,527.54z"/></g><g><path d="M605.095,470.902c-5.431-4.046-36.53-20.999-24.974-55.587c3.386-10.132,13.794-22.931,20.729-28.708c0.821-0.684-5.086,14.443-0.303,10.613c15.538-12.441,39.81-23.444,55.914-19.135c1.367,0.365-11.646,7.652-10.29,8.143c1.887,0.684,26.38,8.642,35.988,29.462c0,0-5.607-4.122-8.688,0.633c-1.833,2.83,6.723,11.623,2.112,34.466c-2.233,11.067-12.674,28.604-23.56,30.354c0,0,0.815-9.578-1.444-8.624c-26.237,11.081-51.548,7.984-53.772,4.549C596.574,476.708,608.104,473.147,605.095,470.902z"/><path style="fill:#FFFFFF;" d="M608.822,474.511c1.157,0.009,3.928-1.543,2.063-3.746c-2.355-2.785-36.885-17.396-24.813-53.705c1.679-5.053,8.041-16.109,7.688-13.904c-0.38,2.38,0.308,9.543,4.334,4.48c9.447-11.881,31.036-24.835,44.784-24.465c0.031,0.349-4.611,2.905-3.173,5.335c1.016,1.72,22.305,4.403,37.19,22.769c-4.756-2.631-8.386,1.096-8.268,2.578c0.654,8.168,6.186,15.753,2.858,32.772c-1.774,9.07-7.771,21.953-13.181,25.268c-0.985-1.39,0.256-6.953-4.077-10.876c-0.884-0.799-0.013,1.927-4.843,5.596C631.506,480.192,609.646,475.228,608.822,474.511z"/><path style="fill:#E5E5E5;" d="M672.589,437.448c-0.045,2.924-0.372,6.208-1.128,9.938c-1.849,9.047-7.934,21.897-13.366,25.168c-0.973-1.401-1.251-7.848-3.069-10.749c-0.253-0.404-0.952,1.77-5.817,5.396c-17.977,13.455-39.798,8.336-40.615,7.615c1.151,0.008,3.939-1.524,2.087-3.733c-2.212-2.66-33.201-16.129-25.995-48.304c0.181,25.242,25.101,36.229,27.073,38.608c1.852,2.209-0.927,3.741-2.09,3.731c0.821,0.724,22.651,5.841,40.627-7.613c4.854-3.627,3.983-6.344,4.879-5.557c2.53,2.225,4.097,9.3,3.999,10.91c5.433-3.273,11.528-16.122,13.366-25.17C672.551,437.606,672.576,437.521,672.589,437.448z"/></g></g>`;
const clownHat = `<g xmlns="http://www.w3.org/2000/svg" transform="translate(-6,-20) scale(0.015)"><path style="fill:#FBCC3A;" d="M2117.958,1334.677c-0.74-32.318-18.502-63.285-49.123-79.436 c-5.967-3.148-12.123-5.574-18.368-7.312c5.521-4.344,9.648-10.537,11.345-17.922l-6.277-1.437l6.278,1.432 c0.543-2.379,0.807-4.77,0.807-7.129c0.002-2.377-0.267-4.716-0.779-6.98c43.716-30.336,41.563-124.974,43.724-168.636 c3.703-74.508-5.924-150.785-45.271-215.633c-33.808-55.704-85.455-96.596-136.811-135.202 c-17.903-13.459-38.543-20.51-59.343-27.98c-15.841-5.699-31.748-11.688-46.527-20.897c-35.515-22.153-66.715-50.552-103.132-71.319 c-8.307-4.733-16.84-9.016-25.565-12.847c-49.778-21.927-105.901-29.365-159.607-20.801c-13.203,2.108-26.221,5.143-39.056,8.866 c-13.313-73.566-39.229-142.51-83.146-195.624c-33.344-40.311-78.6-70.6-128.481-86.394c-8.736-2.778-17.618-5.107-26.626-6.967 c-39.496-8.141-80.072-7.457-119.796-14.026c-16.525-2.741-31.817-8.523-46.878-14.472c-19.769-7.822-39.154-15.845-60.635-17.5 c-61.619-4.752-124.899-8.037-184.709,10.708c-69.62,21.83-125.041,70.799-169.709,126.959 c-24.406,30.67-79.658,90.946-77.089,139.226c-4.322,2.762-8.042,6.606-10.699,11.402c-2.701,4.87-3.996,10.191-3.993,15.411 c-0.005,5.746,1.563,11.409,4.504,16.347c-27.028-2.593-54.94,6.735-75.227,27.823c-2.36,2.453-4.556,5.005-6.591,7.64 c-0.872-1.009-1.896-1.955-3.144-2.832c-3.129-2.198-9.071-0.859-10.617,2.784c-2.875,6.77-1.14,14.216,1.519,21.236 c-5.752,14.005-7.896,29.122-6.46,43.944c-12.7,9.421-25.484,18.723-38.911,27.098c-14.216,8.858-29.516,14.619-44.754,20.101 c-20.008,7.186-39.861,13.969-57.082,26.915c-49.4,37.136-99.079,76.471-131.6,130.052 c-37.848,62.378-47.109,135.751-43.547,207.421c2.027,40.963,0.108,128.571,39.027,159.942c-1.31,3.486-2.03,7.263-2.031,11.207 c0.003,11.754,6.363,22.014,15.83,27.537c-24.901,10.825-44.799,32.506-52.331,60.781c-0.886,3.327-1.577,6.66-2.082,9.988 c-1.301-0.488-2.708-0.856-4.286-1.067c-3.819-0.51-8.239,3.985-7.76,7.76c0.931,7.334,6.016,12.794,11.603,17.548 c4.205,36.493,30.166,68.443,67.813,78.472c49.15,13.093,99.608-16.137,112.701-65.287c1.61-6.045,2.579-12.11,2.951-18.122 c3.012-3.127,5.733-6.441,8.062-9.935c5.95-8.923-2.055-17.66-10.627-17.922c-7.866-31.449-32.131-57.787-65.673-66.723 c-6.52-1.737-13.063-2.728-19.54-3.028c4.416-5.468,7.062-12.425,7.064-20.003c-0.002-10.051-4.656-19.011-11.924-24.85 c3.328-22.687-0.603-55.547,4.803-76.519c5.823-22.579,14.588-44.537,26.265-64.794c17.035-29.516,40.233-55.316,69.377-73.807 c20.782-13.194,45.437-22.672,69.687-18.676c21.464,3.499,39.768,16.973,57.144,30.012c19.637,14.743,34.998,31.499,47.697,49.741 c36.486,52.343,50.733,116.642,79.598,178.461c5.847,12.515,12.41,25.273,21.937,35.073c2.428,8.839,5.537,17.57,8.489,26.21 c4.926,14.489,9.53,29.3,12.686,44.304c4.121,19.191,5.924,38.67,3.252,58.054c-1.063,7.631-2.802,15.101-4.959,22.442 c-5.667,19.48-14.233,38.22-20.833,57.507c-1.674,4.959-3.251,10.046-4.604,15.229c-4.01,15.4-6.085,31.395-4.008,46.672 c-0.544,4.202-0.822,8.435-0.822,12.695c0,123.966,233.666,224.459,521.908,224.459c280.01,0,508.515-94.836,521.339-213.898 c0.192-0.721,0.382-1.447,0.564-2.182c11.591-46.688-12.139-94.342-15.713-142.318c-0.482-6.44-0.611-12.88-0.225-19.319 c1.319-22.442,8.598-43.822,15.649-65.298c2.608-7.921,5.185-15.842,7.438-23.86c10.583-37.81,3.517-72.255-13.496-102.708 c21.677-53.932,37.232-107.917,68.844-153.27c13.202-18.965,29.172-36.384,49.586-51.711c18.063-13.556,37.093-27.562,59.406-31.2 c25.211-4.153,50.841,5.699,72.447,19.416c30.297,19.222,54.415,46.044,72.125,76.729c12.137,21.058,21.25,43.887,27.304,67.359 c5.399,20.945,1.838,53.296,4.618,76.72c-6.44,4.364-11.303,11.083-13.184,19.266c-0.548,2.38-0.81,4.776-0.81,7.132 c-0.002,8.932,3.769,17.316,10.097,23.243c-26.689,4.996-50.924,21.689-64.575,47.571c-1.584,3.002-2.983,6.053-4.206,9.137 c-1.085-0.706-2.288-1.31-3.661-1.781c-5.273-1.809-9.258,2.853-9.823,7.483c-0.75,6.152,3.229,12.593,7.566,18.203 c-3.938,36.434,14.231,73.249,48.617,91.386c44.989,23.73,100.697,6.497,124.428-38.492c2.902-5.503,5.19-11.166,6.891-16.911 c3.564-2.339,6.877-4.906,9.836-7.706C2131.764,1347.755,2126.261,1336.804,2117.958,1334.677z M254.42,1219.846 c-0.003,5.263-2.114,9.967-5.56,13.423c-3.454,3.445-8.159,5.557-13.421,5.56c-5.263-0.003-9.968-2.115-13.423-5.56 c-3.446-3.456-5.556-8.16-5.56-13.423c0.001-1.472,0.167-2.9,0.481-4.269c19.346,8.662,29.296,4.614,34.435-6.05 C253.302,1212.495,254.418,1216.023,254.42,1219.846z M694.449,468.344c19.285-13.105,40.372-23.801,62.519-31.295 c32.286-10.908,66.745-14.953,100.841-9.584c24.318,3.823,49.088,12.993,64.655,32.012c13.802,16.806,18.645,39.012,23.076,60.279 c0.156,0.751,0.308,1.502,0.456,2.25c0.325,1.651,0.627,3.294,0.91,4.932c0.177,1.029,0.346,2.056,0.508,3.08 c0.1,0.632,0.196,1.264,0.29,1.894c0.279,1.885,0.533,3.762,0.758,5.632c0.226,1.87,0.427,3.732,0.6,5.587 c0.174,1.856,0.323,3.704,0.446,5.546c0.123,1.842,0.222,3.677,0.297,5.506c0.044,1.09,0.081,2.177,0.109,3.262 c0.05,1.995,0.074,3.982,0.069,5.962v0.046c-0.023,8.497-0.548,16.868-1.491,25.149c-2.83,24.846-8.273,48.991-15.138,72.779 c-39.773-29.666-83.146-54.473-129.056-73.366c-26.884-11.057-54.696-20.194-83.408-24.778c-27.076-4.318-54.791-4.405-81.93-0.475 c-0.32-0.317-0.643-0.633-0.969-0.946c-4.862-4.678-10.106-8.715-15.628-12.115c6.511-2.647,12.2-7.454,15.869-14.077l-5.633-3.119 l5.635,3.117c2.569-4.641,3.865-9.689,3.979-14.671C659.148,505.821,677.189,480.075,694.449,468.344z M593.751,510.998 c0.629-1.138,1.359-2.184,2.17-3.137c0.496,1.46,1.058,2.904,1.698,4.329c8.247,18.362,17.681,22.771,27.819,19.533 c-3.655,4.796-9.293,7.446-15.102,7.454c-3.112-0.002-6.241-0.759-9.172-2.38c-6.268-3.466-9.784-9.935-9.793-16.63 C591.372,517.055,592.128,513.929,593.751,510.998z M2012.249,1218.668c0.662-2.914,1.968-5.513,3.729-7.69 c4.575,12.867,14.039,18.987,33.749,11.24c0.008,0.218,0.014,0.437,0.014,0.656c0,1.399-0.156,2.823-0.484,4.264 c-2.003,8.792-9.851,14.745-18.481,14.747c-1.4,0-2.824-0.155-4.258-0.484c-8.795-1.999-14.751-9.85-14.754-18.481 C2011.765,1221.517,2011.92,1220.097,2012.249,1218.668z"/><path style="fill:#009C47;" d="M2060.295,831.625c-33.808-55.704-85.455-96.596-136.811-135.202 c-17.903-13.459-38.543-20.51-59.343-27.98c-15.841-5.699-31.748-11.688-46.527-20.897c-35.515-22.153-66.715-50.552-103.132-71.319 c-8.307-4.733-16.84-9.016-25.565-12.847c-49.778-21.927-105.901-29.365-159.607-20.801c-13.203,2.108-26.221,5.143-39.056,8.866 c-13.313-73.566-39.229-142.51-83.146-195.624c-33.344-40.311-78.6-70.6-128.481-86.394c-8.736-2.778-17.618-5.107-26.626-6.967 c-39.496-8.141-80.072-7.457-119.796-14.026c-16.525-2.741-31.817-8.523-46.878-14.472c-19.769-7.822-39.154-15.845-60.635-17.5 c-61.619-4.752-124.899-8.037-184.709,10.708c-69.62,21.83-125.041,70.799-169.709,126.959 c-24.406,30.67-79.658,90.946-77.089,139.226c0.265,4.978,1.146,9.829,2.738,14.507c0.496,1.46,1.058,2.904,1.698,4.329 c8.247,18.362,17.681,22.771,27.819,19.533c1.108-0.354,2.225-0.799,3.348-1.327c0,0,0.001-0.001,0.003-0.001 c4.37-2.054,8.856-5.362,13.423-9.444c16.936-15.131,34.977-40.877,52.237-52.608c19.285-13.105,40.372-23.801,62.519-31.295 c32.286-10.908,66.745-14.953,100.841-9.584c24.318,3.823,49.088,12.993,64.655,32.012c13.802,16.806,18.645,39.012,23.076,60.279 c0.156,0.751,0.308,1.502,0.456,2.25c0.325,1.651,0.627,3.294,0.91,4.932c0.177,1.029,0.346,2.056,0.508,3.08 c0.1,0.632,0.196,1.264,0.29,1.894c0.279,1.885,0.533,3.762,0.758,5.632c0.226,1.87,0.427,3.732,0.6,5.587 c0.174,1.856,0.323,3.704,0.446,5.546c0.123,1.842,0.222,3.677,0.297,5.506c0.044,1.09,0.081,2.177,0.109,3.262 c0.05,1.995,0.074,3.982,0.069,5.962v0.046c-0.023,8.497-0.548,16.868-1.491,25.149c-2.83,24.846-8.273,48.991-15.138,72.779 c-23.966,83.043-65.283,161.725-73.455,250.571c-3.159,34.345-3.527,69.198,2.834,103.096c2.994,15.954,6.807,30.036,11.575,42.482 c-5.013,1.452-10.019,2.921-15.019,4.41c-76.373,22.699-226.291,60.146-231.732,159.543c-0.602,11.186,1.353,22.176,4.326,33.004 c2.428,8.839,5.537,17.57,8.489,26.21c4.926,14.489,9.53,29.3,12.686,44.304c4.121,19.191,5.924,38.67,3.252,58.054 c-1.063,7.631-2.802,15.101-4.959,22.442c-5.667,19.48-14.233,38.22-20.833,57.507c-1.674,4.959-3.251,10.046-4.604,15.229 c-4.01,15.4-6.085,31.395-4.008,46.672c-0.544,4.202-0.822,8.435-0.822,12.695c0,123.966,233.666,224.459,521.908,224.459 c280.01,0,508.515-94.836,521.339-213.898c0.192-0.721,0.382-1.447,0.564-2.182c11.591-46.688-12.139-94.342-15.713-142.318 c-0.482-6.44-0.611-12.88-0.225-19.319c1.319-22.442,8.598-43.822,15.649-65.298c2.608-7.921,5.185-15.842,7.438-23.86 c10.583-37.81,3.517-72.255-13.496-102.708c21.677-53.932,37.232-107.917,68.844-153.27c13.202-18.965,29.172-36.384,49.586-51.711 c18.063-13.556,37.093-27.562,59.406-31.2c25.211-4.153,50.841,5.699,72.447,19.416c30.297,19.222,54.415,46.044,72.125,76.729 c12.137,21.058,21.25,43.887,27.304,67.359c5.399,20.945,1.838,53.296,4.618,76.72c0.638,5.371,1.609,10.271,3.098,14.457 c4.575,12.867,14.039,18.987,33.749,11.24c1.289-0.507,2.621-1.073,4-1.699c2.867-1.308,5.569-2.857,8.115-4.624 c43.716-30.336,41.563-124.974,43.724-168.636C2109.269,972.751,2099.641,896.473,2060.295,831.625z"/><path style="fill:#EB600C;" d="M1664.607,1319.046c2.608-7.921,5.185-15.842,7.438-23.86c10.583-37.81,3.517-72.255-13.496-102.708 c-25.638-45.896-73.867-82.726-118.326-108.353c-32.703-18.866-67.329-34.096-103.12-46.039 c-67.071-22.382-138.237-33.214-208.529-34.746c-29.43-0.644-58.809,0.283-88.095,2.539c-15.912,1.227-31.796,2.848-47.645,4.822 c-73.833,9.196-146.915,26.092-218.527,46.831c-5.013,1.452-10.019,2.921-15.019,4.41 c-76.373,22.699-226.291,60.146-231.732,159.543c-0.602,11.186,1.353,22.176,4.326,33.004c2.428,8.839,5.537,17.57,8.489,26.21 c4.926,14.489,9.53,29.3,12.686,44.304c4.121,19.191,5.924,38.67,3.252,58.054c-1.063,7.631-2.802,15.101-4.959,22.442 c-5.667,19.48-14.233,38.22-20.833,57.507c-1.674,4.959-3.251,10.046-4.604,15.229c-4.01,15.4-6.085,31.395-4.008,46.672 c-0.544,4.202-0.822,8.435-0.822,12.695c0,123.966,233.666,224.459,521.908,224.459c280.01,0,508.515-94.836,521.339-213.898 c0.192-0.721,0.382-1.447,0.564-2.182c11.591-46.688-12.139-94.342-15.713-142.318c-0.482-6.44-0.611-12.88-0.225-19.319 C1650.278,1361.902,1657.556,1340.522,1664.607,1319.046z"/></g>`;
const leprechaunHat = `<g xmlns="http://www.w3.org/2000/svg" transform="translate(0,-19) scale(0.047)"><path style="fill:#533672;" d="M413.752,365.714l-56.264-22.505l13.297,125.746c11.936-4.416,23.668-9.539,35.13-15.38  L413.752,365.714z"/><path style="fill:#8C3B5C;" d="M98.249,365.714l7.836,87.86c82.449,42.021,178.846,47.144,264.7,15.38l13.223-148.251  L98.249,365.714z"/><path style="fill:#10744A;" d="M256,0l123.994,365.714h33.758L441.67,52.698C386.447,18.378,322.641,0,256,0z"/><path style="fill:#169B62;" d="M256,0C189.36,0,125.553,18.378,70.33,52.698l27.919,313.016h281.745l27.918-313.016  C362.73,18.378,310.524,0,256,0z"/><polygon style="fill:#FFAB58;" points="171.604,343.208 171.604,483.867 216.615,483.867 216.615,388.219 317.89,388.219   295.384,343.208 "/><rect x="295.384" y="343.208" style="fill:#FF883E;" width="45.011" height="140.659"/><g><circle style="fill:#10744A;" cx="168.791" cy="94.895" r="8.44"/><circle style="fill:#10744A;" cx="135.033" cy="128.653" r="8.44"/><path style="fill:#10744A;" d="M505.408,376.864c-8.789-8.787-23.04-8.787-31.828,0c-59.987,59.988-138.783,89.981-217.579,89.981   l-22.505,22.627L256.001,512c94.215,0,182.788-36.688,249.409-103.308C514.198,399.903,514.198,385.653,505.408,376.864z"/></g><path style="fill:#169B62;" d="M38.42,376.864c-8.79-8.787-23.04-8.787-31.828,0c-8.79,8.79-8.79,23.04,0,31.828  C73.212,475.311,161.786,511.999,256,511.999v-45.154C177.204,466.845,98.408,436.851,38.42,376.864z"/></g>`;
const easterBunnyEars = `<g xmlns="http://www.w3.org/2000/svg" transform="translate(-3,-18) scale(0.069)"><g><path d="M183.2155,269.1867a46.3523,46.3523,0,0,1-1.952,14.4632c-1.5937,5.1315-4.9377,8.1776-10.1118,9.5561-10.0838,2.6863-18.04-.6126-26.0491-11.2805-11.8-15.7175-23.4658-31.536-35.27-47.25-2.8321-3.77-6.2042-7.1126-8.541-11.2864-1.5534-2.7746-3.5611-2.6338-6.0135-.68a291.428,291.428,0,0,1-37.29,25.5829c-15.5762,8.868-31.8823,15.4048-50.3738,13.7965-1.6612-.1445-3.4132.1194-4.8922-.862-2.2766-1.51-3.8812-3.5674-1.6566-6.0319,11.164-12.3683,15.43-28.2023,21.8754-42.9469,7.4427-17.0258,14.0557-34.4691,24.8012-49.8512a115.5191,115.5191,0,0,1,23.54-24.7681c6.2212-4.8815,12.233-10.107,19.47-13.5943,14.8751-7.168,28.9936-7.2647,43.036,2.6885,13.87,9.8311,21.2333,24.1087,28.2777,38.669a211.4753,211.4753,0,0,1,14.6237,38.882c2.4713,9.5056,3.1984,19.2272,4.2811,28.87C182.3115,245.0911,182.5184,257.1664,183.2155,269.1867ZM147.6323,162.9805c-3.1672,2.645-4.2871,6.7982-6.786,10.0187q-14.8508,19.1384-30.6418,37.493c-2.289,2.6544-2.3237,4.73-.2381,7.6244,11.4813,15.9317,22.6917,32.0585,34.1712,47.9915,3.8162,5.2967,7.1017,11.0324,11.99,15.5161,3.271,3,6.9191,4.4118,11.31,2.8046,4.522-1.6553,5.7757-5.5238,6.4311-9.7264a21.73,21.73,0,0,0,.0912-3.6527,339.6916,339.6916,0,0,0-5.3245-56.7287,150.8328,150.8328,0,0,0-17.3794-47.8125C150.4336,165.0673,149.7009,163.5079,147.6323,162.9805Z" style="fill: #999"/><path d="M346.0331,41.94a520.68,520.68,0,0,1-5.7693,83.1422,407.59,407.59,0,0,1-24.887,92.8634,474.1515,474.1515,0,0,1-33.2114,68.1223c-.8575,1.433-1.5386,2.9725-2.2875,4.47-3.53,7.0573-9.3877,10.5-17.0918,9.7035a210.1215,210.1215,0,0,1-21.55-3.7527,6.207,6.207,0,0,1-4.9652-5.887c-.0717-.7579-.0817-1.523-.0922-2.2851-.2588-18.8994-.7434-37.7993-.7088-56.6982.0385-21.0419,1.2562-42.0831,4.7477-62.8209a330.808,330.808,0,0,1,13.7366-52.5195c7.3015-21.24,16.0625-41.8364,27.2478-61.32,9.8872-17.222,20.7641-33.7423,36.159-46.7621a55.51,55.51,0,0,1,8.9378-6.3244c8.109-4.4823,16.0452-.6116,18.1608,8.4071C347.1158,21.6036,345.5467,33.0686,346.0331,41.94ZM246.1178,243.2282c.1322,8.5338-.0846,17.0534.9287,25.576,1.1957,10.0555,11.7484,15.4545,20.8008,10.8152,6.3156-3.2367,8.7983-9.1146,11.74-14.6939A427.2294,427.2294,0,0,0,306.253,202.38c8.2356-24.3351,13.0933-49.3466,16.7231-74.65,2.0944-14.6,3.8852-29.2578,5.24-43.9425.78-8.4571,1.4576-17.0054.55-25.5335-.5638-5.2985-3.1714-9.3652-8.2906-11.04-4.8939-1.6009-9.1275.8371-12.43,4.0712A122.316,122.316,0,0,0,294.6065,66.219c-18.6279,25.5168-31.9724,53.6014-39.03,84.4415C248.6115,181.0963,246.385,212.0782,246.1178,243.2282Z" style="fill: #999"/><path d="M162.3641,272.5337c-3.9386-3.2739-6.6457-7.69-9.6029-11.7383-9.95-13.6208-19.5547-27.4935-29.4094-41.185-2.3558-3.2728-3.0075-5.9932.1118-9.2507,7.0583-7.3711,13.176-15.5462,19.4777-23.5586,1.101-1.4,2.0394-3.3495,4.204-3.0234,2.2122.3331,2.26,2.542,2.9927,4.175,8.2929,18.4861,10.1218,38.2622,12.0448,58.09.7058,7.2779.0754,14.6226,1.5022,21.8408C163.9608,269.2786,164.2922,270.9267,162.3641,272.5337Z" style="fill: #ff97ba"/><path d="M256.3362,246.7363c.7841-12.7771.0038-25.688,1.32-38.3505,2.6863-25.85,5.5879-51.6929,14.4671-76.5218,9.0235-25.2319,21.35-48.3534,39.0381-68.5179,1.5873-1.8094,3.2555-5.0683,6.0909-3.6322,2.4117,1.2216,1.8817,4.466,1.69,7.0913q-2.11,28.9334-6.0141,57.6773c-3.213,23.6949-7.3219,47.15-14.711,70.05a427.0771,427.0771,0,0,1-30.6638,72.03c-1.2847,2.3789-2.7566,5.5167-5.956,4.801-3.3907-.7587-4.1709-4.07-4.3282-7.2932C256.9874,258.294,255.8212,252.5624,256.3362,246.7363Z" style="fill: #ff97ba"/></g></g>`;
const heartSunglasses = `<g xmlns="http://www.w3.org/2000/svg" transform="translate(0,-5) scale(0.4)"><g id="heart-glasses-color"><path fill="#F16061" d="M45.7534,34.3359c0-3.623,2.9385-6.5605,6.5645-6.5605c3.625,0,6.5634,2.9375,6.5634,6.5605 c0,1.8994-0.8213,3.5948-2.1093,4.7969l0.0156,0.0039L45.7534,50.1719l-11.04-11.0352c0.0068-0.0039,0.0107-0.0039,0.0136-0.0068 c-1.2861-1.2041-2.0996-2.8946-2.0996-4.794c0-3.623,2.9336-6.5605,6.5616-6.5605C42.813,27.7754,45.7534,30.7129,45.7534,34.3359 z"/><path fill="#F16061" d="M14.2495,34.3359c0-3.623-2.938-6.5605-6.5635-6.5605c-3.626,0-6.5635,2.9375-6.5635,6.5605 c0,1.8994,0.8204,3.5948,2.1094,4.7969l-0.0185,0.0039l11.0361,11.0352l11.04-11.0352c-0.0063-0.0039-0.0102-0.0039-0.0146-0.0068 c1.2871-1.2041,2.1016-2.8946,2.1016-4.794c0-3.623-2.9341-6.5605-6.5635-6.5605C17.1894,27.7754,14.2495,30.7129,14.2495,34.3359 z"/></g><g id="heart-glasses-line"><g><path fill="#393939" d="M45.7534,51.2246c-0.2695,0-0.5391-0.1025-0.7451-0.3086L33.9692,39.8809 c-0.0371-0.0352-0.0693-0.0743-0.0996-0.1143c-1.4814-1.4551-2.2949-3.376-2.2949-5.4307c0-4.1982,3.416-7.6132,7.6143-7.6132 c2.7919,0,5.2382,1.5087,6.5644,3.7539c1.3252-2.2452,3.7715-3.7539,6.5645-3.7539c4.1992,0,7.6152,3.415,7.6152,7.6132 c0,2.0547-0.8154,3.9766-2.3047,5.4336c-0.0283,0.0391-0.0615,0.0762-0.0957,0.1114L46.4975,50.916 C46.2915,51.1221,46.022,51.2246,45.7534,51.2246L45.7534,51.2246z M35.5845,38.5185l10.1689,10.1651l10.1641-10.1641 c0.039-0.0556,0.0849-0.1084,0.1357-0.1562c1.1436-1.0694,1.7754-2.499,1.7754-4.0274c0-3.0381-2.4727-5.5078-5.5107-5.5078 c-3.0401,0-5.5127,2.4697-5.5127,5.5078c0,0.5801-0.4717,1.0518-1.0518,1.0518c-0.581,0-1.0527-0.4717-1.0527-1.0518 c0-3.0381-2.4727-5.5078-5.5117-5.5078c-3.0381,0-5.5098,2.4697-5.5098,5.5078c0,1.5293,0.6279,2.959,1.7676,4.0254 C35.4985,38.4092,35.5444,38.4619,35.5845,38.5185L35.5845,38.5185z"/></g><g><path fill="#393939" d="M14.2495,51.2246c-0.2695,0-0.5391-0.1025-0.7446-0.3086L2.4687,39.8809 c-0.0366-0.0362-0.0698-0.0752-0.1005-0.1182c-1.4844-1.4541-2.2984-3.3731-2.2984-5.4268c0-4.1982,3.417-7.6132,7.6162-7.6132 c2.7915,0,5.2373,1.5087,6.5635,3.7539c1.3257-2.2452,3.7715-3.7539,6.5635-3.7539c4.1987,0,7.6157,3.415,7.6157,7.6132 c0,2.0547-0.814,3.9756-2.2964,5.4307c-0.0298,0.04-0.0635,0.0791-0.0986,0.1143L14.9936,50.916 C14.7881,51.1221,14.5185,51.2246,14.2495,51.2246L14.2495,51.2246z M4.0913,38.5254l10.1582,10.1582L24.418,38.5185 c0.041-0.0566,0.0864-0.1093,0.1377-0.1572c1.1401-1.0664,1.768-2.4961,1.768-4.0254c0-3.0381-2.4721-5.5078-5.5107-5.5078 c-3.0391,0-5.5113,2.4697-5.5113,5.5078c0,0.5801-0.4707,1.0518-1.0522,1.0518c-0.582,0-1.0527-0.4717-1.0527-1.0518 c0-3.0381-2.4722-5.5078-5.5108-5.5078c-3.039,0-5.5112,2.4697-5.5112,5.5078c0,1.5293,0.6313,2.959,1.7744,4.0274 C4.0024,38.4131,4.0498,38.4678,4.0913,38.5254L4.0913,38.5254z"/></g><g><path fill="#393939" d="M32.8345,34.5019h-4.6172c-0.5821,0-1.0528-0.4716-1.0528-1.0527c0-0.582,0.4707-1.0527,1.0528-1.0527 h4.6172c0.582,0,1.0527,0.4707,1.0527,1.0527C33.8872,34.0303,33.4165,34.5019,32.8345,34.5019L32.8345,34.5019z"/></g><g><path fill="#393939" d="M1.0522,33.4365C0.4707,33.4365,0,32.9639,0,32.3838V7.5254C0,3.3755,3.3774,0,7.5308,0 C8.1123,0,8.583,0.4707,8.583,1.0522c0,0.5811-0.4707,1.0528-1.0522,1.0528c-2.9917,0-5.4258,2.4311-5.4258,5.4204v24.8584 C2.105,32.9639,1.6343,33.4365,1.0522,33.4365L1.0522,33.4365z"/></g><g><path fill="#393939" d="M58.9468,35.166c-0.5821,0-1.0528-0.4717-1.0528-1.0527V7.5254c0-2.9893-2.4326-5.4204-5.4238-5.4204 c-0.5811,0-1.0518-0.4717-1.0518-1.0528C51.4184,0.4707,51.8891,0,52.4702,0c4.1514,0,7.5293,3.3755,7.5293,7.5254v26.5879 C59.9995,34.6943,59.5288,35.166,58.9468,35.166L58.9468,35.166z"/></g></g></g>`;
const pumpkin = `<g xmlns="http://www.w3.org/2000/svg" transform="translate(-5,-23) scale(0.32)"><linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="53.3169" y1="89.6995" x2="53.3169" y2="17.4988"><stop offset="0" style="stop-color:#F6921E"/><stop offset="0.3442" style="stop-color:#F7951D"/><stop offset="0.5983" style="stop-color:#F89E1A"/><stop offset="0.8228" style="stop-color:#FBAE14"/><stop offset="1" style="stop-color:#FFC10E"/></linearGradient><path fill="url(#SVGID_1_)" d="M64.9,33c-1,0-1.9,0.1-2.8,0.2c-2.7-1.6-5.8-2.5-9.1-2.5c-3.3,0-6.3-0.1-9,1.4 C43.2,32,42.5,33,41.8,33C29,33,18.7,43.6,18.7,56.8S29,80.6,41.8,80.6c0.5,0,0.9,0,1.4,0c2.8,1.8,6.2,2.9,9.8,2.9 c3.6,0,3-1.1,5.9-2.9c0.7,0.1,5.4,0.1,6.1,0.1C77.6,80.6,88,69.9,88,56.8S77.6,33,64.9,33z"/><path fill="#8BC53F" d="M50.2,29.7c0.4,0,0.7,0,1.1,0c0.4-8.5,5.7-9.8,7.7-11.3c0.7-0.5,1.1-1.5,0.7-2.3c-0.3-0.5-0.7-0.8-1.2-0.9 c-0.6-0.2-1.3,0.1-1.8,0.5c-8.4,5.8-7.7,12-7.6,14.1C49.4,29.7,49.8,29.7,50.2,29.7z"/><path fill="#231F20" d="M48.8,32.2c3.2,0,6.2,0.8,8.8,2.3c0.9-0.1,1.8-0.2,2.7-0.2c12.3,0,22.3,10,22.3,22.2 c0,12.3-10,22.3-22.3,22.3c-0.7,0-1.4,0-2-0.1c-2.8,1.7-6,2.7-9.5,2.7c-3.4,0-6.7-1-9.4-2.7c-0.4,0-0.9,0-1.3,0 c-12.3,0-22.3-10-22.3-22.3c0-12.3,10-22.2,22.3-22.2c0.7,0,1.4,0,2.1,0.1C42.8,33,45.7,32.2,48.8,32.2 M48.8,29.2 c-3.2,0-6.4,0.7-9.3,2.2c-0.5,0-1,0-1.4,0c-13.9,0-25.3,11.3-25.3,25.2s11.3,25.3,25.3,25.3c0.2,0,0.4,0,0.6,0 c3.1,1.7,6.6,2.6,10.1,2.6c3.6,0,7.1-0.9,10.2-2.7c0.4,0,0.9,0,1.3,0c13.9,0,25.2-11.3,25.2-25.3S74.3,31.3,60.4,31.3 c-0.7,0-1.4,0-2.1,0.1C55.3,29.9,52.1,29.2,48.8,29.2L48.8,29.2z"/><path fill="#231F20" d="M56.2,15.5c0.1,0,0.3,0,0.4,0.1c0.4,0.1,0.9,0.4,1.1,0.9c0.4,0.7,0.1,1.7-0.6,2.2 c-1.9,1.4-6.8,2.6-7.2,10.6c-0.3,0-0.7,0-1,0c-0.4,0-0.7,0-1.1,0c-0.1-2-0.7-7.8,7.1-13.2C55.3,15.7,55.7,15.5,56.2,15.5 M56.2,12.5L56.2,12.5c-1,0-2,0.3-3,1c-9,6.2-8.6,13.3-8.4,15.6l0,0.2l0.2,3l3-0.2c0.3,0,0.6,0,0.9,0c0.3,0,0.6,0,0.9,0l3,0.2 l0.2-3c0.3-5,2.6-6.3,4.6-7.4c0.5-0.3,1-0.5,1.4-0.8c1.9-1.4,2.6-3.9,1.6-6c-0.6-1.1-1.6-2-2.9-2.4C57.1,12.6,56.6,12.5,56.2,12.5 L56.2,12.5z"/><g><path fill="#231F20" d="M36.5,43.1c-0.2,0-0.3,0-0.5-0.1c-0.5-0.3-0.6-0.9-0.4-1.4c1.5-2.6,2.9-4.2,2.9-4.3c0.4-0.4,1-0.5,1.4-0.1 c0.4,0.4,0.5,1,0.1,1.4c0,0-1.3,1.5-2.7,4C37.2,42.9,36.9,43.1,36.5,43.1z"/><path fill="#231F20" d="M36,42.9c-0.5-0.3-0.6-0.9-0.4-1.4l0,0c0.3-0.5,0.9-0.6,1.4-0.4l0,0c0.5,0.3,0.6,0.9,0.4,1.4l0,0 c0,0,0,0,0,0l0,0c-0.2,0.3-0.5,0.5-0.9,0.5l0,0C36.3,43.1,36.2,43,36,42.9z"/><path fill="#231F20" d="M34,67.4c-0.4,0-0.8-0.2-0.9-0.6c-1.3-2.9-1.9-6-2-9.2c0-0.6,0.4-1,1-1h0c0.5,0,1,0.4,1,1 c0.1,2.9,0.7,5.7,1.8,8.4c0,0.1,0.1,0.3,0.1,0.4c0,0.4-0.2,0.8-0.6,0.9C34.3,67.3,34.2,67.4,34,67.4z M32.3,55c0,0-0.1,0-0.1,0 c-0.5-0.1-0.9-0.5-0.9-1c0,0,0-0.1,0-0.1c0.4-3,1.3-6,2.6-9c0.2-0.5,0.8-0.7,1.3-0.5c0.3,0.1,0.4,0.3,0.5,0.6 c0.1,0.3,0.1,0.5,0,0.8c-1.3,2.8-2.1,5.6-2.4,8.4C33.3,54.6,32.8,55,32.3,55z"/><path fill="#231F20" d="M38.6,74.7c-0.3,0-0.6-0.1-0.8-0.4c-1.1-1.3-2.2-2.8-3-4.2c-0.3-0.5-0.1-1.1,0.3-1.4 c0.5-0.3,1.1-0.1,1.4,0.3c0.8,1.3,1.8,2.6,2.8,3.9c0.4,0.4,0.3,1.1-0.1,1.4C39.1,74.6,38.8,74.7,38.6,74.7z"/></g><g><path fill="#231F20" d="M61.2,43.1c-0.3,0-0.7-0.2-0.9-0.5c-1.4-2.5-2.7-3.9-2.7-4c-0.4-0.4-0.3-1,0.1-1.4c0.4-0.4,1-0.3,1.4,0.1 c0.1,0.1,1.4,1.6,2.9,4.3c0.3,0.5,0.1,1.1-0.4,1.4C61.6,43,61.4,43.1,61.2,43.1z"/><path fill="#231F20" d="M60.4,42.6L60.4,42.6c-0.3-0.5-0.1-1.1,0.4-1.4l0,0c0.5-0.3,1.1-0.1,1.4,0.4l0,0l0,0l0,0 c0.3,0.5,0.1,1.1-0.4,1.4l0,0c-0.2,0.1-0.3,0.1-0.5,0.1l0,0C60.9,43.1,60.6,42.9,60.4,42.6z"/><path fill="#231F20" d="M63.7,67.4c-0.1,0-0.3,0-0.4-0.1c-0.4-0.2-0.6-0.5-0.6-0.9c0-0.1,0-0.3,0.1-0.4c1.1-2.7,1.7-5.5,1.8-8.4 c0-0.5,0.5-1,1-1h0c0.3,0,0.5,0.1,0.7,0.3c0.2,0.2,0.3,0.4,0.3,0.7c-0.1,3.2-0.7,6.2-2,9.2C64.5,67.1,64.1,67.4,63.7,67.4z M65.4,55c-0.5,0-0.9-0.4-1-0.9c-0.4-2.8-1.2-5.6-2.4-8.4l0-0.1h0c-0.2-0.5,0-1,0.5-1.3c0.5-0.2,1.1,0,1.3,0.5c1.4,3,2.2,6,2.6,9 c0,0,0,0.1,0,0.1c0,0.5-0.4,0.9-0.9,1C65.5,55,65.5,55,65.4,55z"/><path fill="#231F20" d="M59.1,74.7c-0.2,0-0.5-0.1-0.6-0.2c-0.4-0.4-0.5-1-0.1-1.4c1.1-1.3,2-2.6,2.8-3.9c0.3-0.5,0.9-0.6,1.4-0.3 c0.5,0.3,0.6,0.9,0.3,1.4c-0.9,1.4-1.9,2.8-3,4.2C59.7,74.5,59.4,74.7,59.1,74.7z"/></g><g><path fill="#FFF100" d="M43.8,43.9c-3.9,0-7.2-2.1-9.1-5.2c-3.4,1.3-5.9,4.2-6.6,7.8c1.9,2.7,5,4.5,8.6,4.5 c4.8,0,8.8-3.2,10.1-7.5C45.8,43.7,44.8,43.9,43.8,43.9z"/><path fill="#FFF100" d="M56.7,43.9c3.9,0,7.2-2.1,9.1-5.2c3.4,1.3,5.9,4.2,6.6,7.8c-1.9,2.7-5,4.5-8.6,4.5 c-4.8,0-8.8-3.2-10.1-7.5C54.6,43.7,55.6,43.9,56.7,43.9z"/></g><g><path fill="#FFF100" d="M49.2,68.1C37.8,68.1,28,62.3,23.5,54c0.7,11.6,12,20.9,25.7,20.9c13.8,0,25-9.3,25.8-20.9 C70.5,62.3,60.6,68.1,49.2,68.1z"/></g><g><path fill="#231F20" d="M35.7,52.4c-3.9,0-7.6-1.9-9.8-5.1c-0.2-0.3-0.3-0.7-0.2-1.1c0.8-4,3.7-7.5,7.6-8.9c0.7-0.3,1.5,0,1.8,0.6 c1.6,2.8,4.6,4.5,7.8,4.5c0.9,0,1.7-0.1,2.6-0.4c0.5-0.2,1.1,0,1.5,0.4c0.4,0.4,0.5,1,0.4,1.5C45.7,48.9,41,52.4,35.7,52.4z M28.8,46.1c1.7,2.1,4.3,3.3,7,3.3c3.1,0,5.9-1.6,7.5-4.1c-3.9,0.2-7.7-1.7-10-4.8C31,41.7,29.4,43.7,28.8,46.1z"/><path fill="#231F20" d="M62.7,52.4c-5.3,0-10-3.5-11.5-8.6c-0.2-0.5,0-1.1,0.4-1.5c0.4-0.4,1-0.5,1.5-0.4c0.8,0.2,1.7,0.4,2.6,0.4 c3.2,0,6.1-1.7,7.8-4.5c0.4-0.6,1.1-0.9,1.8-0.6c3.9,1.5,6.8,4.9,7.6,8.9c0.1,0.4,0,0.8-0.2,1.1C70.3,50.5,66.6,52.4,62.7,52.4z M55.2,45.4c1.6,2.5,4.5,4.1,7.5,4.1c2.7,0,5.3-1.2,7-3.3c-0.7-2.4-2.3-4.4-4.5-5.6C62.9,43.7,59.1,45.5,55.2,45.4z"/></g><path fill="#231F20" d="M75,54L75,54 M75,54c-0.7,11.6-12,20.9-25.8,20.9c-13.8,0-25-9.3-25.7-20.9c4.5,8.3,14.3,14.1,25.7,14.1 C60.6,68.1,70.5,62.3,75,54 M75,51c-0.1,0-0.2,0-0.3,0c-0.5,0.1-1,0.3-1.4,0.6c-0.2,0.2-0.5,0.4-0.6,0.6c-0.1,0.1-0.2,0.3-0.3,0.4 c-4.1,7.6-13.2,12.4-23.1,12.4c-9.9,0-19-4.9-23.1-12.5c-0.5-1-1.6-1.6-2.6-1.6c-0.3,0-0.6,0-0.8,0.1c-1.4,0.4-2.3,1.7-2.2,3.1 c0.8,13.3,13.4,23.7,28.7,23.7c15.2,0,27.8-10.3,28.7-23.6c0-0.1,0-0.2,0-0.3c0-1.6-1.3-2.9-2.9-3C75.1,51,75,51,75,51L75,51z"/></g>`;
const pie = `<g xmlns="http://www.w3.org/2000/svg" transform="translate(-1,-20) scale(0.20)"><path d="M68.86 99.8L9.95 88.64s3.56 14.74 4.78 16.73c1.22 1.99 8.69 7.43 15.86 9.98s61.98.9 66.61-.86c4.62-1.75 12.96-5.53 14.75-7.85c1.52-1.97 5.9-18.97 5.9-18.97L68.86 99.8z" fill="#878787"/><path d="M16.45 96.14l4.09 14.15s2.93 2.09 7.11 3.98c4.24 1.92 9.9 3.39 9.9 3.39s6.41-10.22 6.3-10.92s-8.16-2.85-8.16-2.85s-6.54-1.81-10.16-3.21c-3.61-1.39-9.08-4.54-9.08-4.54z" fill="#e0e0e0"/><path d="M96.45 103.05s4.61-1.43 7.02-2.34c2.8-1.06 6.11-2.8 6.11-2.8l-3.42 12.6s-2.79 1.58-5.35 2.7a71.142 71.142 0 0 1-6.54 2.46l-2.44-5.83l4.62-6.79z" fill="#ababab"/><path d="M37.53 117.66s13.08 3.04 28.73 2.57c14.36-.43 28.03-4.55 28.03-4.55l2.23-12.65s-8.88 3.41-33.64 3.99c-14.95.35-27.18-3.13-27.18-3.13l1.83 13.77z" fill="#c8c8c8"/><radialGradient id="IconifyId17ecdb2904d178eab19532" cx="65.727" cy="51.905" r="43.314" gradientTransform="matrix(0 1 -2.179 0 178.83 -13.822)" gradientUnits="userSpaceOnUse"><stop offset=".386" stop-color="#fac470"/><stop offset=".767" stop-color="#ed9c2c"/></radialGradient><path d="M8.68 72.58c0 1.17 1.28 10.98 1.28 10.98s2.92 4.09 4.44 4.91c1.52.82 23.71 8.18 24.64 8.41s34.45 1.52 36.91 1.52s29.2-6.31 29.2-6.31l15.17-7.37s.73-6.52.73-7.1s-1.71-8.07-2.34-8.64c-.89-.81-5.62-3.05-5.62-3.05s-2.43-2.94-6.73-5.43c-4.42-2.55-16.24-7.47-23.36-9.22c-7.12-1.75-28.77-2.76-40.68.16s-20.09 6.07-23.83 10.04s-5.14 6.54-5.14 6.54l-4.67 4.56z" fill="url(#IconifyId17ecdb2904d178eab19532)"/><path d="M53.91 53.25c.22.98-1.97.8-6.83 3.03c-3.69 1.69-7.83 6.2-8.96 3.63c-1.2-2.71 2.73-5.2 8.04-6.41c3.88-.89 7.57-1.05 7.75-.25z" fill="#ce701d"/><path d="M58.84 57.5c-.81-.37-2.83 1.97-4.75 5.05s-4.45 7.16-1.82 8.09c3.08 1.09 3.94-4.06 4.58-6.02c1.24-3.8 2.66-6.82 1.99-7.12z" fill="#ce701d"/><path d="M69.05 56.94c-.59.29.33 2.66 1.35 5.6s1.98 8.03 5.13 6.93c3.15-1.09-1.27-7.04-2.12-8.21c-1.22-1.67-3.62-4.69-4.36-4.32z" fill="#ce701d"/><path d="M74.26 53.88c-.04 1.09 4.29 2.07 8.52 4.29c3.39 1.79 7.36 4.31 8.11 2.21c.75-2.12-1.19-3.13-6.39-4.98c-5.19-1.85-10.19-2.6-10.24-1.52z" fill="#ce701d"/><path d="M70.99 7.79c-1.38.79.09 4.17-1.36 7.24s-4.94 5.62-7.84 7.58c-2.9 1.96-11.54 7.08-10.73 16.36c.69 7.94 4.04 11.97 7.1 15.04c2.76 2.76 6.53 5.49 8.23 5.32s-.09-6.39 2.9-10.82c2.98-4.43 8.18-8.01 11.84-10.99c3.66-2.98 7.67-10.22 3.07-17.8c-4.61-7.59-12.02-12.61-13.21-11.93z" opacity=".6" fill="#eaeaea"/><path d="M79.1 94.4s3.71-3.88 9.57-3.96c5.86-.09 8.19 1.64 8.19 1.64s2.5-4.38 6.91-5.54c5.15-1.35 8.25 1.06 8.51.63c.26-.43 1.25-5.84 2.99-8.34c2.01-2.87 3.69-2.82 3.69-2.82s-.43-3.04-2.33-5.8c-1.6-2.33-3.52-4.28-3.52-4.28s4.23-.7 7.32 2.93c2.25 2.64 1.77 7.45 1.77 7.45s3.02 1.9 1.21 6.46s-5.39 7.91-10.94 11.37c-3.9 2.44-18.91 8.51-33.8 9.46c-15.57.99-33.55 1.52-50.85-4.85C15.38 94.18 5.3 87.12 3.95 80.22c-1.36-6.9 3.69-10.28 5.26-11.23c1.57-.95 4.15-.96 4.15-.96s-1.24 1.75-1.8 3.42c-.56 1.68-.79 3.15-.79 3.15s2.02 2.44 2.52 4.07c.5 1.62.56 5.53.56 5.53s2.4-2.55 6.27-.98c5.2 2.11 11 9.53 11 9.53s1.73-3.35 8.22-2.85s15.32 6.93 15.32 6.93s5.29-5.49 13.44-5.33c7.43.15 11 2.9 11 2.9z" fill="#e08013"/><path d="M119.56 78.24c-.88-.57-2.21.58-3.13 1.99c-1.2 1.82-1.51 4.14-.8 4.44c1.08.46 2.17-1.99 3.25-3.36c.72-.91 1.82-2.33.68-3.07z" fill="#ec9c2a"/><path d="M107.2 88.87c.64 1.05-1.56 1.93-2.42 3.07c-.85 1.14-.76 2.8-1.54 2.96c-1.71.36-3.31-2.28-3.19-3.25s2.51-2.56 3.36-2.85s3.17-.96 3.79.07z" fill="#ec9c2a"/><path d="M89.47 93.13c.35.84-2.39 3.25-3.42 4.39c-1.03 1.14-2.19 3.37-3.42 3.19c-1.54-.23-1.95-3.18-1.21-4.89c.74-1.71 2.09-3.24 4.12-3.6c1.59-.29 3.53-.06 3.93.91z" fill="#ec9c2a"/><path d="M57.5 102.3c1.89 1.75 4.8-2.23 5.58-3.25c2.34-3.02 4.97-3.86 5.01-4.84c.06-1.31-4.05-1.42-6.95.17c-2.61 1.44-5.92 5.81-3.64 7.92z" fill="#ec9c2a"/><path d="M40.08 92.6c-.05 1.16-1.88 1.65-3.19 3.25c-.97 1.18-2.05 4.44-4.27 3.36c-2.22-1.08-1.23-4.36.34-5.93c2.16-2.16 7.17-2.11 7.12-.68z" fill="#ec9c2a"/><path d="M15.56 91.02c1.2.68 1.31-2.19 2.28-3.33c.97-1.14 2.4-1.23 2.34-2.6c-.06-1.37-3.18-1.69-4.5-.8c-2.29 1.54-1.72 5.82-.12 6.73z" fill="#ec9c2a"/><path d="M7.75 83.16c1.54.28.97-2.62 1.77-3.82c.8-1.2 1.99-1.65 1.2-3.08c-.8-1.42-3.65-1.14-4.5 1.25c-.63 1.75-.75 5.22 1.53 5.65z" fill="#ec9c2a"/></g>`;
const earthGlobe = `<g xmlns="http://www.w3.org/2000/svg" transform="translate(-3,-19) scale(0.45)"><path d="m18.68 10.74a26.63 26.63 0 0 1 11.25-3.53c4.25-.21 8.15.79 13.56 3.38s8.4 5.06 10.69 9.31 3.53 7.38 2.28 12.91-1.63 11.09-3.85 14.93-5.93 6.5-11.43 7.88-13.32 2.28-20.07-1.44-11.5-9.25-13.25-16.9-.31-11.63 1-15.22a23.64 23.64 0 0 1 9.82-11.32z" fill="#1d1d1b"/><path d="m20.55 11.31a22.85 22.85 0 0 1 7.69-2.6c4-.47 10.47 1.32 11.15 1.63s1.25.5 1 .69-2.53 2.18-3.34 2.31-3.62-.56-5.75-.47-3.56.5-4.59.5-2.5-1.13-3.5-1.22-3.13-.59-2.66-.84z" fill="#4eae4d"/><path d="m18.58 12.87a5.82 5.82 0 0 1 4.16.34c1.62.88 1.44 1.25 3.65 1.22s3.29-.4 3.94-.25 3.41 1.35 5.85.88a10.42 10.42 0 0 0 4.28-1.75c.72-.47 1.15-1.25 1.59-1.19s4.41 2.41 4.34 2.66a4.52 4.52 0 0 1 -1.71 1.5 7.43 7.43 0 0 0 -2.79 3.46c-.5 1.47-.78 5.88-.12 6.32s2.34-.19 3 .31.81 2.06 1.91 2.19 1.56-.69 2.56 0 1 1.21 2.56 1.25 3-.32 3.09 0a2.47 2.47 0 0 1 -.12 1.43c-.16.1-5.44.72-6.69.79s-1 .34-1.69 0-1.78-1.63-3.39-1.88-6.53-.56-7.5-.56-1.25 0-1.35.47.1 5.18-.4 6.72-.16 4.06 1.65 4.78 3.69 1.09 3.94 1.75 1.13 5 1.91 6.47 1.87 3.15 1.5 3.46a20.31 20.31 0 0 1 -6 1.54 23.64 23.64 0 0 1 -5.78 0s-1.16-6-1.47-6.54a4.67 4.67 0 0 1 -.41-2.34c.13-.41 2.34-4.87 2.06-6s-.72-2.28-1.75-2.56-2.75 0-5.53 0a27.84 27.84 0 0 1 -5.34-.44c-.56-.12-.88 0-1.13-.28s-2.28-4-2-4.34 3.13-1.16 3.25-1.82-.06-2.25.66-2.31 3.87.38 4.87-.15 1.13-1.75 1.16-2.82-.37-3.4-.84-3.84-5-1.81-6.72-2.72-3.17-1.62-2.98-2.22a12.45 12.45 0 0 1 3.78-3.53z" fill="#85bfe9"/><path d="m20.49 15c.54-.07.59.35.4.72s0 1.72.6 1.69a55.56 55.56 0 0 1 6.4-1.06 26.38 26.38 0 0 1 8 1.65c.75.41 1.1 2 1.16 2.47a29.44 29.44 0 0 1 -2.75 5.53c-.28.15-3.19-1-5.28-2s-3-1.47-3.09-1.88a6.23 6.23 0 0 0 -.5-1.69c-.19-.09-3-.28-4.35-1.09s-2.56-2.13-2.31-2.69a4.18 4.18 0 0 1 1.72-1.65z" fill="#1d1d1b"/><path d="m24.36 17.87a20.8 20.8 0 0 1 7.25.31c3.19.63 3.69 1.16 3.6 1.94s-1.28 4-1.72 3.84a41.78 41.78 0 0 1 -5.31-2.18c-.22-.32-.29-1.88-1.22-2.16s-2.88-.88-3.53-1.13-.5-.5-.35-.5 1.28-.12 1.28-.12z" fill="#4eae4d"/><path d="m47.58 15.21c.21-.07 2.94 1.07 4.81 4.63s2.47 7.94 2.25 8.34-.9.44-1.53.25-3.11-1.56-3.65-1.56-1.41.47-1.78 0-1.5-1.87-2.63-1.87-1.37.19-1.56-.06-.81-5.53.37-6.5 2.22-1.59 2.69-2 .75-1.13 1.03-1.23z" fill="#4eae4d"/><path d="m35.71 31c.36 0 5.72-.4 6.78.63s1.94 2.15 2.84 2.12 9.19-.75 9.19-.43-.94 7.5-2.38 11.15a15.91 15.91 0 0 1 -5.53 7.06c-1.15.66-2.34.91-2.43.72a21.82 21.82 0 0 1 -2.29-5.93c-.68-3.22-.87-4.72-1.93-5s-3.69-.9-4.19-1.53a4 4 0 0 1 -.56-1.87s.28-3.88.28-4.72.03-2.2.22-2.2z" fill="#4eae4d"/><path d="m17.43 38.21a12.74 12.74 0 0 0 4.84.91c3.31.06 6.56-.31 6.91.09s.28 1.78-.44 3.1a21.38 21.38 0 0 0 -1.19 2.59 26.16 26.16 0 0 0 -3.16-2.5.59.59 0 0 0 -.34.69c.13.28 3 2.22 3.13 2.47a9.75 9.75 0 0 1 -.1 1.75 25.76 25.76 0 0 0 -3-2.38c-.37-.06-.62.85-.5 1s3.53 2.5 4 2.91a6.06 6.06 0 0 1 .84 2.53c-.09 0-3.9-3.09-4.12-3.13s-.28 1-.28 1 4.5 3.19 4.65 3.44a6.49 6.49 0 0 1 .44 1.88 32.57 32.57 0 0 1 -3.59-.91c-1.25-.47-2.35-.72-2.35-.81s-1.17-3.78-2.81-5.38a12.91 12.91 0 0 1 -2.36-2.65 31.09 31.09 0 0 1 -.35-3.72c-.04-.85-.41-2.88-.22-2.88z" fill="#4eae4d"/><path d="m10.52 38.4c.19-.37 2.56.25 3.69.69s1.5 1 1.53 1.87-.13 4.66.65 5.35a10.71 10.71 0 0 1 3.07 3.28 7.26 7.26 0 0 1 1 2.19 20.15 20.15 0 0 1 -5.91-5.5c-3.19-4.13-4.12-7.69-4.03-7.88z" fill="#85bfe9"/><path d="m9.61 36.18a17.66 17.66 0 0 1 -.12-9.65c1.37-5.69 4-8.72 4.22-8.69s5.4 3 7.5 4 2.22 1 2.37 1.44a10.13 10.13 0 0 1 -.19 3.34c-.18.09-3.93-.09-5 0s-1.39 1.59-1.31 2.19.13.87-.12 1.06-3.6 1.09-3.78 2 2.37 5.37 2 5.5-4.57-.16-5.57-1.19z" fill="#4eae4d"/><g fill="#1d1d1b"><path d="m11.36 25.18a19.09 19.09 0 0 1 1.16-3.65c.5-.75.72-.91.94-.85s.84.35.78.53-1.13 2.25-1.41 3.16 0 .91-.4 1-.94.03-1.07-.19z"/><path d="m40 15.59c.16-.14 2.53-.72 2.69-.5s.34.44.18.56a11.75 11.75 0 0 1 -2.62.94c-.2-.1-.45-.85-.25-1z"/><path d="m38.46 22.93c.15.16 1.47 2.28 1.31 2.47s0 .47-.34.31a6.24 6.24 0 0 1 -1.54-2.22c.11-.25.57-.56.57-.56z"/><path d="m37 24.37a12.18 12.18 0 0 1 1.72 2.09c0 .19 0 .47-.31.38a8.07 8.07 0 0 1 -1.86-1.84c0-.16.45-.66.45-.63z"/><path d="m49.33 19.65a7.18 7.18 0 0 1 2.5 1.22c0 .19.1.69-.15.59s-2.54-1-2.63-1.12.25-.66.28-.69z"/><path d="m49.11 22c.08-.11 4 2.18 4 2.53s.35.59-.06.53a30.17 30.17 0 0 1 -4.25-2.16c-.12-.19.2-.75.31-.9z"/><path d="m48.74 24a25.43 25.43 0 0 1 4.84 2.62c.06.28.28.59-.12.56a40.58 40.58 0 0 1 -4.94-2.37c-.09-.13.09-.75.22-.81z"/><path d="m49.68 35.53a13.17 13.17 0 0 1 2.9 2.78c-.09.25 0 .37-.28.28a22.37 22.37 0 0 1 -3.12-2.72c.06-.16.34-.28.5-.34z"/><path d="m48.11 37.43a28.41 28.41 0 0 1 3.35 3.16c0 .25-.13.47-.25.44a41.72 41.72 0 0 1 -3.44-3 4.75 4.75 0 0 1 .34-.6z"/><path d="m47.11 39.46a23.35 23.35 0 0 1 3.35 3.32c-.07.25.06.4-.25.37a39.21 39.21 0 0 1 -3.53-3.15 3.19 3.19 0 0 1 .43-.54z"/><path d="m46.33 41.12a29.14 29.14 0 0 1 3.41 3.28c0 .25-.1.41-.22.31a43.92 43.92 0 0 1 -3.84-3.09.84.84 0 0 1 .65-.5z"/><path d="m45.71 44.12a16 16 0 0 1 3.06 2.72c0 .22-.16.37-.25.34a33.63 33.63 0 0 1 -3.19-2.5c-.03-.19.31-.53.38-.56z"/><path d="m45 45.93c.17 0 3.25 2.69 3 2.94s-.12.37-.37.28a22.27 22.27 0 0 1 -3.13-2.69c.11-.15.33-.53.5-.53z"/><path d="m35.18 43.43c.09-.14 1.31.31 1.28.6s0 .34-.16.34a5 5 0 0 1 -1.53-.44c0-.12.34-.4.41-.5z"/><path d="m33.14 47.28a1.46 1.46 0 0 1 1.16 0c.47.22 1.16 1 1.78 1.1s1.1-.28 1.25-.19a.37.37 0 0 1 .16.47c-.1.16-.16.31-.41.37a2 2 0 0 1 -1.5-.15c-.58-.39-.94-.88-1.58-.88s-.57.12-.69 0-.42-.51-.17-.72z"/><path d="m26 40.15c.25.16 2.06 1.75 2 2s-.19.5-.38.44a10.1 10.1 0 0 1 -2.15-1.82c-.01-.24.53-.62.53-.62z"/><path d="m24.21 30.43c.12 0 2.81 4.19 2.59 4.41s-.34.44-.47.31a44.75 44.75 0 0 1 -2.84-4.34 1.31 1.31 0 0 1 .72-.38z"/><path d="m25.24 30c0-.12.59-.38.78-.19a12 12 0 0 1 1.37 2.72c-.09.18 0 .47-.25.28a17.6 17.6 0 0 1 -1.9-2.81z"/><path d="m30.74 29.71c.08-.11 1-1 1.28-1s1 0 .91.22-1.41 1.91-1.66 1.75a1.66 1.66 0 0 1 -.53-.97z"/></g></g>`;
const beerGlass = `<g xmlns="http://www.w3.org/2000/svg" transform="translate(-16,1) scale(0.55)"><path fill="#FFAC33" d="M31 5.718h-6v4h4s2 0 2 2v12c0 2-2 2-2 2h-4v4h6c2.206 0 4-1.794 4-4v-16c0-2.206-1.794-4-4-4z"/><path fill="#FFCC4D" d="M27 6H3v26a4 4 0 0 0 4 4h16a4 4 0 0 0 4-4V6z"/><path fill="#F4900C" d="M8.5 32a1 1 0 0 1-1-1V15a1 1 0 0 1 2 0v16a1 1 0 0 1-1 1zm6.5 0a1 1 0 0 1-1-1V15a1 1 0 0 1 2 0v16a1 1 0 0 1-1 1zm6.5 0a1 1 0 0 1-1-1V15a1 1 0 1 1 2 0v16a1 1 0 0 1-1 1z"/><path fill="#FFAC33" d="M3 5v7.445c.59.344 1.268.555 2 .555a4 4 0 0 0 3.701-2.491c.35.302.801.491 1.299.491c.677 0 1.273-.338 1.635-.853A3.988 3.988 0 0 0 15 12a3.98 3.98 0 0 0 3.176-1.593A2.496 2.496 0 0 0 20.5 12c.949 0 1.765-.535 2.188-1.314l.147-.361a3.463 3.463 0 0 0 1.665.439c.981 0 1.865-.406 2.5-1.056V5H3z"/><path fill="#EEE" d="M24 0H4a3 3 0 0 0-3 3v4a4 4 0 0 0 7.701 1.509C9.051 8.811 9.502 9 10 9c.677 0 1.273-.338 1.635-.853A3.988 3.988 0 0 0 15 10a3.98 3.98 0 0 0 3.176-1.593A2.496 2.496 0 0 0 20.5 10c.949 0 1.765-.535 2.188-1.314c.398.195.839.314 1.312.314a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3z"/></g>`;
const filterSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sliders-horizontal-icon lucide-sliders-horizontal"><path d="M10 5H3"/><path d="M12 19H3"/><path d="M14 3v4"/><path d="M16 17v4"/><path d="M21 12h-9"/><path d="M21 19h-5"/><path d="M21 5h-7"/><path d="M8 10v4"/><path d="M8 12H3"/></svg>`
const customizeViewSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layout-dashboard-icon lucide-layout-dashboard"><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>`
const saveSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-save-icon lucide-save"><path d="M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/><path d="M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"/><path d="M7 3v4a1 1 0 0 0 1 1h7"/></svg>`
const settingsSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings-icon lucide-settings"><path d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"/><circle cx="12" cy="12" r="3"/></svg>`
const sunSVG = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun-icon lucide-sun"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>`
const moonSVG = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon-icon lucide-moon"><path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"/></svg>`
const databaseSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-database-icon lucide-database"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5V19A9 3 0 0 0 21 19V5"/><path d="M3 12A9 3 0 0 0 21 12"/></svg>`
const informationSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-info-icon lucide-info"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>`
const bugSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bug-icon lucide-bug"><path d="M12 20v-9"/><path d="M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z"/><path d="M14.12 3.88 16 2"/><path d="M21 21a4 4 0 0 0-3.81-4"/><path d="M21 5a4 4 0 0 1-3.55 3.97"/><path d="M22 13h-4"/><path d="M3 21a4 4 0 0 1 3.81-4"/><path d="M3 5a4 4 0 0 0 3.55 3.97"/><path d="M6 13H2"/><path d="m8 2 1.88 1.88"/><path d="M9 7.13V6a3 3 0 1 1 6 0v1.13"/></svg>`
const githubSVG = (fill) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="${fill}" d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"/></svg>`;
const docsSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-text-icon lucide-book-text"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"/><path d="M8 11h8"/><path d="M8 7h6"/></svg>`;
// chevrons for collapsing
const arrowRight = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right-icon lucide-chevron-right"><path d="m9 18 6-6-6-6"/></svg>';
const arrowDown = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down-icon lucide-chevron-down"><path d="m6 9 6 6 6-6"/></svg>';
const moveDownSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down-icon lucide-chevron-down"><path d="m6 9 6 6 6-6"/></svg>`
const moveUpSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-up-icon lucide-chevron-up"><path d="m18 15-6-6-6 6"/></svg>`
// overview
const clockSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock-icon lucide-clock"><path d="M12 6v6l4 2"/><circle cx="12" cy="12" r="10"/></svg>`
// graph types
const percentageSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-square-percent-icon lucide-square-percent"><rect width="18" height="18" x="3" y="3" rx="2" /><path d="m15 9-6 6" /><path d="M9 9h.01" /><path d="M15 15h.01" /></svg>`;
const barSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chart-column-big-icon lucide-chart-column-big"><path d="M3 3v16a2 2 0 0 0 2 2h16" /><rect x="15" y="5" width="4" height="12" rx="1" /><rect x="7" y="8" width="4" height="9" rx="1" /></svg>`;
const lineSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chart-line-icon lucide-chart-line"><path d="M3 3v16a2 2 0 0 0 2 2h16" /><path d="m19 9-5 5-4-4-3 3" /></svg>`;
const pieSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chart-pie-icon lucide-chart-pie"><path d="M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z" /><path d="M21.21 15.89A10 10 0 1 1 8 2.83" /></svg>`;
const statsSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-list-ordered-icon lucide-list-ordered"><path d="M10 12h11" /><path d="M10 18h11" /><path d="M10 6h11" /><path d="M4 10h2" /><path d="M4 6h1v4" /><path d="M6 18H4c0-1 2-2 2-3s-1-1.5-2-1" /></svg>`;
const boxplotSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chart-candlestick-icon lucide-chart-candlestick"><path d="M9 5v4"/><rect width="4" height="6" x="7" y="9" rx="1"/><path d="M9 15v2"/><path d="M17 3v2"/><rect width="4" height="8" x="15" y="5" rx="1"/><path d="M17 13v3"/><path d="M3 3v16a2 2 0 0 0 2 2h16"/></svg>`;
const heatmapSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chart-scatter-icon lucide-chart-scatter"><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/><circle cx="18.5" cy="5.5" r=".5" fill="currentColor"/><circle cx="11.5" cy="11.5" r=".5" fill="currentColor"/><circle cx="7.5" cy="16.5" r=".5" fill="currentColor"/><circle cx="17.5" cy="14.5" r=".5" fill="currentColor"/><path d="M3 3v16a2 2 0 0 0 2 2h16"/></svg>`;
const timelineSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chart-bar-stacked-icon lucide-chart-bar-stacked"><path d="M11 13v4"/><path d="M15 5v4"/><path d="M3 3v16a2 2 0 0 0 2 2h16"/><rect x="7" y="13" width="9" height="4" rx="1"/><rect x="7" y="5" width="12" height="4" rx="1"/></svg>`;
const radarSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-radar-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2v10l6 6"/></svg>`;
// graph options
const fullscreenSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize-icon lucide-maximize"><path d="M8 3H5a2 2 0 0 0-2 2v3" /><path d="M21 8V5a2 2 0 0 0-2-2h-3" /><path d="M3 16v3a2 2 0 0 0 2 2h3" /><path d="M16 21h3a2 2 0 0 0 2-2v-3" /></svg>`;
const closeSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-minimize-icon lucide-minimize"><path d="M8 3v3a2 2 0 0 1-2 2H3"/><path d="M21 8h-3a2 2 0 0 1-2-2V3"/><path d="M3 16h3a2 2 0 0 1 2 2v3"/><path d="M16 21v-3a2 2 0 0 1 2-2h3"/></svg>`;
const eyeSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye-icon lucide-eye"><path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"/><circle cx="12" cy="12" r="3"/></svg>`
const eyeOffSVG = (stroke) => `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${stroke}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye-off-icon lucide-eye-off"><path d="M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"/><path d="M14.084 14.158a3 3 0 0 1-4.242-4.242"/><path d="M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"/><path d="m2 2 20 20"/></svg>`
const decorations = [
{
name: 'christmas',
svg: christmasHat,
isActive: (now) => {
const month = now.getMonth();
const day = now.getDate();
return month === 11 && day >= 18 && day <= 31; // Dec 18-31
}
},
{
name: 'aprilFools',
svg: clownHat,
isActive: (now) => {
const month = now.getMonth();
const day = now.getDate();
return month === 3 && day === 1; // April 1st
}
},
{
name: 'stPatricksDay',
svg: leprechaunHat,
isActive: (now) => {
const month = now.getMonth();
const day = now.getDate();
return month === 2 && day === 17; // March 17th
}
},
{
name: 'valentinesDay',
svg: heartSunglasses,
isActive: (now) => {
const month = now.getMonth();
const day = now.getDate();
return month === 1 && day === 14; // February 14th
}
},
{
name: 'halloween',
svg: pumpkin,
isActive: (now) => {
const month = now.getMonth();
const day = now.getDate();
return month === 9 && day === 31; // October 31st
}
},
{
name: 'piDay',
svg: pie,
isActive: (now) => {
const month = now.getMonth();
const day = now.getDate();
return month === 2 && day === 14; // March 14th
}
},
{
name: 'earthDay',
svg: earthGlobe,
isActive: (now) => {
const month = now.getMonth();
const day = now.getDate();
return month === 3 && day === 22; // April 22nd
}
},
{
name: 'oktoberfest',
svg: beerGlass,
isActive: (now) => {
const month = now.getMonth();
const day = now.getDate();
const year = now.getFullYear();
// Only show in September (month 8)
if (month !== 8) return false;
// Find the third Saturday of September
let saturdayCount = 0;
let thirdSaturday = 0;
for (let d = 1; d <= 30; d++) {
const date = new Date(year, 8, d);
if (date.getDay() === 6) { // Saturday
saturdayCount++;
if (saturdayCount === 3) {
thirdSaturday = d;
break;
}
}
}
// Show on Friday, Saturday, Sunday (3 days)
return day >= thirdSaturday - 1 && day <= thirdSaturday + 1;
}
},
{
name: 'easter',
svg: easterBunnyEars,
isActive: (now) => {
const year = now.getFullYear();
const a = year % 19;
const b = Math.floor(year / 100);
const c = year % 100;
const d = Math.floor(b / 4);
const e = b % 4;
const f = Math.floor((b + 8) / 25);
const g = Math.floor((b - f + 1) / 3);
const h = (19 * a + b - d - g + 15) % 30;
const i = Math.floor(c / 4);
const k = c % 4;
const l = (32 + 2 * e + 2 * i - h - k) % 7;
const m = Math.floor((a + 11 * h + 22 * l) / 451);
const month = Math.floor((h + l - 7 * m + 114) / 31) - 1;
const day = ((h + l - 7 * m + 114) % 31) + 1;
return now.getMonth() === month && now.getDate() === day;
}
}
];
function getActiveDecoration() {
const now = new Date();
for (const decoration of decorations) {
if (decoration.isActive(now)) {
return decoration.svg;
}
}
return null;
}
function getActiveDecorationName() {
const now = new Date();
for (const decoration of decorations) {
if (decoration.isActive(now)) {
return decoration.name;
}
}
return null;
}
function buildRflogoWithHat(fillColor) {
const decoration = getActiveDecoration();
if (!decoration) {
return `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" class="fill-white"><path fill="${fillColor}" id="path" d="${rflogoPathD}"></path></svg>`;
}
return `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" style="overflow:visible"><path fill="${fillColor}" d="${rflogoPathD}"></path>${decoration}</svg>`;
}
function getRflogoDarkSVG() {
return buildRflogoWithHat('white');
}
function getRflogoLightSVG() {
return buildRflogoWithHat('black');
}
// === localstorage.js ===
// function to setup localstorage on first load
function setup_local_storage() {
const storedSettings = localStorage.getItem('settings');
const hasJsonConfig = typeof json_config !== "string";
const mergeWithDefaults = (config) => merge_deep(config, settings);
let resolvedSettings = settings;
try {
if (force_json_config && hasJsonConfig) {
// 1) Force use provided json_config when requested
resolvedSettings = mergeWithDefaults(json_config);
} else if (storedSettings) {
// 2) Prefer existing localStorage when not forcing a config
const parsedSettings = JSON.parse(storedSettings);
resolvedSettings = mergeWithDefaults(parsedSettings);
} else if (!force_json_config && hasJsonConfig) {
// 3) Use provided json_config when not forcing and no localStorage present
resolvedSettings = mergeWithDefaults(json_config);
} else {
// 4) Final fallback: existing defaults
resolvedSettings = settings;
}
} catch (e) {
add_alert(`Failed to resolve settings: ${e}. Resetting settings to defaults.`, "danger");
resolvedSettings = settings;
}
settings = resolvedSettings;
localStorage.setItem('settings', JSON.stringify(settings));
}
// function to set an item in localstorage based on a dot-separated path
function set_local_storage_item(path, value) {
set_nested_setting(settings, path, value);
localStorage.setItem('settings', JSON.stringify(settings));
}
// function to set a nested setting based on a dot-separated path
function set_nested_setting(obj, path, value) {
const keys = path.split('.');
const lastKey = keys.pop();
let deep = obj;
keys.forEach(k => {
if (!deep.hasOwnProperty(k) || typeof deep[k] !== 'object') {
deep[k] = {};
}
deep = deep[k];
});
deep[lastKey] = value;
}
// function to merge two settings objects deeply, removing keys missing from defaults
function merge_deep(local, defaults) {
const result = {};
for (const key of new Set([...Object.keys(defaults), ...Object.keys(local)])) {
const defaultVal = defaults[key];
const localVal = local[key];
// Removed key: exists in local but not in defaults — EXCEPT layout, libraries and theme (only in localstorage)
if (key !== "layouts" && key !== "libraries" && key !== "theme" && defaultVal === undefined && localVal !== undefined) {
continue;
}
// Added key: exists in defaults but not local: add defaults
if (defaultVal !== undefined && localVal === undefined) {
result[key] = structuredClone(defaultVal);
continue;
}
// Present in both - use local, but merge where required
if (key === "view") {
result[key] = merge_view(localVal, defaultVal);
}
else if (key === "layouts") {
result[key] = merge_layout(localVal, defaults);
}
else if (isObject(localVal) && isObject(defaultVal)) {
result[key] = merge_objects_base(localVal, defaultVal);
}
else {
result[key] = structuredClone(localVal);
}
}
return result;
}
function isObject(v) {
return v && typeof v === "object" && !Array.isArray(v);
}
// function to merge two objects recursively, removing keys missing from defaults
function merge_objects_base(local, defaults) {
const merged = {};
for (const key of new Set([...Object.keys(defaults), ...Object.keys(local)])) {
// Remove keys missing from defaults
if (!(key in defaults)) continue;
// Add missing defaults
if (!(key in local)) {
merged[key] = structuredClone(defaults[key]);
continue;
}
// Both exist
if (isObject(local[key]) && isObject(defaults[key])) {
merged[key] = merge_objects_base(local[key], defaults[key]);
} else {
merged[key] = structuredClone(local[key]);
}
}
return merged;
}
// function to merge view from localstorage with defaults from settings
function merge_view(localView, defaultView) {
const result = {};
for (const page of Object.keys(defaultView)) {
const defaultPage = defaultView[page];
const localPage = localView[page] || {};
result[page] = {
sections: merge_view_section_or_graph(
localPage.sections || {},
defaultPage.sections,
page
),
graphs: merge_view_section_or_graph(
localPage.graphs || {},
defaultPage.graphs
)
};
}
return result;
}
// function to merge view sections or graphs from localstorage with defaults from settings
function merge_view_section_or_graph(local, defaults, page = null) {
const result = { show: [], hide: [] };
const isOverview = page === "overview";
const allowed = new Set([
...defaults.show,
...defaults.hide
]);
const localShow = new Set(local.show || []);
const localHide = new Set(local.hide || []);
// 1. Remove values not in defaults (allowed)
// For overview, preserve additional dynamic items in SHOW (added later),
// but still clean up HIDE to avoid hiding unknown entries.
for (const val of [...localShow]) {
if (!allowed.has(val) && !isOverview) {
localShow.delete(val);
}
}
for (const val of [...localHide]) {
if (!allowed.has(val)) {
localHide.delete(val);
}
}
// 2. Add missing defaults: always added to SHOW
for (const val of allowed) {
if (!localShow.has(val) && !localHide.has(val)) {
localShow.add(val);
}
}
// 3. Keep original placement of values already present
result.show = [...localShow];
result.hide = [...localHide];
return result;
}
// function to merge layout from localstorage with allowed graphs from settings
function merge_layout(localLayout, mergedDefaults) {
if (!localLayout) return localLayout;
const result = structuredClone(localLayout);
const allowedGraphs = collect_allowed_graphs(mergedDefaults);
for (const key of Object.keys(result)) {
try {
const arr = JSON.parse(result[key]);
// keep only entries whose IDs still exist
const filtered = arr.filter(item =>
allowedGraphs.has(item.id)
);
result[key] = JSON.stringify(filtered);
} catch (e) {
console.warn("Invalid layout JSON for section:", key, e);
delete result[key];
}
}
return result;
}
// collect all allowed graph IDs from the settings
function collect_allowed_graphs(settings) {
const allowed = new Set();
const extract = (obj) => {
if (!obj) return;
for (const key of ["show", "hide"]) {
if (Array.isArray(obj[key])) {
for (const g of obj[key]) allowed.add(g);
}
}
};
if (settings.view.dashboard) extract(settings.view.dashboard.graphs);
if (settings.view.compare) extract(settings.view.compare.graphs);
return allowed;
}
// function to update the localstorage and graphs for the suitepath switches
function update_switch_local_storage(key, state, firstLoad = false) {
const id = key.split('.').map((part, index) => {
if (index === 0) return part;
return part.charAt(0).toUpperCase() + part.slice(1);
}).join('');
const currentState = key.split('.').reduce((o, i) => o[i], settings)
if (firstLoad) {
if (currentState !== undefined) {
set_local_storage_item(key, currentState); // Ensure internal settings var is updated
document.getElementById(id).checked = currentState;
} else {
set_local_storage_item(key, state); // If no value exists yet, default to current 'state' and save it
document.getElementById(id).checked = state;
}
} else {
set_local_storage_item(key, state);
}
}
// function to update the localstorage of the graphtypes
function update_graph_type(graph, type) {
settings.graphTypes[graph] = type;
set_local_storage_item('graphTypes', settings.graphTypes);
}
// function to setup the overview sections that are dynamically created
function setup_overview_localstorage() {
if (Object.keys(projects_by_name).length > 0) {
Object.keys(projects_by_name).forEach(projectName => {
overviewSections.push(projectName)
});
}
if (Object.keys(projects_by_tag).length > 0) {
Object.keys(projects_by_tag).forEach(tagName => {
overviewSections.push(tagName)
});
}
// on first load without localstorage only overview sections is present
// if more items are available, set them in localstorage, previous order is lost
if (settings.view.overview.sections.show.length < overviewSections.length) {
set_local_storage_item("view.overview.sections.show", overviewSections)
}
}
// === log.js ===
// function to open the log files through the graphs
function open_log_file(event, chartElement, callbackData = undefined) {
if (!use_logs) { return }
const graphType = event.chart.config._config.type
const graphId = event.chart.canvas.id
var runStart = ""
if (graphType == "doughnut") {
runStart = callbackData
} else if (callbackData) {
const index = chartElement[0].element.$context.raw.x[0]
runStart = callbackData[index]
} else if (graphType == "line" && !graphId.includes("Statistics")) {
runStart = format_date_to_string(new Date(chartElement[0].element.$context.raw.x))
} else if (graphId == "compareStatisticsGraph" || graphId == "compareSuiteDurationGraph") {
const index = chartElement[0].datasetIndex
runStart = event.chart.data.datasets[index].label
} else {
const index = chartElement[0].index
runStart = event.chart.data.labels[index]
}
var output = runs.find(run => run.run_start.slice(0, 19) === runStart.slice(0, 19))
var path = output ? output.path : runs.find(run => run.run_alias === runStart).path
if (path == "") {
alert("Log file error: this output didn't have a path in the database so the log file cannot be found!");
return
}
path = update_log_path_with_id(path, graphId, chartElement, event)
open_log_from_path(path)
}
// function to open the log file
function open_log_from_path(path) {
var fileUrl = ""
if (server) { // server url
fileUrl = `/log?path=${path}`
} else if (window.location.href.includes("file:///")) { // local machine url
fileUrl = `file:///${path}`
} else { // remote machine file server
fileUrl = combine_paths(window.location.href, path)
}
const win = window.open(fileUrl, "_blank")
}
// function to open the log when clicking on the labels
function open_log_from_label(chart, click) {
if (!use_logs) { return }
let resetCoordinates = chart.canvas.getBoundingClientRect();
const xCoor = click.clientX - resetCoordinates.left;
const yCoor = click.clientY - resetCoordinates.top;
const { data, scales: { x: { top, bottom, left, height, width, ticks } } } = chart;
const right = width / ticks.length;
for (let i = 0; i < ticks.length; i++) {
if (xCoor >= left + (right * i) && xCoor <= left + right + (right * i) && yCoor >= top && yCoor <= bottom) {
var run
const identifier = chart.config._config.options.indexAxis === "y" ? Object.values(ticks).map(item => item.label) : data.labels // exception for timelines
if (settings.show.aliases) {
run = filteredRuns.find(run => run.run_alias === identifier[i])
} else {
run = filteredRuns.find(run => run.run_start === identifier[i])
}
if (run) {
const path = transform_file_path(run.path)
if (path == "") {
alert("Log file error: this output didn't have a path in the database so the log file cannot be found!");
return
}
open_log_from_path(path)
}
}
}
}
// function to add the suite or test id to the log path url
function update_log_path_with_id(path, graphId, chartElement, event) {
if (graphId.includes("run") || graphId.includes("keyword")) {
return transform_file_path(path)
} // can"t select a run or keyword in the suite/log log.html
const graphType = event.chart.config._config.type
var name = ""
var id = ""
var runStart = runs.find(run => run.path === path).run_start
if (graphId.includes("suite") || graphId.includes("Suite")) {
if (graphId == "suiteStatisticsGraph" || graphId == "compareSuiteDurationGraph") {
name = event.chart.tooltip.title[0].split(": ").pop()
} else if (graphId == "suiteDurationGraph") {
name = event.chart.tooltip.body[0].lines[0].split(": ")[0]
} else if (graphId == "suiteMostFailedGraph" || graphId == "suiteMostTimeConsumingGraph") {
name = chartElement[0].element.$context.raw.y
}
id = suites.find(suite => suite.name === name && suite.run_start === runStart)
} else { // it contains a test
if (graphId == "testStatisticsGraph" || graphId == "testMostFlakyGraph" || graphId == "testRecentMostFlakyGraph" || graphId == "testMostFailedGraph" || graphId == "testRecentMostFailedGraph" || graphId == "testMostTimeConsumingGraph" || graphId == "compareTestsGraph") {
name = chartElement[0].element.$context.raw.y
} else if (graphId == "testDurationGraph") {
if (graphType == "bar") {
name = event.chart.tooltip.dataPoints[0].dataset.label
} else {
const datasetIndex = chartElement[0].datasetIndex
name = event.chart.legend.legendItems[datasetIndex].text
}
} else { // this exception is for the Test Messages graph as you can"t tell which test it relates to (might be more than 1!)
return transform_file_path(path)
}
id = tests.find(test => test.name === name && test.run_start === runStart)
}
if (id == undefined) {
return transform_file_path(path)
}
return `${transform_file_path(path)}#${id.id}`
}
// === graph_config.js ===
// function to retrieve the required graph config for chartjs, based on the different type of graphs
// Generate a Chart.js config object based on the graph type and data
function get_graph_config(graphType, graphData, graphTitle, xTitle, yTitle, dataSets = true) {
if (dataSets && graphType === "line") {
graphData = { datasets: graphData };
}
const baseConfig = {
onClick: (event, chartElement) => {
if (chartElement.length) open_log_file(event, chartElement);
},
normalized: true,
responsive: true,
maintainAspectRatio: false,
animation: settings.show.animation
? {
delay: (ctx) => {
const dataLength = ctx.chart.data.datasets.reduce(
(a, b) => (b.data.length > a.data.length ? b : a)
).data.length;
return ctx.dataIndex * (settings.show.duration / dataLength);
},
}
: false,
plugins: {
title: {
display: graphTitle == "" ? false : true,
text: graphTitle,
},
datalabels: {
display: false,
},
},
};
const commonScales = {
x: {
title: { display: true, text: xTitle },
ticks: {
minRotation: 45,
maxRotation: 45,
callback(value) {
return this.getLabelForValue(value).slice(0, 40);
},
},
},
y: {
title: { display: true, text: yTitle },
beginAtZero: true,
grace: "5%",
ticks: {
callback(value) {
return this.getLabelForValue(value).slice(0, 40);
},
},
},
};
const configMap = {
line: () => ({
type: "line",
data: graphData,
options: {
...baseConfig,
scales: {
...commonScales,
x: {
...commonScales.x,
type: "time",
time: { tooltipFormat: "dd.MM.yyyy HH:mm:ss" },
ticks: {
...commonScales.x.ticks,
maxTicksLimit: 10,
},
},
},
},
}),
bar: () => ({
type: "bar",
data: graphData,
options: {
...baseConfig,
scales: {
...commonScales,
y: { ...commonScales.y, stacked: true },
},
interaction: { mode: "x" },
plugins: {
...baseConfig.plugins,
tooltip: {
filter: (item) => item.dataset.data[item.dataIndex] > 0,
},
datalabels: {
color: "#000",
align: "center",
anchor: "center",
formatter: (val) => (val > 0 ? val : null),
},
},
},
}),
timeline: () => ({
type: "bar",
data: graphData,
options: {
...baseConfig,
indexAxis: "y",
scales: {
...commonScales,
y: { ...commonScales.y, stacked: true },
},
plugins: {
...baseConfig.plugins,
legend: { display: false },
},
},
}),
boxplot: () => ({
type: "boxplot",
data: graphData,
options: {
...baseConfig,
scales: {
...commonScales,
x: {
...commonScales.x,
ticks: commonScales.x.ticks,
},
},
plugins: {
...baseConfig.plugins,
tooltip: { enabled: true },
legend: { display: false },
},
},
}),
donut: () => ({
type: "doughnut",
data: graphData,
options: {
...baseConfig,
animation: settings.show.animation ? { duration: settings.show.duration } : false,
radius: "90%",
plugins: {
...baseConfig.plugins,
tooltip: {
callbacks: {
title: function (tooltipItem) {
const label = tooltipItem[0].label;
const value = tooltipItem[0].formattedValue;
const datalabelModel = tooltipItem[0].element?.$datalabels?.[0]?._model;
return datalabelModel?.lines?.[0] || `${label}: ${value}`;
},
},
},
legend: {
display: true,
labels: {
generateLabels(chart) {
const dataset = chart.data.datasets[0];
const meta = chart.getDatasetMeta(0);
const labels = chart.data.labels;
return labels.map((label, i) => {
const style = meta.controller.getStyle(i);
const hidden = !chart.isDatasetVisible(0) || meta.data[i].hidden;
return {
text: label.split(".").pop(),
fillStyle: style.backgroundColor,
strokeStyle: style.borderColor,
lineWidth: style.borderWidth,
lineCap: style.borderCapStyle || "butt",
lineDash: style.borderDash || [],
lineDashOffset: style.borderDashOffset || 0,
pointStyle: style.pointStyle || "circle",
rotation: style.rotation || 0,
hidden,
index: i,
datasetIndex: 0,
fontColor: Chart.defaults.color,
};
});
},
},
},
datalabels: {
...dataLabelConfig,
align: "center",
anchor: "center",
formatter(value, context) {
if (value === 0) return null;
const total = graphData.datasets[0].data.reduce((a, b) => a + b, 0);
const percentage = Math.round((value / total) * 100);
if (percentage <= 5) return null;
const label = graphData.labels[context.dataIndex].split(".").pop();
return `${label}: ${value} (${percentage}%)`;
},
},
},
},
}),
heatmap: () => ({
type: "matrix",
data: graphData,
options: {
...baseConfig,
scales: {
x: {
type: "linear",
position: "bottom",
min: 0,
max: heatMapHourAll ? 24 : 60,
offset: false,
grid: { display: true, drawTicks: true, tickLength: 8 },
ticks: {
minRotation: 45,
maxRotation: 45,
stepSize: 1,
callback: (val) => {
if (heatMapHourAll) return `${val}:00`;
const hour = document.getElementById("heatMapHour").value;
return `${("0" + hour).slice(-2)}:${("0" + val).slice(-2)}`;
},
},
title: {
display: true,
text: heatMapHourAll ? "Hour" : "Minute",
},
},
y: {
type: "linear",
reverse: true,
min: 0,
max: 7,
offset: false,
grid: { display: true, drawTicks: true, tickLength: 8 },
title: { display: true, text: "Day" },
},
},
plugins: {
...baseConfig.plugins,
legend: { display: false },
},
},
}),
radar: () => ({
type: "radar",
data: graphData,
options: {
...baseConfig,
elements: {
line: {
borderWidth: 3
},
},
plugins: {
...baseConfig.plugins,
tooltip: { enabled: true },
legend: { display: true },
},
scales: {
r: {
angleLines: {
display: true
},
grid: {
display: true
},
pointLabels: {
display: true
},
ticks: {
display: false
}
}
}
},
}),
};
const config = configMap[graphType]?.();
if (config?.options?.scales) {
if (xTitle === "Duration" && config.options.scales.x) {
config.options.scales.x.ticks.callback = (value) => format_duration(value);
}
if (yTitle === "Duration" && config.options.scales.y) {
config.options.scales.y.ticks.callback = (value) => format_duration(value);
}
}
if (xTitle === "Duration" || yTitle === "Duration") {
config.options.plugins.tooltip = {
...config.options.plugins.tooltip,
callbacks: {
...config.options.plugins.tooltip?.callbacks,
label: function (context) {
const val = context.parsed.y ?? context.parsed.x ?? context.raw;
if (typeof val === "number") {
return format_duration(val);
}
return val;
},
},
};
}
if (!settings.show.legends) {
config.options.plugins.legend = config.options.plugins.legend || {};
config.options.plugins.legend.display = false;
}
if (!settings.show.axisTitles) {
if (config.options.scales && config.options.scales.x && config.options.scales.x.title) {
config.options.scales.x.title.display = false;
}
if (config.options.scales && config.options.scales.y && config.options.scales.y.title) {
config.options.scales.y.title.display = false;
}
}
return config;
}
// === filter.js ===
// function updates the data in the graphs whenever filters are updated
function setup_filtered_data_and_filters() {
filteredRuns = remove_milliseconds(runs)
filteredSuites = remove_milliseconds(suites)
filteredTests = remove_milliseconds(tests)
filteredKeywords = remove_milliseconds(keywords)
// filter run data
filteredRuns = filter_runs(filteredRuns);
filteredRuns = filter_runtags(filteredRuns);
filteredRuns = filter_dates(filteredRuns);
filteredRuns = filter_amount(filteredRuns);
filteredRuns = filter_metadata(filteredRuns);
filteredRuns = filter_project_versions(filteredRuns);
// filter suites and tests based on filtered runs
filteredSuites = filter_data(filteredSuites);
filteredTests = filter_data(filteredTests);
filteredKeywords = filter_data(filteredKeywords);
// set titles with amount of filtered items
const runAmount = Object.keys(filteredRuns).length
const message = `<h6>showing ${runAmount} of ${filteredAmount} runs</h6>`
document.getElementById("unifiedTitle").innerHTML
= `${(unified_dashboard_title && !unified_dashboard_title.includes("Robot Framework Dashboard -"))
? unified_dashboard_title
: "Dashboard Statistics"} (${runAmount}) ${message}`;
document.getElementById("runTitle").innerHTML = `Run Statistics (${runAmount}) ${message}`;
document.getElementById("suiteTitle").innerHTML = `Suite Statistics (${Object.keys(filteredSuites).length}) ${message}`;
document.getElementById("testTitle").innerHTML = `Test Statistics (${Object.keys(filteredTests).length}) ${message}`;
document.getElementById("keywordTitle").innerHTML = `Keyword Statistics (${Object.keys(filteredKeywords).length}) ${message}`;
document.getElementById("compareTitle").innerHTML = `Compare Statistics ${message}`;
document.getElementById("tablesTitle").innerHTML = `Table Statistics (${runAmount}) ${message}`;
// update filters based on data
setup_runs_in_compare_selects();
setup_suites_in_suite_select();
setup_suites_in_test_select();
setup_testtags_in_select();
setup_tests_in_select();
setup_keywords_in_select();
}
// function to remove milliseconds if needed
function remove_milliseconds(data) {
if (settings.show.milliseconds) { return data; }
return data.map(obj => ({
...obj,
run_start: obj.run_start.slice(0, 19)
}));
}
// function to filter run data based on the runs (aka run name) filter
function filter_runs(runs) {
if (selectedRunSetting != '') {
document.getElementById("runs").value = selectedRunSetting
selectedRunSetting = ''
}
const selectedRun = document.getElementById("runs").value;
if (selectedRun === "All") {
var selectedRuns = runs
} else {
var selectedRuns = Object.values(runs).filter(run => run.name === selectedRun)
}
return selectedRuns;
}
// function to filter run data based on the run tags filter
function filter_runtags(runs) {
const tagElements = document.getElementById("runTag").getElementsByTagName("input");
const useOrTags = document.getElementById("useOrTags").checked;
if (selectedTagSetting != '') {
for (const input of tagElements) {
input.checked = false;
if (input.id === selectedTagSetting) {
input.checked = true;
}
}
useOrTags.checked = false;
selectedTagSetting = ''
}
const selectedTags = Array.from(tagElements)
.filter(tagElement => tagElement.checked)
.map(tagElement => tagElement.id);
if (selectedTags.includes("All")) { // If "All" is selected, return all runs
return runs;
}
if (selectedTags.length === 0) { // If no tags are selected, return an empty list
return [];
}
return runs.filter(run => {
const runTags = run.tags.split(",");
if (!useOrTags) { // Use AND logic: the run must contain all selected tags
return selectedTags.every(selectedTag => runTags.includes(selectedTag));
}
// Use OR logic: the run must contain at least one selected tag
return selectedTags.some(selectedTag => runTags.includes(selectedTag));
});
}
// filter run data based on the project version filter
function filter_project_versions(runs) {
const selectedProjectVersions = new Set(
Array.from(
document.querySelectorAll('#projectVersionList input[type="checkbox"]:checked')
).map(el => el.value)
);
if (!selectedProjectVersions.size) return [];
if (selectedProjectVersions.has("All")) return runs;
return runs.filter(run => {
if (run.project_version === null) { // allow filter for runs with no project version
return selectedProjectVersions.has("None");
}
return selectedProjectVersions.has(run.project_version);
});
}
// function to filter the run data based on the selected date range
function filter_dates(runs) {
const fromDate = document.getElementById("fromDate").value;
const fromTime = document.getElementById("fromTime").value;
const toDate = document.getElementById("toDate").value;
const toTime = document.getElementById("toTime").value;
if (!fromDate || !fromTime || !toDate || !toTime) { // Return all runs if any date/time values are missing
return runs;
}
const fromDateTime = new Date(`${fromDate} ${fromTime}:00`);
const toDateTime = new Date(`${toDate} ${toTime}:00`);
if (fromDateTime > toDateTime) { // Check for valid date range
alert("Filter error: The selected from date + time is later than your selected to date + time. Date filter has not been applied!");
return runs;  // Return all runs if invalid range
}
return runs.filter(run => {
const runStart = new Date(run.run_start);
return runStart >= fromDateTime && runStart <= toDateTime;
});
}
// function to filter the amount of runs based on the filter
function filter_amount(filteredRuns) {
var selectedAmount = document.getElementById("amount").value;
// Handle weird selectedAmountValues:
if (selectedAmount == "") {
$("#amount").val(10).trigger("change.amount");
selectedAmount = document.getElementById("amount").value;
}
if (selectedAmount > runs.length) {
$("#amount").val(runs.length).trigger("change.amount");
selectedAmount = document.getElementById("amount").value;
}
if (selectedAmount < 0) {
$("#amount").val(0).trigger("change.amount");
selectedAmount = document.getElementById("amount").value;
}
if (selectedAmount.includes(",")) {
$("#amount").val(selectedAmount.split(",")[0]).trigger("change.amount");
selectedAmount = document.getElementById("amount").value;
}
if (selectedAmount.includes(".")) {
$("#amount").val(selectedAmount.split(".")[0]).trigger("change.amount");
selectedAmount = document.getElementById("amount").value;
}
filteredAmount = filteredRuns.length
if (selectedAmount == 0) { return [] }
filteredRuns = filteredRuns.slice(- selectedAmount)
return filteredRuns
}
// function to filter the runs based on the selected metadata key:value pair
function filter_metadata(filteredRuns) {
const selectedMetadata = document.getElementById("metadata").value;
if (selectedMetadata == '' || selectedMetadata == 'All') return filteredRuns;
var filteredData = []
for (const run of filteredRuns) {
if (run.metadata.includes(selectedMetadata)) {
filteredData.push(run)
}
}
return filteredData
}
// function to filter suites/tests/keywords based on the already filtered runs
function filter_data(data) {
// Step 1: Only include entries that match filteredRuns
const validRunStarts = filteredRuns.map(v => v.run_start);
let filteredData = data.filter(v => validRunStarts.includes(v.run_start));
// Step 2: Check if the first element has an "owner" key
if (filteredData.length > 0 && "owner" in filteredData[0]) {
const libraries = settings.libraries || {};
filteredData = filteredData.filter(item => {
// if item has no owner, keep it
if (!item.owner) return true;
// if owner not in settings.libraries, assume enabled
if (!(item.owner in libraries)) return true;
// otherwise, include only if library is enabled
return libraries[item.owner];
});
}
return filteredData;
}
// function to update the available runs in the selects
function setup_runs_in_compare_selects() {
const selects = compareRunIds.map(id => document.getElementById(id));
const items = filteredRuns.map(run => settings.show.aliases ? run.run_alias : run.run_start);
selects.forEach(select => select.innerHTML = "")
selects.forEach(select => {
select.options.add(new Option("None", "None"));
items.forEach(item => select.options.add(new Option(item, item)));
});
selects[0].selectedIndex = selects[0].options.length - 1;
selects[1].selectedIndex = selects[1].options.length - 2;
}
// function to update the available suites to select in the suite filters
function setup_suites_in_suite_select() {
const suiteSelectSuites = document.getElementById("suiteSelectSuites");
const suiteFolder = document.getElementById("suiteFolder").innerText;
suiteSelectSuites.innerHTML = "";
var suiteNames = new Set()
for (const suite of filteredSuites) {
if (suiteFolder != "All" && !(suite.full_name.startsWith(suiteFolder + ".") || suite.full_name == suiteFolder)) {
continue
}
if (settings.switch.suitePathsSuiteSection) {
suiteNames.add(suite.full_name);
} else {
suiteNames.add(suite.name);
}
}
suiteNames = [...suiteNames].sort()
suiteSelectSuites.options.add(new Option("All Suites Separate", "All Suites Separate"));
suiteSelectSuites.options.add(new Option("All Suites Combined", "All Suites Combined"));
suiteNames.forEach(suiteName => {
suiteSelectSuites.options.add(new Option(suiteName, suiteName));
});
suiteSelectSuites.selectedIndex = 1;
}
// function to update the available suites to select in the test filters
function setup_suites_in_test_select() {
const suiteSelectTests = document.getElementById("suiteSelectTests");
suiteSelectTests.innerHTML = "";
const suiteNames = settings.switch.suitePathsTestSection
? [...new Set(filteredSuites.map(suite => suite.full_name))].sort()
: [...new Set(filteredSuites.map(suite => suite.name))].sort();
suiteSelectTests.options.add(new Option("All", "All"));
suiteNames.forEach(suiteName => {
suiteSelectTests.options.add(new Option(suiteName, suiteName));
});
suiteSelectTests.selectedIndex = 1;
}
// function to update the available tests to select in the filters
// applies to the test filter on the test statistics level
function setup_tests_in_select() {
const suiteSelectTests = document.getElementById("suiteSelectTests").value;
const testTagsSelect = document.getElementById("testTagsSelect").value;
const testSelect = document.getElementById("testSelect");
testSelect.innerHTML = "";
const testNames = filteredTests.reduce((names, test) => {
const isInSuite = settings.switch.suitePathsTestSection
? test.full_name.includes(`${suiteSelectTests}.${test.name}`) || suiteSelectTests === "All"
: test.full_name.includes(`.${suiteSelectTests}.${test.name}`) || suiteSelectTests === "All"
const hasTag = testTagsSelect === "All" || test.tags.includes(testTagsSelect);
if (isInSuite && hasTag && !names.includes(test.name)) {
names.push(test.name);
}
return names;
}, []);
testSelect.options.add(new Option("All", "All"));
testNames.forEach(testName => testSelect.options.add(new Option(testName, testName)));
}
// function to update the available testtags to select in the filters
// applies to the testtag filter on the test statistics level
function setup_testtags_in_select() {
const suiteSelectTests = document.getElementById("suiteSelectTests").value;
const testTagsSelect = document.getElementById("testTagsSelect");
testTagsSelect.innerHTML = "";
const testTags = [...new Set(filteredTests.reduce((tags, test) => {
if (settings.switch.suitePathsTestSection) {
if (test.full_name.includes(`${suiteSelectTests}.${test.name}`) || suiteSelectTests === "All") {
test.tags.replace(/\[|\]/g, "").split(",").forEach(tag => tags.push(tag.trim()));
}
} else {
if (test.full_name.includes(`.${suiteSelectTests}.${test.name}`) || suiteSelectTests === "All") {
test.tags.replace(/\[|\]/g, "").split(",").forEach(tag => tags.push(tag.trim()));
}
}
return tags;
}, []))].filter(Boolean);
testTagsSelect.options.add(new Option("All", "All"));
testTags.forEach(tag => testTagsSelect.options.add(new Option(tag, tag)));
}
// function to update the available keywords to select in the filters
// applies to the keyword filter on the keyword statistics level
function setup_keywords_in_select() {
const keywordSelect = document.getElementById("keywordSelect");
keywordSelect.innerHTML = "";
const useLibraryNames = settings?.switch?.useLibraryNames === true;
// Build display names depending on the setting
const keywordNames = [
...new Set(
filteredKeywords.map(keyword =>
useLibraryNames && keyword.owner
? `${keyword.owner}.${keyword.name}`
: keyword.name
)
)
].sort();
// Add options to select
keywordNames.forEach(keywordName => {
keywordSelect.options.add(new Option(keywordName, keywordName));
});
// Optionally select the last one
if (keywordNames.length > 0) {
keywordSelect.selectedIndex = keywordNames.length - 1;
}
}
// function to setup run amount filter maximum
function setup_run_amount_filter() {
document.getElementById("amount").setAttribute("max", runs.length)
}
// function that initializes the from date/time and to date/time selection boxes in the filters
function setup_lowest_highest_dates() {
var dates = [];
for (run of runs) {
dates.push(new Date(run.run_start));
}
if (dates.length == 0) {
document.getElementById("fromDate").value = "1900-01-01";
document.getElementById("fromTime").value = "00:00";
document.getElementById("toDate").value = "9999-12-31";
document.getElementById("toTime").value = "23:59";
return
}
var lowest = new Date(Math.min.apply(null, dates));
var highest = new Date(Math.max.apply(null, dates));
var tzoffset = new Date().getTimezoneOffset() * 60000;
lowest = new Date(new Date(lowest - tzoffset).getTime() + -1 * 60000); // this is to account for seconds in the initial filter value
highest = new Date(new Date(highest - tzoffset).getTime() + 1 * 60000); // this is to account for seconds in the initial filter value
lowest.setTime(lowest.getTime() - 1 * 60 * 60 * 1000) // minus 1 hour to account for possible daylight saving time switches of 1 hour!
highest.setTime(highest.getTime() + 1 * 60 * 60 * 1000) // plus 1 hour to account for possible daylight saving time switches of 1 hour!
document.getElementById("fromDate").value = lowest.toISOString().split("T")[0];
document.getElementById("fromTime").value = lowest.toISOString().split("T")[1].substring(0, 5);
document.getElementById("toDate").value = highest.toISOString().split("T")[0];
document.getElementById("toTime").value = highest.toISOString().split("T")[1].substring(0, 5);
}
// function to setup metadata filter if there is metadata in the data
function setup_metadata_filter() {
var metadataItems = new Set();
for (const run of runs) {
if (!run.metadata) continue;
const jsonStr = run.metadata.replace(/'/g, '"');
const parsed = JSON.parse(jsonStr);
parsed.forEach(item => metadataItems.add(item));
}
metadataItems = Array.from(metadataItems).sort((a, b) => a.localeCompare(b, undefined, { sensitivity: 'base' }));
const metadataFilter = document.getElementById("metadataFilter");
if (metadataItems.length > 0) {
metadataFilter.hidden = false;
const optionsHtml = metadataItems
.map(label => `<option value="${label}">${label}</option>`)
.join("");
const metadataSelect = document.getElementById("metadata");
metadataSelect.innerHTML = `<option value="All">All</option>` + optionsHtml;
} else {
metadataFilter.hidden = true;
}
}
// function to update the available runs to select in the filters
function setup_runs_in_select_filter_buttons() {
const runOptions = new Set();
runs.forEach(run => runOptions.add(run.name));
const optionsHtml = Array.from(runOptions)
.map(runName => `<option value="${runName}">${runName}</option>`)
.join("");
const runsSelect = document.getElementById("runs");
runsSelect.innerHTML = `<option value="All">All</option>` + optionsHtml;
}
// function to update the available runtags to select in the filters
function setup_runtags_in_select_filter_buttons() {
const tags = new Set();
runs.forEach(run => {
run.tags.split(",").forEach(tag => {
if (tag) { // Avoid adding empty tags
tags.add(tag);
}
});
});
const andOrTags = `
<li class="list-group-item d-flex small">
<div class="btn-group form-switch">
<input class="form-check-input" type="checkbox" role="switch" id="useOrTags" />
</div>
<div class="btn-group">
<label class="form-check-label" for="useOrTags">Use OR (default AND)</label>
</div>
</li>
`;
const listItemTemplate = (value) => `
<li class="list-group-item list-group-item-action d-flex small">
<input class="form-check-input me-1" type="checkbox" value="${value}" id="${value}">
<label class="form-check-label ms-2" for="${value}">${value}</label>
</li>
`;
const listItems = [listItemTemplate("All")].concat(
Array.from(tags).map(tag => listItemTemplate(tag))
).join("");
const tagsSelect = document.getElementById("runTag");
tagsSelect.innerHTML = andOrTags + listItems;
if (tags.size > 0) {
document.getElementById("runTagFilter").hidden = false
} else {
document.getElementById("runTagFilter").hidden = true
}
const allRunTagsCheckBox = document.getElementById("All");
allRunTagsCheckBox.checked = true;
const filterActiveIndicatorId = "filterRunTagSelectedIndicator";
setup_filter_active_indicator(allRunTagsCheckBox, filterActiveIndicatorId);
setup_filter_checkbox_subfilter("runTagCheckBoxes");
setup_filter_checkbox_handler_listeners(tagsSelect, allRunTagsCheckBox, filterActiveIndicatorId);
}
// create projectVersions checkboxes in filters
function setup_project_versions_in_select_filter_buttons() {
const projectVersionList = document.getElementById("projectVersionList");
projectVersionList.innerHTML = '';
const projectVersionOptionsSet = new Set(
runs
.map(run => run.project_version)
.filter(ver => ver != null)
);
const projectVersionOptions = [...projectVersionOptionsSet].sort().reverse();
projectVersionOptions.unshift("None");
projectVersionOptions.unshift("All");
const prefix = "projectVersionInputItem";
const listItemTemplate = (prefix, value) => `
<li class="list-group-item list-group-item-action d-flex small">
<input class="form-check-input me-1" type="checkbox" value="${value}" id="${prefix}${value}">
<label class="form-check-label ms-2" for="${prefix}${value}">${value}</label>
</li>
`;
const projectVersionListHtml = projectVersionOptions
.map(projectVersion => listItemTemplate(prefix, projectVersion))
.join('');
projectVersionList.innerHTML = projectVersionListHtml;
const allVersionsCheckBox = document.getElementById(`${prefix}All`);
allVersionsCheckBox.checked = true;
const filterVersionSelectedIndicatorId = "filterVersionSelectedIndicator";
setup_filter_active_indicator(allVersionsCheckBox, filterVersionSelectedIndicatorId);
setup_filter_checkbox_subfilter("projectVersionCheckBoxes");
setup_filter_checkbox_handler_listeners(projectVersionList, allVersionsCheckBox, filterVersionSelectedIndicatorId);
}
// show filter active indicator if checkBoxElement unchecked
function setup_filter_active_indicator(checkBoxElement, filterActiveIndicatorId) {
checkBoxElement.addEventListener("change", () => {
update_filter_active_indicator(checkBoxElement.id, filterActiveIndicatorId);
});
}
function update_filter_active_indicator(allCheckBoxId, filterActiveIndicatorId) {
const filterActiveIndicator = document.getElementById(filterActiveIndicatorId);
const allCheckBox = document.getElementById(allCheckBoxId);
filterActiveIndicator.style.display = allCheckBox.checked ? "none" : "inline-block";
}
function unselect_checkboxes(checkBoxesToUnselect) {
for (const checkBox of checkBoxesToUnselect) {
checkBox.checked = false;
}
}
function handle_overview_latest_version_selection(overviewVersionSelectorList, latestRunByProject) {
const selectedOptions = Array.from(
overviewVersionSelectorList.querySelectorAll("input:checked")
).map(inputElement => inputElement.value);
if (selectedOptions.includes("All")) {
create_overview_latest_graphs(latestRunByProject);
} else {
const filteredLatestRunByProject = Object.fromEntries(
Object.entries(latestRunByProject)
.filter(([projectName, run]) => selectedOptions.includes(run.project_version ?? "None"))
);
create_overview_latest_graphs(filteredLatestRunByProject);
}
update_overview_latest_heading();
}
// this function updates the version select list in the latest runs bar
function update_overview_version_select_list() {
const overviewLatestVersionSelectorList = document.getElementById("overviewLatestVersionSelectorList");
if (overviewLatestVersionSelectorList) {
overviewLatestVersionSelectorList.innerHTML = '';
if (settings.switch.runName || settings.switch.runTags) {
const filteredLatestRunByProject = {};
settings.switch.runName && Object.assign(filteredLatestRunByProject, latestRunByProjectName);
settings.switch.runTags && Object.assign(filteredLatestRunByProject, latestRunByProjectTag);
const runAmountByVersion = {};
for (const run of Object.values(filteredLatestRunByProject)) {
const projectVersion = run.project_version ?? "None";
runAmountByVersion[projectVersion] ??= 0;
runAmountByVersion[projectVersion]++;
}
const allVersionAmountInFilter = Object.keys(runAmountByVersion).length;
const versionFilterListItemAllHtml = generate_version_filter_list_item_html("All", "overviewLatest", "checked", allVersionAmountInFilter, "version");
const specificVersionFilterListItemHtml = Object.keys(runAmountByVersion)
.sort()
.reverse()
.map(version => {
return generate_version_filter_list_item_html(
version,
"overviewLatest",
"", //not checked
runAmountByVersion[version],
"run"
)
}).join('');
overviewLatestVersionSelectorList.innerHTML = versionFilterListItemAllHtml + specificVersionFilterListItemHtml;
const allCheckBox = document.getElementById("overviewLatestVersionFilterListItemAllInput");
setup_filter_checkbox_handler_listeners(
overviewLatestVersionSelectorList,
allCheckBox,
"overviewLatestVersionSelectedIndicator",
() => { handle_overview_latest_version_selection(overviewLatestVersionSelectorList, filteredLatestRunByProject) }
);
}
}
}
// for runTag/version filter popup and overview
function setup_filter_checkbox_handler_listeners(
checkBoxContainerElement,
allCheckBox,
filterActiveIndicatorId = null,
additionalCheckBoxFunc = null //for overview version selector
) {
const inputItemQueryString = "input.form-check-input:not([role='switch'])"; //not and/or switch
const nonAllCheckBoxes = Array
.from(
checkBoxContainerElement
.querySelectorAll(inputItemQueryString)
).filter(checkBox => checkBox !== allCheckBox);
allCheckBox.addEventListener('change', () => {
if (allCheckBox.checked) {
unselect_checkboxes(nonAllCheckBoxes);
additionalCheckBoxFunc && additionalCheckBoxFunc();
} else {
allCheckBox.checked = true; //prevent unselecting All if no other checkboxes checked
}
filterActiveIndicatorId && update_filter_active_indicator(allCheckBox.id, filterActiveIndicatorId);
});
for (const checkBox of nonAllCheckBoxes) {
checkBox.addEventListener('change', () => {
if (checkBox.checked) {
allCheckBox.checked = false; //uncheck All if other checkbox checked
filterActiveIndicatorId && update_filter_active_indicator(allCheckBox.id, filterActiveIndicatorId);
} else if (!nonAllCheckBoxes.some(checkBox => checkBox.checked)) {
allCheckBox.checked = true;
filterActiveIndicatorId && update_filter_active_indicator(allCheckBox.id, filterActiveIndicatorId);
}
additionalCheckBoxFunc && additionalCheckBoxFunc();
});
}
}
function setup_filter_checkbox_subfilter(parentElementId) {
const container = document.getElementById(parentElementId);
const searchBar = container.querySelector("input.form-control");
const checkBoxRows = container.querySelectorAll("li.list-group-item-action");
searchBar.addEventListener("input", () => {
const filterText = searchBar.value.toLowerCase();
checkBoxRows.forEach(row => {
const checkbox = row.querySelector("input.form-check-input");
const rowValue = checkbox.value.toLowerCase();
const shouldHide = !rowValue.includes(filterText);
row.classList.toggle("d-none", shouldHide);
});
});
}
function generate_version_filter_list_item_html(version, projectName, checked, amount, amountType) {
function versionFilterListItemInput(version, id, checked) {
return `<input class="form-check-input version-checkbox" type="checkbox" value="${version}" id="${id}" ${checked}>`
};
function versionFilterListItemLabel(forId, version, amount, amountType, pluralPostfix) {
return `<label class="form-check-label" for="${forId}">${version} (${amount} ${amountType}${pluralPostfix})</label>`
};
const listItemId = `${projectName}VersionFilterListItem`;
const listItemInputId = `${listItemId}${version}Input`;
const pluralPostfix = amount === 1 ? '' : 's';
return `
<li>
<div class="form-check">
${versionFilterListItemInput(version, listItemInputId, checked)}
${versionFilterListItemLabel(listItemInputId, version, amount, amountType, pluralPostfix)}
</div>
</li>
`
}
function clear_all_filters() {
clear_project_filter();
clear_version_filter();
document.getElementById("amount").value = filteredAmountDefault;
document.getElementById("metadata").value = "All";
setup_lowest_highest_dates();
}
function clear_version_filter() {
document.getElementById("projectVersionCheckBoxesFilter").value = "";
const versionElements = document.getElementById("projectVersionList").getElementsByTagName("input");
for (const input of versionElements) {
input.checked = false;
input.parentElement.classList.remove("d-none"); //show filtered rows
if (input.value == "All") input.checked = true;
}
update_filter_active_indicator("projectVersionInputItemAll", "filterVersionSelectedIndicator");
}
function set_filter_show_current_version(version) {
const projectVersionList = document.getElementById("projectVersionList");
document.getElementById("projectVersionInputItemAll").checked = false;
projectVersionList.querySelector(`input[value="${version}"]`).checked = true;
update_filter_active_indicator("projectVersionInputItemAll", "filterVersionSelectedIndicator");
}
// === layout.js ===
// they are used in the window[grid] references
// function to order the sections according to the config
function setup_section_order() {
// Show unified when dashboard menu is active AND unified mode is on
document.getElementById("unified").hidden = !(settings.menu.dashboard && settings.show.unified);
document.getElementById("overview").hidden = !settings.menu.overview;
document.getElementById("dashboard").hidden = !(settings.menu.dashboard && !settings.show.unified);
document.getElementById("compare").hidden = !settings.menu.compare;
document.getElementById("tables").hidden = !settings.menu.tables;
const order_sections = (sectionsConfig, topAnchorId) => {
let prevId = `#${topAnchorId}`;
// Show
for (const section of sectionsConfig.show) {
let sectionId;
if (topAnchorId !== "topOverviewSection") {
// 1. Keep overview statistics as-is (camel-cased id)
sectionId = space_to_camelcase(section + "Section");
} else {
// 2. For overview non-defaults, use raw id pattern: section+"Section"
sectionId = section + "Section";
}
const sectionEl = document.getElementById(sectionId);
if (!sectionEl) continue;
if (topAnchorId === "topDashboardSection") {
sectionEl.hidden = false;
}
$(`#${sectionId}`).insertAfter(prevId);
prevId = `#${sectionId}`;
}
// Hide
for (const section of sectionsConfig.hide) {
const sectionId = space_to_camelcase(section + "Section");
const sectionEl = document.getElementById(sectionId);
if (!sectionEl) continue;
if (gridEditMode) {
sectionEl.hidden = false;
$(`#${sectionId}`).insertAfter(prevId);
prevId = `#${sectionId}`;
} else {
sectionEl.hidden = true;
}
}
};
order_sections(settings.view.dashboard.sections, "topDashboardSection");
order_sections(settings.view.overview.sections, "topOverviewSection");
// expand only the top section in the overview page
const overviewBars = document.querySelectorAll("#overview .overview-bar:not([hidden])");
overviewBars.forEach((bar, i) => {
const btn = bar.querySelector(".collapse-icon");
const isExpanded = !!btn.querySelector(".lucide-chevron-down-icon");
const isCollapsed = !!btn.querySelector(".lucide-chevron-right-icon");
if (i === 0) {
if (isCollapsed) {
btn.click();
}
return;
}
if (isExpanded) {
btn.click();
}
});
if (gridEditMode) {
document.querySelectorAll(".move-up-section").forEach(btn => { btn.hidden = false })
document.querySelectorAll(".move-down-section").forEach(btn => { btn.hidden = false })
document.querySelectorAll(".shown-section, .hidden-section").forEach(btn => {
const prefix = btn.id.slice(0, 3);
const label = prefix.charAt(0).toUpperCase();
// Decide context: dashboard or overview based on the containing section/card
const isOverview = !!btn.closest('#overview');
const showList = isOverview
? settings.view.overview.sections.show
: settings.view.dashboard.sections.show;
let shouldShow = showList.some(section => section.startsWith(label));
if (btn.classList.contains("shown-section")) {
btn.hidden = !shouldShow;
} else if (btn.classList.contains("hidden-section")) {
btn.hidden = shouldShow;
}
});
} else {
document.querySelectorAll(".move-up-section").forEach(btn => { btn.hidden = true })
document.querySelectorAll(".move-down-section").forEach(btn => { btn.hidden = true })
document.querySelectorAll(".shown-section").forEach(btn => { btn.hidden = true })
document.querySelectorAll(".hidden-section").forEach(btn => { btn.hidden = true })
}
}
// function to order the grphs according to the localstorage config
function setup_graph_order() {
setup_grid_graphs("Unified")
setup_grid_graphs("Run")
setup_grid_graphs("Suite")
setup_grid_graphs("Test")
setup_grid_graphs("Keyword")
setup_grid_graphs("Compare")
setup_tables()
}
function setup_grid_graphs(section) {
const grid = `grid${section}`;
const gridConfig = {
cellHeight: 100,
float: false,
resizable: { handles: 'all' }
};
const initialize_grid = () => {
const gridElement = document.getElementById(grid);
return GridStack.init(gridConfig, gridElement);
};
if (!window[grid] || typeof window[grid].destroy !== 'function') {
window[grid] = initialize_grid();
} else {
window[grid].destroy();
const parentElement = document.getElementById(`${section.toLowerCase()}StatisticsSection`);
parentElement.insertAdjacentHTML('beforeend', `<div class="card-body grid-stack" id="${grid}"></div>`);
window[grid] = initialize_grid();
}
// Disable grid if not in edit mode
if (!gridEditMode) {
window[grid].disable();
}
// Clear hidden section data
const sectionDataHidden = document.getElementById(`${section.toLowerCase()}DataHidden`);
if (sectionDataHidden?.children.length > 0) {
sectionDataHidden.innerHTML = "";
}
// Determine which graphs to show/hide based on mode and section
const is_unified = settings.show.unified;
let graph_show = [];
let graph_hide = [];
if (section === "Compare") {
// Compare graphs always render in their own grid
graph_show = [...settings.view.compare.graphs.show];
graph_hide = [...settings.view.compare.graphs.hide];
} else if (is_unified && section === "Unified") {
// Unified mode: show all dashboard graphs in the unified grid
graph_show = [...settings.view.unified.graphs.show];
graph_hide = [...settings.view.unified.graphs.hide];
} else if (!is_unified && section !== "Unified") {
// Dashboard mode: show only section-specific graphs in their respective grids
graph_show = [...settings.view.dashboard.graphs.show];
graph_hide = [...settings.view.dashboard.graphs.hide];
} else {
// Skip processing if unified mode but not unified section, or vice versa
return;
}
const saved_layout = settings.layouts?.[grid] ? JSON.parse(settings.layouts[grid]) : null;
const default_size = { width: 4, height: 4 };
const max_columns = 12;
let current_x = 0;
let current_y = 0;
// Helper function to get next position for default layout
const get_next_position = () => {
const pos = { x: current_x, y: current_y };
current_x += default_size.width;
if (current_x >= max_columns) {
current_x = 0;
current_y += default_size.height;
}
return pos;
};
// Helper function to process graphs with layout
const process_graphs_with_layout = (graphs, is_visible) => {
graphs
.filter(graph => graph.startsWith(section === "Unified" ? "" : section)) // Simple filter: all graphs for unified, section-specific otherwise
.forEach(graph => {
const layout = saved_layout?.find(g => g.id === graph);
if (saved_layout && layout) {
add_graph(layout.id, layout.x, layout.y, layout.w, layout.h, is_visible);
} else {
const pos = get_next_position();
add_graph(graph, pos.x, pos.y, default_size.width, default_size.height, is_visible);
}
});
};
// Process graphs based on mode
if (gridEditMode) {
process_graphs_with_layout(graph_show, true);
process_graphs_with_layout(graph_hide, false);
} else {
process_graphs_with_layout(graph_show, true);
graph_hide
.filter(graph => graph.startsWith(section === "Unified" ? "" : section)) // Same simple filter
.forEach(graph => add_hidden_graph(graph));
}
function add_graph(id, x, y, w, h, shown = true) {
const item = document.createElement("div");
item.classList.add("grid-stack-item");
item.setAttribute("gs-x", x);
item.setAttribute("gs-y", y);
item.setAttribute("gs-w", w);
item.setAttribute("gs-min-w", 3);
item.setAttribute("gs-max-w", 12);
item.setAttribute("gs-h", h);
item.setAttribute("gs-min-h", 3);
item.setAttribute("gs-max-h", 12);
item.setAttribute("data-gs-id", id);
// showGraphHidden, hideGraphHidden
const graphConfig = graphMetadata.find(g => g.label == id);
var html = `<div class="grid-stack-item-content">${graphConfig.html}</div>`;
if (gridEditMode) {
if (shown) {
html = html.replace("showGraphHidden", "")
html = html.replace("hideGraphHidden", "hidden")
} else {
html = html.replace("showGraphHidden", "hidden")
html = html.replace("hideGraphHidden", "")
}
} else {
html = html.replace("showGraphHidden", "hidden")
html = html.replace("hideGraphHidden", "hidden")
}
item.innerHTML = html
window[grid].makeWidget(item);
if (settings.show.unified && section === "Unified") {
document.getElementById(`${graphConfig.key}Title`).innerText = graphConfig.label;
}
}
function add_hidden_graph(id) {
sectionDataHidden.insertAdjacentHTML("beforeend", graphMetadata.find(g => g.label == id).html);
}
}
function setup_tables() {
const tableGrid = document.getElementById("gridTable")
const tableHidden = document.getElementById("tableDataHidden")
tableGrid.innerHTML = ''
tableHidden.innerHTML = ''
settings.view.tables.graphs.show.forEach(table => {
var html = graphMetadata.find(g => g.label == table).html
if (gridEditMode) {
html = html
.replace("showGraphHidden", "")
.replace("hideGraphHidden", "hidden")
.replace("moveUpHidden", "")
.replace("moveDownHidden", "")
} else {
html = html
.replace("showGraphHidden", "hidden")
.replace("hideGraphHidden", "hidden")
.replace("moveUpHidden", "hidden")
.replace("moveDownHidden", "hidden")
}
tableGrid.insertAdjacentHTML('beforeend', html);
});
settings.view.tables.graphs.hide.forEach(table => {
var html = graphMetadata.find(g => g.label == table).html
if (gridEditMode) {
html = html.replace("showGraphHidden", "hidden")
html = html.replace("hideGraphHidden", "")
html = html.replace("moveUpHidden", "")
html = html.replace("moveDownHidden", "")
tableGrid.insertAdjacentHTML('beforeend', html);
} else {
html = html.replace("showGraphHidden", "hidden")
html = html.replace("hideGraphHidden", "hidden")
html = html.replace("moveUpHidden", "hidden")
html = html.replace("moveDownHidden", "hidden")
tableHidden.insertAdjacentHTML('beforeend', html);
}
})
}
function customize_layout() {
document.getElementById("customizeLayout").hidden = true;
document.getElementById("saveLayout").hidden = false;
add_alert("You can now change your layout. Don't forget to save!", "info")
}
function save_layout() {
document.getElementById("customizeLayout").hidden = false;
document.getElementById("saveLayout").hidden = true;
const shownDashboardItems = [];
const hiddenDashboardItems = [];
const shownUnifiedItems = [];
const hiddenUnifiedItems = [];
const shownCompareItems = [];
const hiddenCompareItems = [];
// save dashboard/unified/compare graph layout
const grids = document.querySelectorAll(".grid-stack");
grids.forEach(grid => {
const layout = window[`${grid.id}`].engine.nodes.map(w => {
const id = w.el?.getAttribute('data-gs-id');
return {
x: w.x,
y: w.y,
w: w.w,
h: w.h,
id
};
}).filter(w => w.id);
if (layout.length > 0) {
set_local_storage_item(`layouts.${grid.id}`, JSON.stringify(layout));
}
const shown = document.querySelectorAll(`#${grid.id} .shown-graph:not([hidden])`);
const hidden = document.querySelectorAll(`#${grid.id} .hidden-graph:not([hidden])`);
shown.forEach(btn => {
if (grid.id.includes("Compare")) {
shownCompareItems.push(graphMetadata.find(graph => graph.key == btn.id.replace("Shown", "")).label)
} else if (grid.id.includes("Unified")) {
shownUnifiedItems.push(graphMetadata.find(graph => graph.key == btn.id.replace("Shown", "")).label)
} else {
shownDashboardItems.push(graphMetadata.find(graph => graph.key == btn.id.replace("Shown", "")).label)
}
})
hidden.forEach(btn => {
if (grid.id.includes("Compare")) {
hiddenCompareItems.push(graphMetadata.find(graph => graph.key == btn.id.replace("Hidden", "")).label)
} else if (grid.id.includes("Unified")) {
hiddenUnifiedItems.push(graphMetadata.find(graph => graph.key == btn.id.replace("Hidden", "")).label)
} else {
hiddenDashboardItems.push(graphMetadata.find(graph => graph.key == btn.id.replace("Hidden", "")).label)
}
})
if (shownDashboardItems.length + hiddenDashboardItems.length > 0) {
set_local_storage_item("view.dashboard.graphs.show", shownDashboardItems)
set_local_storage_item("view.dashboard.graphs.hide", hiddenDashboardItems)
}
if (shownUnifiedItems.length + hiddenUnifiedItems.length > 0) {
set_local_storage_item("view.unified.graphs.show", shownUnifiedItems)
set_local_storage_item("view.unified.graphs.hide", hiddenUnifiedItems)
}
if (shownCompareItems.length + hiddenCompareItems.length > 0) {
set_local_storage_item("view.compare.graphs.show", shownCompareItems)
set_local_storage_item("view.compare.graphs.hide", hiddenCompareItems)
}
});
// save table section layout
const shownTables = [...document.querySelectorAll("#gridTable .shown-graph:not([hidden])")]
.map(el => {
const key = el.id.replace("Shown", "");
return graphMetadata.find(graph => graph.key === key)?.label;
});
const hiddenTables = [...document.querySelectorAll("#gridTable .hidden-graph:not([hidden])")]
.map(el => {
const key = el.id.replace("Hidden", "");
return graphMetadata.find(graph => graph.key === key)?.label;
});
if (shownTables.length + hiddenTables.length > 0) {
set_local_storage_item("view.tables.graphs.show", shownTables)
set_local_storage_item("view.tables.graphs.hide", hiddenTables)
}
// save dashboard section layout
const shownDashboardSections = [...document.querySelectorAll("#dashboard .shown-section:not([hidden])")]
.map(el => {
var key = el.id.replace("SectionShown", "");
key = String(key).charAt(0).toUpperCase() + String(key).slice(1);
return `${key} Statistics`
});
const hiddenDashboardSections = [...document.querySelectorAll("#dashboard .hidden-section:not([hidden])")]
.map(el => {
var key = el.id.replace("SectionHidden", "");
key = String(key).charAt(0).toUpperCase() + String(key).slice(1);
return `${key} Statistics`
});
if (shownDashboardSections.length + hiddenDashboardSections.length > 0) {
set_local_storage_item("view.dashboard.sections.show", shownDashboardSections)
set_local_storage_item("view.dashboard.sections.hide", hiddenDashboardSections)
}
// save overview section layout always shown
const shownOverviewSections = [...document.querySelectorAll("#overview .move-up-section")]
.map(el => {
if (el.id === "overviewSectionMoveUp") {
return "Overview Statistics"
}
return el.id.replace("SectionMoveUp", "");
});
if (shownOverviewSections.length > 0) {
set_local_storage_item("view.overview.sections.show", shownOverviewSections)
}
add_alert("Layout has been updated and saved to settings in local storage!", "success")
}
function setup_edit_mode_icons(hidden) {
document.querySelectorAll(".bar-graph").forEach(btn => btn.hidden = hidden)
document.querySelectorAll(".line-graph").forEach(btn => btn.hidden = hidden)
document.querySelectorAll(".timeline-graph").forEach(btn => btn.hidden = hidden)
document.querySelectorAll(".radar-graph").forEach(btn => btn.hidden = hidden)
document.querySelectorAll(".pie-graph").forEach(btn => btn.hidden = hidden)
document.querySelectorAll(".percentage-graph").forEach(btn => btn.hidden = hidden)
document.querySelectorAll(".stats-graph").forEach(btn => btn.hidden = hidden)
document.querySelectorAll(".boxplot-graph").forEach(btn => btn.hidden = hidden)
document.querySelectorAll(".heatmap-graph").forEach(btn => btn.hidden = hidden)
document.querySelectorAll(".fullscreen-graph").forEach(btn => btn.hidden = hidden)
if (hidden) {
document.querySelector('.navbar-nav').classList.add('navbar-disabled');
document.querySelectorAll('.navbar-disabled').forEach(el => {
el.classList.add("information")
el.setAttribute("data-title", "Save your layout changes first! (Save Icon)");
});
} else {
document.querySelectorAll('.navbar-disabled').forEach(el => {
el.classList.remove("information")
el.removeAttribute("data-title")
});
document.querySelector('.navbar-nav').classList.remove('navbar-disabled');
}
}
// Reusable handler to wire show/hide and move controls within a container
function attach_section_order_buttons(containerId) {
const root = `#${containerId}`;
// Toggle shown/hidden buttons
document.querySelectorAll(`${root} .shown-section`).forEach(btn => {
btn.addEventListener("click", () => {
btn.hidden = true;
const target = document.getElementById(`${btn.id.replace("Shown", "Hidden")}`);
if (target) target.hidden = false;
});
});
document.querySelectorAll(`${root} .hidden-section`).forEach(btn => {
btn.addEventListener("click", () => {
btn.hidden = true;
const target = document.getElementById(`${btn.id.replace("Hidden", "Shown")}`);
if (target) target.hidden = false;
});
});
// Move cards up/down within the container
document.querySelectorAll(`${root} .move-up-section`).forEach(btn => {
btn.addEventListener("click", () => {
const card = btn.closest(".card");
const previousCard = card?.previousElementSibling;
if (previousCard && !previousCard.hidden && previousCard.classList.contains("card")) {
card.parentNode.insertBefore(card, previousCard);
}
});
});
document.querySelectorAll(`${root} .move-down-section`).forEach(btn => {
btn.addEventListener("click", () => {
const card = btn.closest(".card");
const nextCard = card?.nextElementSibling;
if (nextCard && !nextCard.hidden && nextCard.classList.contains("card")) {
card.parentNode.insertBefore(nextCard, card);
}
});
});
}
// function to add the layout eventlisteners
function setup_dashboard_section_layout_buttons() {
document.addEventListener("graphs-finalized", () => {
if (gridEditMode) {
setup_edit_mode_icons(true);
} else {
setup_edit_mode_icons(false);
}
});
document.getElementById("customizeLayout").addEventListener("click", (e) => {
gridEditMode = !gridEditMode;
customize_layout();
setup_data_and_graphs();
});
document.getElementById("saveLayout").addEventListener("click", (e) => {
gridEditMode = !gridEditMode;
save_layout()
setup_data_and_graphs();
});
attach_section_order_buttons("dashboard");
}
// function to separately add the eventlisteners for overview section layout buttons
// this happens on first render of overview section only
function setup_overview_section_layout_buttons() {
attach_section_order_buttons("overview");
}
// === information.js ===
const informationMap = {
"rflogo": "Robot Framework",
"filters": "Filters",
"customizeLayout": "Customize Layout",
"saveLayout": "Save Layout",
"settings": "Settings",
"themeLight": "Theme",
"themeDark": "Theme",
"database": "Database Summary",
"versionInformation": 'Robotdashboard 1.6.2',
"bug": "Report a bug or request a feature",
"github": "Github",
"docs": "Docs",
"amount": "Amount of runs that are shown. Only the most recent x runs are shown after applying the other filters.",
"amountLabel": "Amount of runs that are shown. Only the most recent x runs are shown after applying the other filters.",
"overviewTotalInformation": `This section displays aggregate statistics across all runs:
- Passed/Failed/Skipped Runs: total count of runs with each status
- Average Duration: the mean duration across all runs in the project
- Average Pass Rate: the mean pass rate across all runs in the project
- Check out all options in the settings: 'Gear Icon' > 'Overview'`,
"overviewLatestInformation": `This section displays the latest run for each project:
- Duration color indicates performance relative to the average: green if more than x% faster, red if more than x% slower. You can adjust this threshold using the Percentage toggle. Version filters do not affect this.
- Passed runs represent the percentage of runs with zero failures.
- The 'Select Versions' dropdown menu allows filtering by desired versions. Click 'All' to quickly deselect all other checkboxes.
- The runs can also be filtered to only those whose version contains the text entered in the 'Version Filter...' input.
- Clicking on the run card applies a filter for that project and switches to dashboard
- Check out all options in the settings: 'Gear Icon' > 'Overview'`,
"unifiedStatisticsInformation": `This section provides unified statistics across all projects and runs:
- It combines run/suite/test/keyword data from all projects into a single dashboard view.
- You can apply the filters (menu filter icon) to focus on specific projects, versions, or timeframes.
- You can also apply specific suite/test/keyword filters (section filters) to drill down into particular areas of interest.
- Use the 'Customize Layout' option to tailor which graphs are displayed and their order.`,
"suiteStatisticsInformation": `This section provides statistics on the suite level:
- Folder Filter: Click on folder donuts to "zoom in" on specific suites. (Applies to Folders, Statistics and Duration Graphs)
- Suite Selection Dropdown: Choose a specific suite or all suites. (Applies to Statistics and Duration Graphs)
- Full Suite Paths Toggle: When enabled, shows the full suite path instead of only the suite name. Useful if there are duplicate suite names in different folders. (Applies to all Suite Graphs)`,
"testStatisticsInformation": `This section provides statistics on the test level:
- Suite Filter: Select one or multiple suites from a dropdown. (Applies to Statistics, Duration and Duration Deviation Graphs)
- Suite Paths Toggle: Same logic as the Suite section; allows distinguishing duplicate suite names. (Applies to all Test Graphs)
- Test Selection Dropdown: Zoom in on a specific test. (Applies to Statistics, Duration and Duration Deviation Graphs)
- Test Tag Dropdown: Filter tests by tags. (Applies to Statistics, Duration and Duration Deviation Graphs)`,
"keywordStatisticsInformation": `This section provides statistics on the keyword level:
- Keyword Dropdown: Select a specific keyword to zoom in on. (Applies to Statistics, Times Run, Total Duration, Average Duration, Min Duration, Max Duration Graphs)
- Library Names Toggle: Include library names in the keyword selection dropdown. (Applies to all Keyword Graphs)`,
"runStatisticsGraphPercentages": "Percentages: Displays the distribution of passed, failed, skipped tests per run, where 100% equals all tests combined",
"runStatisticsGraphAmount": "Amount: Displays the actual number of passed, failed, skipped tests per run",
"runStatisticsGraphLine": "Line: Displays the same data but over a time axis, useful for spotting failure patterns on specific dates or times",
"runStatisticsFullscreen": "Fullscreen",
"runStatisticsClose": "Close",
"runStatisticsShown": "Hide Graph",
"runStatisticsHidden": "Show Graph",
"runDonutGraphDonut": `This graph contains two donut charts:
- The first donut displays the percentage of passed, failed, and skipped tests for the most recent run..
- The second donut displays the total percentage of passed, failed, and skipped tests across all runs`,
"runDonutFullscreen": "Fullscreen",
"runDonutClose": "Close",
"runDonutShown": "Hide Graph",
"runDonutHidden": "Show Graph",
"runStatsGraphStats": `This section provides key statistics:
- Executed: Total counts of Runs, Suites, Tests, and Keywords that have been executed.
- Unique Tests: Displays the number of distinct test cases across all runs.
- Outcomes: Total Passed, Failed, and Skipped tests, including their percentages relative to the full test set.
- Duration: Displays the cumulative runtime of all runs, the average runtime per run, and the average duration of individual tests.
- Pass Rate: Displays the average run-level pass rate, helping evaluate overall reliability over time.`,
"runStatsFullscreen": "Fullscreen",
"runStatsClose": "Close",
"runStatsShown": "Hide Graph",
"runStatsHidden": "Show Graph",
"runDurationGraphBar": "Bar: Displays total run durations represented as vertical bars",
"runDurationGraphLine": "Displays the same data but over a time axis for clearer trend analysis",
"runDurationFullscreen": "Fullscreen",
"runDurationClose": "Close",
"runDurationShown": "Hide Graph",
"runDurationHidden": "Show Graph",
"runHeatmapGraphHeatmap": `This graph visualizes a heatmap of when tests are executed the most:
- All: Displays how many tests ran during the hours or minutes of the week days.
- Status: Displays only tests of the selected status.
- Hour: Displays only that hour so you get insights per minute.`,
"runHeatmapFullscreen": "Fullscreen",
"runHeatmapClose": "Close",
"runHeatmapShown": "Hide Graph",
"runHeatmapHidden": "Show Graph",
"suiteFolderDonutGraphDonut": `This graph contains two donut charts:
- The first donut displays the top-level folders of the suites and the amount of tests each folder contains.
- The second donut displays the same folder structure but only for the most recent run and only includes failed tests.
- Clicking on a folder updates the chart with the subfolders/suites it contains.
- Navigating folders also updates Suite Statistics and Suite Duration.
- Go Up: navigates to the parent folder level.
- Only Failed: filters to show only folders with failing tests.`,
"suiteFolderDonutFullscreen": "Fullscreen",
"suiteFolderDonutClose": "Close",
"suiteFolderDonutShown": "Hide Graph",
"suiteFolderDonutHidden": "Show Graph",
"suiteStatisticsGraphPercentages": "Percentages: Displays the passed, failed, skipped rate of test suites per run",
"suiteStatisticsGraphAmount": "Amount: Displays the actual number of passed, failed, skipped suites per run",
"suiteStatisticsGraphLine": "Line: Displays the same data but over a time axis, useful for spotting failure patterns on specific dates or times",
"suiteStatisticsFullscreen": "Fullscreen",
"suiteStatisticsClose": "Close",
"suiteStatisticsShown": "Hide Graph",
"suiteStatisticsHidden": "Show Graph",
"suiteDurationGraphBar": "Bar: Displays total suite durations represented as vertical bars",
"suiteDurationGraphLine": "Line: Displays the same data but over a time axis for clearer trend analysis",
"suiteDurationFullscreen": "Fullscreen",
"suiteDurationClose": "Close",
"suiteDurationShown": "Hide Graph",
"suiteDurationHidden": "Show Graph",
"suiteMostFailedGraphBar": "Bar: Displays suites ranked by number of failures represented as vertical bars. The default view shows the Top 10 most failed suites; fullscreen expands this to the Top 50.",
"suiteMostFailedGraphTimeline": "Timeline: Displays when failures occurred to identify clustering over time. The default view shows the Top 10 most failed suites; fullscreen expands this to the Top 50",
"suiteMostFailedFullscreen": "Fullscreen",
"suiteMostFailedClose": "Close",
"suiteMostFailedShown": "Hide Graph",
"suiteMostFailedHidden": "Show Graph",
"suiteMostTimeConsumingGraphBar": "Bar: Displays suites ranked by how often they were the slowest (most time-consuming) suite in a run. Each bar represents how many times a suite was the single slowest one across all runs. The regular view shows the Top 10; fullscreen mode expands the list to the Top 50. When 'Only Last Run' is enabled, this graph instead shows the Top 10 (or Top 50 in fullscreen) most time-consuming suites *within the latest run only*, ranked by duration.",
"suiteMostTimeConsumingGraphTimeline": "Timeline: Displays the slowest suite for each run on a timeline. For every run, only the single most time-consuming suite is shown. The regular view shows the Top 10 most frequently slowest suites; fullscreen mode expands the list to the Top 50. When 'Only Last Run' is enabled, the timeline shows only the latest run, highlighting its Top 10 (or Top 50 in fullscreen) most time-consuming suites by duration.",
"suiteMostTimeConsumingFullscreen": "Fullscreen",
"suiteMostTimeConsumingClose": "Close",
"suiteMostTimeConsumingShown": "Hide Graph",
"suiteMostTimeConsumingHidden": "Show Graph",
"testStatisticsGraphTimeline": `This graph displays the statistics of the tests in a timeline format
Status: Displays only tests don't have any status changes and have the selected status
Only Changes: Displays only tests that have changed statuses at some point in time
Tip: Don't use Status and Only Changes at the same time as it will result in an empty graph`,
"testStatisticsFullscreen": "Fullscreen",
"testStatisticsClose": "Close",
"testStatisticsShown": "Hide Graph",
"testStatisticsHidden": "Show Graph",
"testDurationGraphBar": "Bar: Displays test durations represented as vertical bars",
"testDurationGraphLine": "Line: Displays the same data but over a time axis for clearer trend analysis",
"testDurationFullscreen": "Fullscreen",
"testDurationClose": "Close",
"testDurationShown": "Hide Graph",
"testDurationHidden": "Show Graph",
"testDurationDeviationGraphBar": `This boxplot chart displays how much test durations deviate from the average, represented as vertical bars.
It helps identify tests with inconsistent execution times, which might be flaky or worth investigating`,
"testDurationDeviationFullscreen": "Fullscreen",
"testDurationDeviationClose": "Close",
"testDurationDeviationShown": "Hide Graph",
"testDurationDeviationHidden": "Show Graph",
"testMessagesGraphBar": `Bar: Displays messages ranked by number of occurrences represented as vertical bars
- The regular view shows the Top 10 most frequent messages; fullscreen mode expands this to the Top 50.
- To generalize messages (e.g., group similar messages), use the -m/--messageconfig option in the CLI (--help or README).`,
"testMessagesGraphTimeline": `Timeline: Displays when those messages occurred to reveal problem spikes
- The regular view shows the Top 10 most frequent messages; fullscreen mode expands this to the Top 50.
- To generalize messages (e.g., group similar messages), use the -m/--messageconfig option in the CLI (--help or README).`,
"testMessagesFullscreen": "Fullscreen",
"testMessagesClose": "Close",
"testMessagesShown": "Hide Graph",
"testMessagesHidden": "Show Graph",
"testMostFlakyGraphBar": `Bar: Displays tests ranked by frequency of status changes represented as vertical bars
- The regular view shows the Top 10 flaky tests; fullscreen mode expands the list to the Top 50.
- Ignore Skips: filters to only count passed/failed as status flips and not skips.`,
"testMostFlakyGraphTimeline": `Timeline: Displays when the status changes occurred across runs
- The regular view shows the Top 10 flaky tests; fullscreen mode expands the list to the Top 50.
- Ignore Skips: filters to only count passed/failed as status flips and not skips.`,
"testMostFlakyFullscreen": "Fullscreen",
"testMostFlakyClose": "Close",
"testMostFlakyShown": "Hide Graph",
"testMostFlakyHidden": "Show Graph",
"testRecentMostFlakyGraphBar": `Bar: Displays tests ranked by frequency of recent status changes represented as vertical bars
- The regular view shows the Top 10 flaky tests; fullscreen mode expands the list to the Top 50.
- Ignore Skips: filters to only count passed/failed as status flips and not skips.`,
"testRecentMostFlakyGraphTimeline": `Timeline: Displays when the status changes occurred across runs
- The regular view shows the Top 10 flaky tests; fullscreen mode expands the list to the Top 50.
- Ignore Skips: filters to only count passed/failed as status flips and not skips.`,
"testRecentMostFlakyFullscreen": "Fullscreen",
"testRecentMostFlakyClose": "Close",
"testRecentMostFlakyShown": "Hide Graph",
"testRecentMostFlakyHidden": "Show Graph",
"testMostFailedGraphBar": `Bar: Displays tests ranked by total number of failures represented as vertical bars. The regular view shows the Top 10 most failed tests; fullscreen mode expands the list to the Top 50.`,
"testMostFailedGraphTimeline": `Displays when failures occurred across runs. The regular view shows the Top 10 most failed tests; fullscreen mode expands the list to the Top 50.`,
"testMostFailedFullscreen": "Fullscreen",
"testMostFailedClose": "Close",
"testMostFailedShown": "Hide Graph",
"testMostFailedHidden": "Show Graph",
"testRecentMostFailedGraphBar": `Bar: Displays recent tests ranked by total number of failures represented as vertical bars. The regular view shows the Top 10 most failed tests; fullscreen mode expands the list to the Top 50.`,
"testRecentMostFailedGraphTimeline": `Displays when most recent failures occurred across runs. The regular view shows the Top 10 most failed tests; fullscreen mode expands the list to the Top 50.`,
"testRecentMostFailedFullscreen": "Fullscreen",
"testRecentMostFailedClose": "Close",
"testRecentMostFailedShown": "Hide Graph",
"testRecentMostFailedHidden": "Show Graph",
"testMostTimeConsumingGraphBar": "Bar: Displays tests ranked by how often they were the slowest (most time-consuming) test in a run. Each bar represents how many times a test was the single slowest one across all runs. The regular view shows the Top 10; fullscreen mode expands the list to the Top 50. When 'Only Last Run' is enabled, this graph instead shows the Top 10 (or Top 50 in fullscreen) most time-consuming tests *within the latest run only*, ranked by duration.",
"testMostTimeConsumingGraphTimeline": "Timeline: Displays the slowest test for each run on a timeline. For every run, only the single most time-consuming test is shown. The regular view shows the Top 10 most frequently slowest tests; fullscreen mode expands the list to the Top 50. When 'Only Last Run' is enabled, the timeline shows only the latest run, highlighting its Top 10 (or Top 50 in fullscreen) most time-consuming tests by duration.",
"testMostTimeConsumingFullscreen": "Fullscreen",
"testMostTimeConsumingClose": "Close",
"testMostTimeConsumingShown": "Hide Graph",
"testMostTimeConsumingHidden": "Show Graph",
"keywordStatisticsGraphPercentages": "Percentages: Displays the distribution of passed, failed, skipped statuses for each keyword per run",
"keywordStatisticsGraphAmount": "Amount: Displays raw counts of each status per run",
"keywordStatisticsGraphLine": "Line: Displays the same data but over a time axis",
"keywordStatisticsFullscreen": "Fullscreen",
"keywordStatisticsClose": "Close",
"keywordStatisticsShown": "Hide Graph",
"keywordStatisticsHidden": "Show Graph",
"keywordTimesRunGraphBar": "Bar: Displays times run per keyword represented as vertical bars",
"keywordTimesRunGraphLine": "Line: Displays the same data but over a time axis",
"keywordTimesRunFullscreen": "Fullscreen",
"keywordTimesRunClose": "Close",
"keywordTimesRunShown": "Hide Graph",
"keywordTimesRunHidden": "Show Graph",
"keywordTotalDurationGraphBar": "Bar: Displays the cumulative time each keyword ran during each run represented as vertical bars",
"keywordTotalDurationGraphLine": "Line: Displays the same data but over a time axis",
"keywordTotalDurationFullscreen": "Fullscreen",
"keywordTotalDurationClose": "Close",
"keywordTotalDurationShown": "Hide Graph",
"keywordTotalDurationHidden": "Show Graph",
"keywordAverageDurationGraphBar": "Bar: Displays the average duration for each keyword represented as vertical bars",
"keywordAverageDurationGraphLine": "Line: Displays the same data but over a time axis",
"keywordAverageDurationFullscreen": "Fullscreen",
"keywordAverageDurationClose": "Close",
"keywordAverageDurationShown": "Hide Graph",
"keywordAverageDurationHidden": "Show Graph",
"keywordMinDurationGraphBar": "Bar: Displays minimum durations represented as vertical bars",
"keywordMinDurationGraphLine": "Line: Displays the same data but over a time axis",
"keywordMinDurationFullscreen": "Fullscreen",
"keywordMinDurationClose": "Close",
"keywordMinDurationShown": "Hide Graph",
"keywordMinDurationHidden": "Show Graph",
"keywordMaxDurationGraphBar": "Bar: Displays maximum durations represented as vertical bars",
"keywordMaxDurationGraphLine": "Line: Displays the same data but over a time axis",
"keywordMaxDurationFullscreen": "Fullscreen",
"keywordMaxDurationClose": "Close",
"keywordMaxDurationShown": "Hide Graph",
"keywordMaxDurationHidden": "Show Graph",
"keywordMostFailedGraphBar": "Bar: Displays keywords ranked by total number of failures represented as vertical bars. The regular view shows the Top 10 most failed keywords; fullscreen mode expands the list to the Top 50.",
"keywordMostFailedGraphTimeline": "Timeline: Displays when failures occurred across runs. The regular view shows the Top 10 most failed keywords; fullscreen mode expands the list to the Top 50.",
"keywordMostFailedFullscreen": "Fullscreen",
"keywordMostFailedClose": "Close",
"keywordMostFailedShown": "Hide Graph",
"keywordMostFailedHidden": "Show Graph",
"keywordMostTimeConsumingGraphBar": "Bar: Displays keywords ranked by how often they were the slowest (most time-consuming) keyword in a run. Each bar represents how many times a keyword was the single slowest one across all runs. The regular view shows the Top 10; fullscreen mode expands the list to the Top 50. When 'Only Last Run' is enabled, this graph instead shows the Top 10 (or Top 50 in fullscreen) most time-consuming keywords *within the latest run only*, ranked by duration.",
"keywordMostTimeConsumingGraphTimeline": "Timeline: Displays the slowest keyword for each run on a timeline. For every run, only the single most time-consuming keyword is shown. The regular view shows the Top 10 most frequently slowest keywords; fullscreen mode expands the list to the Top 50. When 'Only Last Run' is enabled, the timeline shows only the latest run, highlighting its Top 10 (or Top 50 in fullscreen) most time-consuming keywords by duration.",
"keywordMostTimeConsumingFullscreen": "Fullscreen",
"keywordMostTimeConsumingClose": "Close",
"keywordMostTimeConsumingShown": "Hide Graph",
"keywordMostTimeConsumingHidden": "Show Graph",
"keywordMostUsedGraphBar": "Bar: Displays keywords ranked by how frequently they were used across all runs. Each bar represents how many times a keyword appeared in total. The regular view shows the Top 10 most used keywords; fullscreen mode expands the list to the Top 50. When 'Only Last Run' is enabled, this graph instead shows the Top 10 (or Top 50 in fullscreen) most used keywords *within the latest run only*, ranked by occurrence count.",
"keywordMostUsedGraphTimeline": "Timeline: Displays keyword usage trends over time. For each run, the most frequently used keyword (or keywords) is shown, illustrating how keyword usage changes across runs. The regular view highlights the Top 10 most frequently used keywords overall; fullscreen mode expands the list to the Top 50. When 'Only Last Run' is enabled, the timeline shows only the latest run, highlighting its Top 10 (or Top 50 in fullscreen) most used keywords by frequency.",
"keywordMostUsedFullscreen": "Fullscreen",
"keywordMostUsedClose": "Close",
"keywordMostUsedShown": "Hide Graph",
"keywordMostUsedHidden": "Show Graph",
"compareStatisticsGraphBar": "This graph displays the overall statistics of the selected runs",
"compareStatisticsFullscreen": "Fullscreen",
"compareStatisticsClose": "Close",
"compareStatisticsShown": "Hide Graph",
"compareStatisticsHidden": "Show Graph",
"compareSuiteDurationGraphRadar": "This graph displays the duration per suite in a radar format",
"compareSuiteDurationFullscreen": "Fullscreen",
"compareSuiteDurationClose": "Close",
"compareSuiteDurationShown": "Hide Graph",
"compareSuiteDurationHidden": "Show Graph",
"compareTestsGraphTimeline": `This graph displays the statistics of the tests in a timeline format
Status: Displays only tests don't have any status changes and have the selected status
Only Changes: Displays only tests that have changed statuses at some point in time
Tip: Don't use Status and Only Changes at the same time as it will result in an empty graph`,
"compareTestsFullscreen": "Fullscreen",
"compareTestsClose": "Close",
"compareTestsShown": "Hide Graph",
"compareTestsHidden": "Show Graph",
"runTableMoveUp": "Move Up",
"runTableMoveDown": "Move Down",
"runTableShown": "Hide Table",
"runTableHidden": "Show Table",
"suiteTableMoveUp": "Move Up",
"suiteTableMoveDown": "Move Down",
"suiteTableShown": "Hide Table",
"suiteTableHidden": "Show Table",
"testTableMoveUp": "Move Up",
"testTableMoveDown": "Move Down",
"testTableShown": "Hide Table",
"testTableHidden": "Show Table",
"keywordTableMoveUp": "Move Up",
"keywordTableMoveDown": "Move Down",
"keywordTableShown": "Hide Table",
"keywordTableHidden": "Show Table",
"runSectionMoveUp": "Move Up",
"runSectionMoveDown": "Move Down",
"runSectionShown": "Hide Section",
"runSectionHidden": "Show Section",
"suiteSectionMoveUp": "Move Up",
"suiteSectionMoveDown": "Move Down",
"suiteSectionShown": "Hide Section",
"suiteSectionHidden": "Show Section",
"testSectionMoveUp": "Move Up",
"testSectionMoveDown": "Move Down",
"testSectionShown": "Hide Section",
"testSectionHidden": "Show Section",
"keywordSectionMoveUp": "Move Up",
"keywordSectionMoveDown": "Move Down",
"keywordSectionShown": "Hide Section",
"keywordSectionHidden": "Show Section",
}
// === information.js ===
// Map decoration names to holiday greetings
const holidayGreetings = {
'christmas': 'Robot Framework - Happy Christmas',
'aprilFools': 'Robot Framework - Happy April Fools',
'stPatricksDay': 'Robot Framework - Happy St. Patrick\'s Day',
'valentinesDay': 'Robot Framework - Happy Valentine\'s Day',
'halloween': 'Robot Framework - Happy Halloween',
'piDay': 'Robot Framework - Happy Pi Day',
'earthDay': 'Robot Framework - Happy Earth Day',
'oktoberfest': 'Robot Framework - Happy Oktoberfest',
'easter': 'Robot Framework - Happy Easter'
};
// function to fill the information icons with the correct data
function setup_information_popups() {
// Get the active decoration and customize rflogo text if needed
const activeDecoration = getActiveDecorationName();
const customInfoMap = { ...informationMap };
if (activeDecoration && holidayGreetings[activeDecoration]) {
customInfoMap["rflogo"] = holidayGreetings[activeDecoration];
}
for (const id in customInfoMap) {
const title = customInfoMap[id];
const element = document.getElementById(id);
if (!element) continue;  // safety check if element not found
element.setAttribute("data-title", title);
}
let tooltipEl = null;
let currentTarget = null;
function createTooltip(el) {
if (tooltipEl) removeTooltip();
const text = el.getAttribute('data-title');
if (!text) return;
tooltipEl = document.createElement('div');
tooltipEl.className = 'tooltip-popup';
tooltipEl.textContent = text;
document.body.appendChild(tooltipEl);
const rect = el.getBoundingClientRect();
const padding = 8;
const maxWidth = 440;
const baseCharWidth = 8;
const dynamicWidth = Math.min(text.length * baseCharWidth + 26, maxWidth);
tooltipEl.style.width = dynamicWidth + 'px';
tooltipEl.style.maxWidth = maxWidth + 'px';
let left = rect.left + rect.width / 2;
let top = rect.bottom + 8;
tooltipEl.style.left = `${left}px`;
tooltipEl.style.top = `${top}px`;
tooltipEl.style.transform = 'translateX(-50%)';
const tooltipRect = tooltipEl.getBoundingClientRect();
const overflowLeft = tooltipRect.left < padding;
const overflowRight = tooltipRect.right > window.innerWidth - padding;
if (overflowLeft) {
const shiftAmount = padding - tooltipRect.left;
tooltipEl.style.transform = `translateX(calc(-50% + ${shiftAmount}px))`;
} else if (overflowRight) {
const shiftAmount = tooltipRect.right - (window.innerWidth - padding);
tooltipEl.style.transform = `translateX(calc(-50% - ${shiftAmount}px))`;
}
}
function removeTooltip() {
document.querySelectorAll('.tooltip-popup').forEach(el => el.remove());
tooltipEl = null;
currentTarget = null;
}
function isElementVisible(el) {
const style = window.getComputedStyle(el);
return !(style.display === 'none' || style.visibility === 'hidden' || el.offsetParent === null);
}
document.querySelectorAll('.information[data-title]').forEach(el => {
el.onmouseenter = null;
el.onmouseleave = null;
el.onclick = null;
el.addEventListener('mouseenter', () => {
if (currentTarget !== el) {
currentTarget = el;
createTooltip(el);
}
});
el.addEventListener('mouseleave', () => {
if (currentTarget === el) {
removeTooltip();
}
});
el.addEventListener('click', () => {
if (!isElementVisible(el) && currentTarget === el) {
removeTooltip();
}
});
});
document.addEventListener('mouseover', e => {
const target = e.target.closest('.information[data-title]');
if (target !== currentTarget) {
removeTooltip();
if (target) {
currentTarget = target;
createTooltip(target);
}
}
});
}
// === menu.js ===
// Track overview nav listeners so we can cleanly remove them when leaving Overview
let __overviewNavStore = {
scrollHandler: null,
resizeHandler: null,
};
// ---- Shared helpers for menu buttons ----
function get_sticky_height() {
const stickyTop = document.getElementById("navigation");
return stickyTop ? stickyTop.offsetHeight : 0;
}
function expand_and_scroll_to(targetEl) {
const stickyHeight = get_sticky_height();
const performScroll = () => {
const targetTop = targetEl.getBoundingClientRect().top + window.pageYOffset;
const top = targetTop < 200 ? 0 : targetTop - stickyHeight - 8;
window.scrollTo({ top: top - 7, behavior: "auto" });
};
const collapseBtn = targetEl.querySelector(".collapse-icon");
if (collapseBtn) {
const svg = collapseBtn.querySelector("svg");
const isExpanded = svg && (svg.classList.contains("lucide-chevron-down-icon") || svg.classList.contains("lucide-chevron-down"));
if (!isExpanded) {
collapseBtn.click();
requestAnimationFrame(() => setTimeout(performScroll, 50));
return;
}
}
performScroll();
}
function compute_best_visible_index(sections) {
const viewportHeight = window.innerHeight;
const viewportTop = viewportHeight * 0.2;
const viewportBottom = viewportHeight * 0.5;
let bestIndex = 0;
let bestAmount = -Infinity;
sections.forEach((section, idx) => {
const rect = section.getBoundingClientRect();
const top = Math.max(rect.top, viewportTop);
const bottom = Math.min(rect.bottom, viewportBottom);
const overlap = bottom - top;
if (overlap > bestAmount) {
bestAmount = overlap;
bestIndex = idx;
}
});
return bestIndex;
}
function neighbor_indices(bestIndex, length) {
const indices = [];
const pushIfValid = (i) => { if (i >= 0 && i < length) indices.push(i); };
if (bestIndex <= 0) {
pushIfValid(0); pushIfValid(1); pushIfValid(2);
} else if (bestIndex >= length - 1) {
pushIfValid(length - 3);
pushIfValid(length - 2);
pushIfValid(length - 1);
} else {
pushIfValid(bestIndex - 1);
pushIfValid(bestIndex);
pushIfValid(bestIndex + 1);
}
return indices;
}
// function to update the section (menu) buttons with the correct eventlisteners
// also sets up the automatic highlighting of the section that is most visible in the top
// 20-50% percent of the screen
function setup_dashboard_section_menu_buttons() {
const sectionButtons = [
document.getElementById("runStatisticsSectionNav"),
document.getElementById("suiteStatisticsSectionNav"),
document.getElementById("testStatisticsSectionNav"),
document.getElementById("keywordStatisticsSectionNav"),
];
const sectionMap = {
runStatisticsSection: sectionButtons[0],
suiteStatisticsSection: sectionButtons[1],
testStatisticsSection: sectionButtons[2],
keywordStatisticsSection: sectionButtons[3],
};
if (settings.menu.dashboard && !settings.show.unified) {
sectionButtons.forEach(btn => btn.hidden = false);
sectionButtons.forEach(btn => btn.classList.remove('active'));
settings.view.dashboard.sections.hide.forEach(hiddenSection => sectionMap[`${space_to_camelcase(hiddenSection)}Section`].hidden = true) // hide section menu buttons that should be hidden
} else {
sectionButtons.forEach(btn => btn.hidden = true);
}
const sections = Object.keys(sectionMap).map(id => document.getElementById(id));
function update_active_section() {
const bestIndex = compute_best_visible_index(sections);
const bestMatch = sections[bestIndex];
// Highlight the matching button
sectionButtons.forEach(btn => btn.classList.remove("active"));
if (bestMatch && sectionMap[bestMatch.id]) {
sectionMap[bestMatch.id].classList.add("active");
}
}
window.addEventListener("scroll", update_active_section);
// Initial call to set active on load
update_active_section();
sectionButtons.forEach(btn => {
btn.addEventListener("click", () => {
const target = document.getElementById(btn.id.slice(0, -3));
if (target) {
expand_and_scroll_to(target);
}
});
});
}
// function to create and manage overview section buttons that highlight dynamically
// Shows at most 3 buttons: the most visible section in the 20%-50% viewport band
// plus one above and one below it. At edges, show first or last 3 accordingly.
function setup_overview_section_menu_buttons() {
// Only render when Overview menu is active; otherwise remove any existing dynamic buttons
const isOverviewActive = !!(settings.menu && settings.menu.overview);
const navbar = document.querySelector(".navbar-nav");
const overviewMenuLink = document.getElementById("menuOverview");
if (!navbar || !overviewMenuLink) return;
// Cleanup any previously created overview dynamic buttons
const existingOverviewButtons = Array.from(navbar.querySelectorAll('a[id^="overview-"][id$="Nav"]'));
if (!isOverviewActive) {
existingOverviewButtons.forEach(el => el.remove());
// Detach listeners if still attached
if (__overviewNavStore.scrollHandler) {
window.removeEventListener("scroll", __overviewNavStore.scrollHandler);
__overviewNavStore.scrollHandler = null;
}
if (__overviewNavStore.resizeHandler) {
window.removeEventListener("resize", __overviewNavStore.resizeHandler);
__overviewNavStore.resizeHandler = null;
}
return;
}
const sections = Array.from(document.querySelectorAll("#overview .overview-bar"))
.filter(el => el.offsetParent !== null);
if (sections.length === 0) return;
// Helper to insert after Overview menu item
const insertAfter = (newNode, referenceNode) => {
if (referenceNode.nextSibling) {
referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);
} else {
referenceNode.parentNode.appendChild(newNode);
}
};
// Build a map of sectionId -> button (anchor) in navbar
const buttonMap = new Map();
const makeButtonForSection = (sectionEl) => {
const sectionId = sectionEl.id || "";
let baseName = sectionId.replace(/Section$/i, "");
// Apply prefix display setting to tagged sections
if (!settings.show.prefixes && baseName.startsWith('project_')) {
baseName = baseName.replace(/^project_/, '');
}
const btnId = `overview-${sectionId}Nav`;
let btn = document.getElementById(btnId);
if (!btn) {
btn = document.createElement("a");
btn.id = btnId;
btn.className = "nav-item nav-link";
const label = document.createElement("i");
label.textContent = baseName;
btn.appendChild(label);
insertAfter(btn, overviewMenuLink);
btn.addEventListener("click", (e) => {
e.preventDefault();
const stickyTop = document.getElementById("navigation");
const stickyHeight = stickyTop ? stickyTop.offsetHeight : 0;
const performScroll = () => {
const targetTop = sectionEl.getBoundingClientRect().top + window.pageYOffset;
const top = targetTop < 200 ? 0 : targetTop - stickyHeight - 8;
window.scrollTo({ top: top - 7, behavior: "auto" });
};
// Expand the section if it is currently collapsed, then scroll
const collapseBtn = sectionEl.querySelector(".collapse-icon");
if (collapseBtn) {
const svg = collapseBtn.querySelector("svg");
const isExpanded = svg && (svg.classList.contains("lucide-chevron-down-icon") || svg.classList.contains("lucide-chevron-down"));
if (!isExpanded) {
// Trigger expansion and wait a tick for layout update
collapseBtn.click();
requestAnimationFrame(() => setTimeout(performScroll, 50));
return;
}
}
performScroll();
});
}
buttonMap.set(sectionId, btn);
};
sections.forEach(makeButtonForSection);
// Before attaching new listeners, remove any previous ones to avoid stale closures
if (__overviewNavStore.scrollHandler) {
window.removeEventListener("scroll", __overviewNavStore.scrollHandler);
__overviewNavStore.scrollHandler = null;
}
if (__overviewNavStore.resizeHandler) {
window.removeEventListener("resize", __overviewNavStore.resizeHandler);
__overviewNavStore.resizeHandler = null;
}
const updateVisibleButtons = () => {
// If not on overview anymore, cleanup and stop
const stillOverview = !!(settings.menu && settings.menu.overview);
const showButtons = stillOverview;
if (!stillOverview) {
const toRemove = Array.from(navbar.querySelectorAll('a[id^="overview-"][id$="Nav"]'));
toRemove.forEach(el => el.remove());
if (__overviewNavStore.scrollHandler) {
window.removeEventListener("scroll", __overviewNavStore.scrollHandler);
__overviewNavStore.scrollHandler = null;
}
if (__overviewNavStore.resizeHandler) {
window.removeEventListener("resize", __overviewNavStore.resizeHandler);
__overviewNavStore.resizeHandler = null;
}
return;
}
// Refresh labels to reflect current prefix setting
sections.forEach(section => {
const btn = buttonMap.get(section.id);
if (!btn) return;
let name = section.id.replace(/Section$/i, "");
if (!settings.show.prefixes && name.startsWith('project_')) {
name = name.replace(/^project_/, '');
}
const label = btn.querySelector('i');
});
// Determine most visible section and neighboring indices
const bestIndex = compute_best_visible_index(sections);
const indices = neighbor_indices(bestIndex, sections.length);
// Desired left-to-right order: highest (above) on the left, then current, then below
const desiredOrder = indices.slice(); // already in [best-1, best, best+1] or edges
// Reorder buttons in the navbar immediately after the Overview link
let last = overviewMenuLink;
desiredOrder.forEach(idx => {
const section = sections[idx];
const btn = buttonMap.get(section.id);
if (!btn) return;
// Ensure visibility before positioning
btn.hidden = !showButtons ? true : false;
// Move button to desired position
if (last.nextSibling === btn) {
// Already in place
} else {
insertAfter(btn, last);
}
last = btn;
});
// Update active state and hide non-selected buttons
sections.forEach((section, idx) => {
const btn = buttonMap.get(section.id);
if (!btn) return;
const shouldShow = showButtons && desiredOrder.includes(idx);
btn.hidden = !shouldShow;
btn.classList.toggle("active", showButtons && idx === bestIndex);
});
};
window.addEventListener("scroll", updateVisibleButtons, { passive: true });
window.addEventListener("resize", updateVisibleButtons);
__overviewNavStore.scrollHandler = updateVisibleButtons;
__overviewNavStore.resizeHandler = updateVisibleButtons;
updateVisibleButtons();
}
function get_most_visible_section() {
const SECTION_IDS = [
"overviewStatisticsSection",
"runStatisticsSection",
"suiteStatisticsSection",
"testStatisticsSection",
"keywordStatisticsSection",
"compareStatisticsSection",
"runTableCanvas",
"suiteTableCanvas",
"testTableCanvas",
"keywordTableCanvas"
];
const viewportTop = window.scrollY;
const focusTop = viewportTop + window.innerHeight * 0.2;
const focusBottom = viewportTop + window.innerHeight * 0.5;
let bestMatchId = null;
let maxVisibleArea = 0;
SECTION_IDS.forEach(id => {
const el = document.getElementById(id);
if (!el || el.offsetParent === null) return; // skip hidden elements
const rect = el.getBoundingClientRect();
const elTop = rect.top + window.scrollY;
const elBottom = elTop + rect.height;
const visibleTop = Math.max(elTop, focusTop);
const visibleBottom = Math.min(elBottom, focusBottom);
const visibleHeight = visibleBottom - visibleTop;
if (visibleHeight > maxVisibleArea) {
maxVisibleArea = visibleHeight;
bestMatchId = id;
}
});
return bestMatchId;
}
function update_menu(item) {
["overview", "dashboard", "compare", "tables"].forEach(menuItem => {
set_local_storage_item(`menu.${menuItem}`, (item === `menu${menuItem.charAt(0).toUpperCase() + menuItem.slice(1)}`));
});
["menuOverview", "menuDashboard", "menuCompare", "menuTables"].forEach(id => {
document.getElementById(id).classList.toggle("active", id === item);
});
document.getElementById("filters").hidden = (item === "menuOverview");
setup_data_and_graphs(true, item === "menuOverview" && !areGroupedProjectsPrepared);
}
// function to setup the menu eventlisteners
function setup_menu() {
document.getElementById("menuOverview").addEventListener("click", () => update_menu("menuOverview"));
document.getElementById("menuDashboard").addEventListener("click", () => update_menu("menuDashboard"));
document.getElementById("menuCompare").addEventListener("click", () => update_menu("menuCompare"));
document.getElementById("menuTables").addEventListener("click", () => update_menu("menuTables"));
const params = new URLSearchParams(window.location.search);
const pageParam = params.get("page");
let selectedMenu;
if (pageParam) {
switch (pageParam.toLowerCase()) {
case "overview":
selectedMenu = "menuOverview";
break;
case "dashboard":
selectedMenu = "menuDashboard";
break;
case "compare":
selectedMenu = "menuCompare";
break;
case "tables":
selectedMenu = "menuTables";
break;
}
if (selectedMenu) {
settings.menu = {
overview: selectedMenu === "menuOverview",
dashboard: selectedMenu === "menuDashboard",
compare: selectedMenu === "menuCompare",
tables: selectedMenu === "menuTables",
};
}
}
// Priority 2: fall back to settings if no valid URL param
if (!selectedMenu) {
const menuSettings = settings.menu;
if (menuSettings.overview) selectedMenu = "menuOverview";
else if (menuSettings.dashboard) selectedMenu = "menuDashboard";
else if (menuSettings.compare) selectedMenu = "menuCompare";
else if (menuSettings.tables) selectedMenu = "menuTables";
}
update_menu(selectedMenu);
}
// function to update all graph data, function is called when updating filters and when the page loads
function setup_data_and_graphs(menuUpdate = false, prepareOverviewProjectData = false) {
setup_spinner(false); // show spinner immediately
requestAnimationFrame(() => {
requestAnimationFrame(() => {
if (prepareOverviewProjectData) {
prepare_overview();
setup_overview_localstorage();
setup_overview_section_layout_buttons();
setup_overview_order_filters();
update_overview_version_select_list();
}
setup_filtered_data_and_filters();
setup_section_order();
setup_graph_order();
setup_information_popups();
setup_graph_view_buttons();
setup_theme();
// let the page sections and events be setup before removing the spinner
// then load the graphs
requestAnimationFrame(() => {
setup_spinner(true);
setup_dashboard_section_menu_buttons();
setup_overview_section_menu_buttons();
setup_dashboard_graphs();
// Ensure overview titles reflect current prefix setting
update_overview_prefix_display();
document.dispatchEvent(new Event("graphs-finalized"));
if (!menuUpdate) {
setTimeout(() => {
const mostVisibleSectionId = get_most_visible_section();
if (mostVisibleSectionId) {
const offsetTop = document.getElementById(mostVisibleSectionId).getBoundingClientRect().top;
window.scrollTo({
top: offsetTop - 67,
behavior: "auto"
});
}
}, 100);
}
});
});
});
}
// function to add a spinner for slow loads
function setup_spinner(hide) {
if (hide) {
// Instant transition - hide spinner and show all content immediately
$("#loading").fadeOut(200);
$("#overview").fadeIn(200);
$("#unified").fadeIn(200);
$("#dashboard").fadeIn(200);
$("#compare").fadeIn(200);
$("#tables").fadeIn(200);
} else {
$("#overview").hide()
$("#unified").hide()
$("#dashboard").hide()
$("#compare").hide()
$("#tables").hide()
$("#loading").show();
}
}
// === chartconfig.js ===
// colors
const passedBackgroundBorderColor = "#97bd61";
const passedBackgroundColor = "rgba(151, 189, 97, 0.7)";
const skippedBackgroundBorderColor = "#fed84f";
const skippedBackgroundColor = "rgba(254, 216, 79, 0.7)";
const failedBackgroundBorderColor = "#ce3e01";
const failedBackgroundColor = "rgba(206, 62, 1, 0.7)";
const greyBackgroundBorderColor = "#0f172a";
const greyBackgroundColor = "rgba(33, 37, 41, 0.7)";
const blueBackgroundBorderColor = "rgba(54, 162, 235)";
const blueBackgroundColor = "rgba(54, 162, 235, 0.5)";
const graphFontSize = 12;
// base bar config
const barConfig = {
borderSkipped: false,
borderRadius: () => {
return {
topLeft: settings.show.rounding,
topRight: settings.show.rounding,
bottomLeft: settings.show.rounding,
bottomRight: settings.show.rounding
};
}
};
const passedConfig = {
backgroundColor: passedBackgroundColor,
borderColor: passedBackgroundBorderColor,
...barConfig,
}
const failedConfig = {
backgroundColor: failedBackgroundColor,
borderColor: failedBackgroundBorderColor,
...barConfig,
}
const skippedConfig = {
backgroundColor: skippedBackgroundColor,
borderColor: skippedBackgroundBorderColor,
...barConfig,
}
const blueConfig = {
backgroundColor: blueBackgroundColor,
borderColor: blueBackgroundBorderColor,
...barConfig,
}
// base line config
const lineConfig = {
tension: 0.1,
pointRadius: 4,
pointHoverRadius: 6
}
// data label background rectangle config
const dataLabelConfig = {
color: "#eee",
backgroundColor: function (context) {
return "rgba(0, 0, 0, 0.6)";
},
borderRadius: 4,
padding: 3,
align: "center",
anchor: "center",
font: {
size: graphFontSize,
},
}
// === overview.js ===
// Data prep/aggregation
function prepare_projects_grouped_data() {
for (const run of runs) {
const tags = run.tags.split(",");
const project_tags = tags.filter(tag => tag.toLowerCase().startsWith("project_"));
for (const project of project_tags) {
if (!projects_by_tag[project]) {
projects_by_tag[project] = [];
}
projects_by_tag[project].push(run);
}
if (!projects_by_name[run.name]) {
projects_by_name[run.name] = [];
}
projects_by_name[run.name].push(run);
}
areGroupedProjectsPrepared = true;
}
// versionByProject = {projectName:{version:amount}}
function prepare_projects_version_counts_map(projects) {
for (const [project, runs] of Object.entries(projects)) {
const versionCounts = {};
for (const run of runs) {
const projectVersion = run.project_version ?? "None";
versionCounts[projectVersion] = (versionCounts[projectVersion] || 0) + 1;
}
versionsByProject[project] = versionCounts;
}
}
function prepare_latest_run_by_project() {
function map_latest_run_by_project(runsByProject) {
const latestRunByProject = Object.entries(runsByProject)
.map(([projectName, projectRuns]) => {
return [projectName, projectRuns.at(-1)];
});
return Object.fromEntries(latestRunByProject);
}
Object.assign(latestRunByProjectName, map_latest_run_by_project(projects_by_name));
Object.assign(latestRunByProjectTag, map_latest_run_by_project(projects_by_tag));
}
// Section/bar builders
// Helper function to generate common overview section HTML structure
function generate_overview_section_html(sectionId, prefix, filtersHtml = '') {
return `
<div class="card overview-bar" id="${sectionId}">
<div class="card-header">
<div class="row">
<div class="col-auto align-self-center">
<div class="btn btn-sm collapse-icon" id="collapsegridOverview${prefix}"></div>
</div>
<div class="col-3">
<h4 id="overview${prefix}Title"></h4>
</div>
<div class="d-flex flex-wrap align-items-start col align-items-center">
<div class="col-auto">
<a type="button" class="information information-icon me-2"
id="overview${prefix}Information"></a>
</div>
${filtersHtml}
<div class="col-auto ms-auto">
<a class="move-up-section information" id="${sectionId}MoveUp" hidden></a>
<a class="move-down-section information" id="${sectionId}MoveDown" hidden></a>
</div>
</div>
</div>
</div>
<div class="card-body" id="gridOverview${prefix}">
<div id="overview${prefix}RunCardsContainer" class="project-run-cards-container"></div>
</div>
</div>
`;
}
// create overview latest runs section dynamically
function create_overview_latest_runs_section() {
const percentageSelectHtml = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100].map(val =>
`<option value="${val}" ${val === DEFAULT_DURATION_PERCENTAGE ? 'selected' : ''}>${val}</option>`
).join('');
const filtersHtml = `
<div class="col-auto percentage-filter" id="overviewLatestPercentageFilterContainer">
<div class="btn-group">
<label class="form-check-label" for="overviewLatestDurationPercentage">Percentage</label>
</div>
<div class="btn-group">
<select class="form-select form-select-sm me-2" id="overviewLatestDurationPercentage">
${percentageSelectHtml}
</select>
</div>
</div>
<div class="col-auto me-2 version-filter" id="overviewLatestVersionFilterContainer">
<div class="btn-group">
<div id="overviewLatestVersionFilterDropDown" class="dropdown">
<button class="btn btn-sm btn-outline-dark dropdown-toggle" type="button"
id="overviewLatestVersionFilterBtn" data-bs-toggle="dropdown"
data-bs-auto-close="outside">
Select Versions
<span id="overviewLatestVersionSelectedIndicator"
class="version-selected-dot" style="display:none;"></span>
</button>
<ul id="overviewLatestVersionSelectorList" class="dropdown-menu p-3"
style="max-height: 50vh; overflow-y: auto;">
</ul>
</div>
</div>
<div class="btn-group">
<input type="text" class="form-control form-control-sm" id="overviewLatestVersionFilterSearch" placeholder="Version Filter...">
</div>
</div>
<div class="col-auto me-1 sort-filter" id="overviewLatestSortFilterContainer">
<div class="btn-group">
<label class="form-label mb-0" for="overviewLatestSectionOrder">Sort</label>
</div>
<div class="btn-group">
<select class="form-select form-select-sm section-order-filter"
id="overviewLatestSectionOrder">
<option value="newest" selected>Most Recent</option>
<option value="oldest">Oldest</option>
<option value="most failed">Most Failed</option>
<option value="most skipped">Most Skipped</option>
<option value="most passed">Most Passed</option>
</select>
</div>
</div>
`;
const overviewLatestSection = generate_overview_section_html('overviewLatestRunsSection', 'Latest', filtersHtml);
const overview = document.getElementById("overview");
const topOverviewSection = document.getElementById("topOverviewSection");
overview.insertBefore(document.createRange().createContextualFragment(overviewLatestSection), topOverviewSection.nextSibling);
create_overview_latest_graphs();
update_overview_latest_heading();
// Setup event listeners for filters
const percentageSelector = document.getElementById("overviewLatestDurationPercentage");
if (percentageSelector) {
percentageSelector.addEventListener('change', () => {
create_overview_latest_graphs();
});
}
const sortSelector = document.getElementById("overviewLatestSectionOrder");
if (sortSelector) {
sortSelector.addEventListener('change', () => {
create_overview_latest_graphs();
});
}
const versionFilterSearch = document.getElementById("overviewLatestVersionFilterSearch");
if (versionFilterSearch) {
const handle_version_filter_input = () => {
apply_overview_latest_version_text_filter();
};
const maxDelay = 50;
const delayScaledByRunAmount = Math.min(runs.length / 100, maxDelay);
versionFilterSearch.addEventListener('input', debounce(handle_version_filter_input, delayScaledByRunAmount));
}
}
// create overview total stats section dynamically
function create_overview_total_stats_section() {
const overviewTotalSection = generate_overview_section_html('overviewTotalStatsSection', 'Total');
const overview = document.getElementById("overview");
const latestSection = document.getElementById("overviewLatestRunsSection");
overview.insertBefore(document.createRange().createContextualFragment(overviewTotalSection), latestSection.nextSibling);
create_overview_total_graphs();
update_overview_total_heading();
}
// create project bar (the collapsables below overview statistic) in overview
function create_project_bar(projectName, projectRuns, totalRunsAmount, passRate) {
const projectVersions = new Set(
Object.keys(versionsByProject[projectName])
.sort()
.reverse()
);
const versionAmount = projectVersions.size;
const versionFilterListItemAllHtml = generate_version_filter_list_item_html("All", projectName, "checked", versionAmount, "version");
const versionFilterListItemsHtml = versionFilterListItemAllHtml +
[...projectVersions]
.map(version => {
const runAmount = versionsByProject[projectName][version];
return generate_version_filter_list_item_html(version, projectName, "", runAmount, "run");
})
.join('');
const percentageSelectHtml = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100].map(val =>
`<option value="${val}" ${val === DEFAULT_DURATION_PERCENTAGE ? 'selected' : ''}>${val}</option>`
).join('');
// added here instead of adding to informationMap, since the dynamic IDs don't work with the map
const displayProjectName = (!settings.show.prefixes && projectName.startsWith('project_'))
? projectName.replace(/^project_/, '')
: projectName;
const projectInformation = `This section shows the runs associated with the project '${displayProjectName}':
- Duration color indicates performance relative to the average: green if more than x% faster, red if more than x% slower. You can adjust this threshold using the Percentage toggle. Version filters do not affect this.
- Passed runs represent the percentage of runs with zero failures. Version filters do not affect this.
- The 'Select Versions' dropdown menu allows filtering the runs of the current project by the desired versions. Click 'All' to quickly deselect all other checkboxes.
- The runs can also be filtered to only those whose version contains the text entered in the 'Version Filter...' input, even when a checkbox filter is already applied.
- Clicking on the run card applies a filter for that project and switches to dashboard
- Clicking on the version element within the run card additionally applies a filter for that version
- Check out all options in the settings: 'Gear Icon' > 'Overview'`;
const projectCard = `
<div class="card mb-3 overview-bar overview-project-card" id="${projectName}Section">
<div class="card-header">
<div class="row">
<div class="col-auto align-self-center">
<div class="btn btn-sm collapse-icon" id="collapse${projectName}Body">
${arrowRight}
</div>
</div>
<div class="col-3">
<h4>${displayProjectName}</h4>
<h6>Total Runs: ${totalRunsAmount} | Passed Runs: ${passRate}%</h6>
</div>
<div class="d-flex flex-wrap align-items-start col align-items-center">
<div class="col-auto">
<a type="button" class="information information-icon me-2" id="${projectName}Information" data-title="${projectInformation}"></a>
</div>
<div class="col-auto me-2 percentage-filter">
<div class="btn-group">
<label class="form-check-label" for="${projectName}DurationPercentage">Percentage</label>
</div>
<div class="btn-group">
<select class="form-select form-select-sm" id="${projectName}DurationPercentage">
${percentageSelectHtml}
</select>
</div>
</div>
<div class="col-auto me-2 version-filter">
<div class="btn-group">
<div id="${projectName}VersionFilterDropDown" class="dropdown" >
<button class="btn btn-sm btn-outline-dark dropdown-toggle"
type="button" id="${projectName}VersionFilterBtn"
data-bs-toggle="dropdown" data-bs-auto-close="outside">
Select Versions
<span id="${projectName}VersionSelectedIndicator" class="version-selected-dot" style="display:none;"></span>
</button>
<ul class="dropdown-menu p-3" style="max-height: 50vh; overflow-y: auto;">
${versionFilterListItemsHtml}
</ul>
</div>
</div>
<div class="btn-group">
<input type="text" class="form-control form-control-sm" id="${projectName}VersionFilterSearch" placeholder="Version Filter...">
</div>
</div>
<div class="col-auto me-1 sort-filter">
<div class="btn-group">
<label class="form-label mb-0" for="${projectName}SectionOrder">Sort</label>
</div>
<div class="btn-group">
<select class="form-select form-select-sm section-order-filter" id="${projectName}SectionOrder">
<option value="newest" selected>Most Recent</option>
<option value="oldest">Oldest</option>
<option value="most failed">Most Failed</option>
<option value="most skipped">Most Skipped</option>
<option value="most passed">Most Passed</option>
</select>
</div>
</div>
<div class="col-auto ms-auto">
<a class="move-up-section information" id="${projectName}SectionMoveUp" hidden></a>
<a class="move-down-section information" id="${projectName}SectionMoveDown" hidden></a>
</div>
</div>
</div>
</div>
<div class="card-body" id="${projectName}Body" hidden="">
<div id="${projectName}RunCardsContainer" class="project-run-cards-container"></div>
</div>
</div>
`;
const overview = document.getElementById("overview")
overview.appendChild(document.createRange().createContextualFragment(projectCard));
// percentage selector
const projectPercentageSelector = document.getElementById(`${projectName}DurationPercentage`);
projectPercentageSelector.addEventListener('change', () => {
const newPercent = parseInt(projectPercentageSelector.value, 10);
update_duration_comparison_for_project(projectName, projectRuns, newPercent);
});
// version filters
const versionFilterDropDownId = `${projectName}VersionFilterDropDown`;
const versionFilterSearchId = `${projectName}VersionFilterSearch`;
const versionFilterArgs = {
cardsContainerId: `${projectName}RunCardsContainer`,
versionDropDownFilterId: versionFilterDropDownId,
versionStringFilterId: versionFilterSearchId,
};
const projectVersionFilterDropDown = document.getElementById(versionFilterDropDownId);
const allVersionsCheckBox = document.getElementById(`${projectName}VersionFilterListItemAllInput`);
const specificVersionSelectedIndicatorId = `${projectName}VersionSelectedIndicator`;
setup_filter_checkbox_handler_listeners(
projectVersionFilterDropDown,
allVersionsCheckBox,
specificVersionSelectedIndicatorId,
() => { update_project_version_filter_run_card_visibility(versionFilterArgs) }
);
// version filter input
const projectVersionFilterSearch = document.getElementById(versionFilterSearchId);
const handle_version_filter_input = () => {
update_project_version_filter_run_card_visibility(versionFilterArgs);
}
const maxDelay = 50;
const delayScaledByRunAmount = Math.min(totalRunsAmount / 100, maxDelay); // ~0.01ms per run or 50ms max
projectVersionFilterSearch.addEventListener('input', debounce(handle_version_filter_input, delayScaledByRunAmount));
}
function create_project_overview() {
const projectData = { ...projects_by_name, ...projects_by_tag };
// create run cards for each project
Object.keys(projectData).sort().forEach(projectName => {
create_project_cards_container(projectName, projectData[projectName]);
});
// setup collapsables specifically for overview project sections
setup_collapsables();
// set project bar visibility based on switch settings
update_projectbar_visibility();
}
// creates overview project section
function create_project_cards_container(projectName, projectRuns, percent = null) {
const totalRunsAmount = projectRuns.length;
const passedRunsAmount = projectRuns.filter(run => run.failed === 0).length;
const passRate = ((passedRunsAmount / totalRunsAmount) * 100).toFixed(2);
const cardsContainer = document.getElementById(`${projectName}RunCardsContainer`);
const durations = projectRuns.map(r => r.elapsed_s);
// create section for project in overview if not present
if (!cardsContainer) create_project_bar(projectName, projectRuns, totalRunsAmount, passRate);
// Read percentage from selector if not provided
if (percent === null) {
const percentageSelector = document.getElementById(`${projectName}DurationPercentage`);
percent = percentageSelector ? parseInt(percentageSelector.value, 10) : DEFAULT_DURATION_PERCENTAGE;
}
const container = document.getElementById(`${projectName}RunCardsContainer`);
container.innerHTML = '';
const projectRunsToShow = projectRuns.slice().reverse();
// create cards and charts for each run card
projectRunsToShow.forEach((run, idx) => {
const runNumber = projectRunsToShow.length - idx;
const createdRunCardId = create_project_run_card(run, projectName, idx, runNumber, passRate, percent, durations, false);
const createdRunCard = document.getElementById(createdRunCardId);
container.appendChild(createdRunCard);
create_overview_run_donut(run, idx, projectName);
});
}
// Card/graph builders
// function to create overview latest runs statistics
function create_overview_latest_graphs(preFilteredRuns = null) {
const order = document.getElementById("overviewLatestSectionOrder").value;
const overviewCardsContainer = document.getElementById("overviewLatestRunCardsContainer");
overviewCardsContainer.innerHTML = '';
const allProjects = { ...projects_by_name, ...projects_by_tag };
const durationsByProject = {};
for (const [projectName, projectRuns] of Object.entries(allProjects)) {
const durations = projectRuns.map(r => r.elapsed_s);
durationsByProject[projectName] = durations;
}
let latestRunByProject = {};
if (!preFilteredRuns) {
settings.switch.runName && Object.assign(latestRunByProject, latestRunByProjectName);
settings.switch.runTags && Object.assign(latestRunByProject, latestRunByProjectTag);
} else { // if called by version filter listener
Object.assign(latestRunByProject, preFilteredRuns);
}
// default order by newest (keep current insertion order)
if (order === 'oldest') {
// Reverse current order while preserving the same key->value pairs
latestRunByProject = Object.fromEntries(
Object.entries(latestRunByProject).reverse()
);
} else if (order === 'most failed') {
latestRunByProject = Object.fromEntries(
Object.entries(latestRunByProject).sort(([, runA], [, runB]) => runB.failed - runA.failed)
);
} else if (order === 'most skipped') {
latestRunByProject = Object.fromEntries(
Object.entries(latestRunByProject).sort(([, runA], [, runB]) => runB.skipped - runA.skipped)
);
} else if (order === 'most passed') {
latestRunByProject = Object.fromEntries(
Object.entries(latestRunByProject).sort(([, runA], [, runB]) => runB.passed - runA.passed)
);
}
const percent = document.getElementById("overviewLatestDurationPercentage").value;
for (const [projectName, latestRun] of Object.entries(latestRunByProject)) {
const projectRuns = allProjects[projectName];
const totalRunsAmount = projectRuns.length;
const passedRunsAmount = projectRuns.filter(run => run.failed === 0).length;
const passRate = ((passedRunsAmount / totalRunsAmount) * 100).toFixed(2);
const projectRunDurations = projectRuns.map(run => run.elapsed_s);
create_project_run_card(
latestRun,
projectName,
0, // cardIndex, 0 since only 1 run per project in overview
totalRunsAmount, //run Number
passRate,
percent,
projectRunDurations,
true, // isForOverviewStats
false, // isTotalStats
'overviewLatest'
);
}
apply_overview_latest_version_text_filter();
}
// function to create overview total statistics
function create_overview_total_graphs(preFilteredRuns = null) {
const overviewCardsContainer = document.getElementById("overviewTotalRunCardsContainer");
overviewCardsContainer.innerHTML = '';
const allProjects = { ...projects_by_name, ...projects_by_tag };
const durationsByProject = {};
for (const [projectName, projectRuns] of Object.entries(allProjects)) {
const durations = projectRuns.map(r => r.elapsed_s);
durationsByProject[projectName] = durations;
}
let latestRunByProject = {};
if (!preFilteredRuns) {
settings.switch.runName && Object.assign(latestRunByProject, latestRunByProjectName);
settings.switch.runTags && Object.assign(latestRunByProject, latestRunByProjectTag);
} else { // if called by version filter listener
Object.assign(latestRunByProject, preFilteredRuns);
}
for (const [projectName, latestRun] of Object.entries(latestRunByProject)) {
const projectRuns = allProjects[projectName];
const totalRunsAmount = projectRuns.length;
const passedRunsAmount = projectRuns.filter(run => run.failed === 0 && run.passed > 0).length;
const failedRunsAmount = projectRuns.filter(run => run.failed > 0).length;
const skippedRunsAmount = projectRuns.filter(run => run.failed === 0 && run.passed === 0 && run.skipped > 0).length;
const passRate = ((passedRunsAmount / totalRunsAmount) * 100).toFixed(2);
const projectRunDurations = projectRuns.map(run => run.elapsed_s);
const avgDuration = projectRunDurations.reduce((a, b) => a + Number(b), 0) / projectRunDurations.length;
const aggregateRun = {
passed_runs: passedRunsAmount,
failed_runs: failedRunsAmount,
skipped_runs: skippedRunsAmount,
average_duration: avgDuration,
elapsed_s: avgDuration,
stats: [passedRunsAmount, failedRunsAmount, skippedRunsAmount],
project_version: null,
full_name: projectName,
passed: passedRunsAmount,
failed: failedRunsAmount,
skipped: skippedRunsAmount,
path: '',
};
create_project_run_card(
aggregateRun,
projectName,
0,
totalRunsAmount,
passRate,
null,
projectRunDurations,
true,
true,
'overviewTotal'
);
}
}
// create a run card that will be displayed within each project section in overview
function create_project_run_card(run, projectName, runIndex, runNumber, passRate, percent, durations, isForOverview = false, isTotalStats = false, sectionPrefix = 'overview') {
const avg = arr => arr.reduce((a, b) => a + parseFloat(b), 0) / arr.length;
const passedCount = isTotalStats ? run.passed_runs : run.passed;
const failedCount = isTotalStats ? run.failed_runs : run.failed;
const skippedCount = isTotalStats ? run.skipped_runs : run.skipped;
const stats = [passedCount, failedCount, skippedCount, run.elapsed_s, run.path, run.full_name];
const duration = isTotalStats ? run.average_duration ?? run.elapsed_s : run.elapsed_s;
const duration_rounded = format_duration(Number(duration));
const durationsForAvg = durations.filter(item => item !== duration);
const average = durationsForAvg.length ? avg(durationsForAvg) : duration;
const status = isTotalStats
? (failedCount > 0 ? 'failed' : (skippedCount > 0 && passedCount === 0 ? 'skipped' : 'passed'))
: (run.failed > 0 ? 'failed' : (run.skipped > 0 && run.passed === 0 ? 'skipped' : 'passed'));
const logPath = (!isTotalStats && use_logs) ? transform_file_path(run.path).replaceAll('\\', '\\\\') : '';
const logName = (!isTotalStats && use_logs) ? 'log.html' : '';
const isDark = document.documentElement.classList.contains("dark-mode");
const svg = isDark ? clockSVG("white") : clockSVG("black");
const compares = isTotalStats ? 'text-muted' : compare_to_average(duration, average, percent);
const projectNameForId = isForOverview ? `${sectionPrefix}${projectName}` : projectName;
const projectRunCardHTML = generate_overview_card_html(
projectName,
stats,
duration_rounded,
status,
runNumber,
compares,
passRate,
logPath,
logName,
svg,
runIndex,
run.project_version,
isForOverview,
isTotalStats,
sectionPrefix,
)
const existingRunCard = document.getElementById(`${projectNameForId}Card${runIndex}`);
if (existingRunCard) {
// preserves listeners of element
existingRunCard.replaceWith(document.createRange().createContextualFragment(projectRunCardHTML));
} else {
const cardsContainerIdPrefix = isForOverview ? sectionPrefix : projectName;
const cardsContainer = document.getElementById(`${cardsContainerIdPrefix}RunCardsContainer`);
cardsContainer.appendChild(document.createRange().createContextualFragment(projectRunCardHTML));
const createdRunCard = document.getElementById(`${projectNameForId}Card${runIndex}`);
createdRunCard.addEventListener("click", () => {
clear_all_filters();
set_filter_show_current_project(projectName);
update_menu("menuDashboard");
});
create_overview_run_donut(run, runIndex, projectNameForId);
const versionElement = createdRunCard.querySelector('[data-js-target="apply-version-filter"]');
versionElement && attach_run_card_version_listener(versionElement, projectName, run.project_version ?? "None");
}
return `${projectNameForId}Card${runIndex}`;
}
function create_overview_run_donut(run, chartElementPostfix, projectName) {
let passed, failed, skipped;
const idGraphSubString = "Graph";
// when called for overview statistics
if (run.stats) {
[passed, failed, skipped] = run.stats;
}
// when called for projects section in overview
else {
passed = run.passed;
failed = run.failed;
skipped = run.skipped;
}
const el = document.getElementById(`${projectName}${idGraphSubString}${chartElementPostfix}`);
if (!el) {
console.warn(
`No element with ID ${projectName}${idGraphSubString}${chartElementPostfix} found for donut chart creation`
);
return;
}
if (el.chartInstance) el.chartInstance.destroy();
const chartData = {
labels: [],
datasets: [{
data: [],
backgroundColor: [],
borderColor: [],
hoverOffset: 4
}]
};
const pushIf = (label, value, bg, border) => {
if (value > 0) {
chartData.labels.push(label);
chartData.datasets[0].data.push(value);
chartData.datasets[0].backgroundColor.push(bg);
chartData.datasets[0].borderColor.push(border);
}
};
pushIf('passed', passed, passedBackgroundColor, passedBackgroundBorderColor);
pushIf('skipped', skipped, skippedBackgroundColor, skippedBackgroundBorderColor);
pushIf('failed', failed, failedBackgroundColor, failedBackgroundBorderColor);
const config = get_graph_config('donut', chartData, 'Run Status');
delete config.options.plugins.datalabels;
config.options.plugins.legend.display = false;
el.chartInstance = new Chart(el, config);
}
function generate_overview_card_html(
projectName,
stats,
rounded_duration,
status,
runNumber,
compares,
passed_runs,
log_path,
log_name,
svg,
idPostfix,
projectVersion = null,
isForOverview = false,
isTotalStats = false,
sectionPrefix = 'overview',
) {
const normalizedProjectVersion = projectVersion ?? "None";
// ensure overview stats and project bar card ids unique
const projectNameForElementId = isForOverview ? `${sectionPrefix}${projectName}` : projectName;
const showRunNumber = !(isForOverview && isTotalStats);
const runNumberHtml = showRunNumber ? `<div class="col-auto"><h5>#${runNumber}</h5></div>` : '';
let smallVersionHtml = `
<div id="${projectName}RunCardVersion${idPostfix}"
class="run-card-small-version"
title="Click to filter for project and version"
data-projectVersion="${normalizedProjectVersion}"
data-js-target="apply-version-filter">
<div class="text-muted">Version:</div>
<div>${normalizedProjectVersion}</div>
</div>`;
if (isTotalStats) {
smallVersionHtml = '';
compares = '';
}
// for project bars
const versionsForProject = Object.keys(versionsByProject[projectName]);
const projectHasVersions = !(versionsForProject.length === 1 && versionsForProject[0] === "None");
// for overview statistics
// Preserve the original project name (used for logic like tag-detection),
// but compute a display name that omits the 'project_' prefix when prefixes are hidden.
const originalProjectName = projectName;
const displayProjectName = settings.show.prefixes ? projectName : projectName.replace(/^project_/, '');
projectName = displayProjectName;
let cardTitle = `
<h5 class="card-title mb-0 fw-semibold">${displayProjectName}</h5>
`;
if (!isForOverview) {
// Project bar cards: customize based on project type
if (originalProjectName.startsWith('project_')) {
// Tagged projects: display name with inline version
cardTitle = `
<h5 class="card-title mb-0 fw-semibold">${stats[5]}, <span class="text-muted">Version:</span> ${normalizedProjectVersion}</h5>
`;
} else if (projectHasVersions) {
// Non-tagged projects with versions: interactive version title
cardTitle = `
<div class="mx-auto run-card-version-title"
title="Click to filter for project and version"
data-js-target="apply-version-filter">
<h5 class="card-title mb-0 d-inline text-muted">Version:</h5>
<h5 class="card-title mb-0 d-inline fw-semibold">
${normalizedProjectVersion}
</h5>
</div>
`;
} else {
// Non-tagged projects without versions: empty title placeholder
cardTitle = `
<h5 class="card-title mb-0 fw-semibold"></h5>
`;
}
smallVersionHtml = '';
}
const totalStatsHeader = isTotalStats ? `<div>Run Stats</div>` : '';
const totalStatsAverage = isTotalStats ? `<div>Average Run Duration</div>` : '';
const logLinkHtml = log_name ? `<a href="#" onclick="event.stopPropagation(); open_log_from_path('${log_path}'); return false;" target="_blank">${log_name}</a>` : '';
return `
<div class="col-4 overview-card" id="${projectNameForElementId}Card${idPostfix}" data-project-version="${normalizedProjectVersion}">
<div class="card border-3 border-${status}">
<div class="card-body">
<div class="row">
<div class="col text-center">
${cardTitle}
</div>
${runNumberHtml}
</div>
<div class="row">
<div class="col-4 overview-canvas">
<canvas id="${projectNameForElementId}Graph${idPostfix}"></canvas>
</div>
<div class="col-3 d-flex align-items-center">
<div>
${totalStatsHeader}
<div class="green-text">Passed: ${stats[0]}</div>
<div class="red-text">Failed: ${stats[1]}</div>
<div class="yellow-text">Skipped: ${stats[2]}</div>
</div>
</div>
<div class="col-5 d-flex align-items-center" style="overflow:auto;">
<div>
${totalStatsAverage}
<div class="${compares}" id="${projectNameForElementId}RunCardCompares${idPostfix}" title="${isTotalStats ? 'Average duration across runs' : 'Run duration'}">
<span class="clock-icon">
${svg}
</span>
<i id="${projectNameForElementId}RunCardComparesValue${idPostfix}" value="${rounded_duration}">
${rounded_duration}
</i>
</div>
<div>Passed Runs: ${passed_runs}%</div>
${smallVersionHtml}
${logLinkHtml}
</div>
</div>
</div>
</div>
</div>
</div>`;
}
// apply version select checkbox and version textinput filter
function update_project_version_filter_run_card_visibility({ cardsContainerId, versionDropDownFilterId, versionStringFilterId }) {
const cardsContainerElement = document.getElementById(cardsContainerId);
const scrollOffsetBefore = cardsContainerElement.getBoundingClientRect().top;
const versionDropDownFilter = document.getElementById(versionDropDownFilterId);
const dropDownCheckBoxes = versionDropDownFilter.querySelectorAll(".version-checkbox");
const selectedVersions = Array.from(dropDownCheckBoxes)
.filter(checkBox => checkBox.checked)
.map(checkBox => checkBox.value);
const runCardNodeList = cardsContainerElement.querySelectorAll("div.overview-card");
const runCardsArray = Array.from(runCardNodeList);
let dropDownFilteredRunCards = runCardsArray;
if (!selectedVersions.includes("All")) {
dropDownFilteredRunCards = runCardsArray.filter(runCard =>
selectedVersions.includes(runCard.dataset.projectVersion)
);
}
const versionStringFilter = document.getElementById(versionStringFilterId);
const lowerCaseVersionStringFilterValue = versionStringFilter.value.toLowerCase();
const fullyFilteredRunCards = dropDownFilteredRunCards.filter(runCard =>
runCard.dataset.projectVersion.toLowerCase()
.includes(lowerCaseVersionStringFilterValue)
);
runCardsArray.forEach(runCard => {
runCard.style.display = "none";
});
fullyFilteredRunCards.forEach(runCard => {
runCard.style.display = "";
});
const scrollOffsetAfter = cardsContainerElement.getBoundingClientRect().top;
window.scrollBy(0, scrollOffsetAfter - scrollOffsetBefore);
}
function apply_overview_latest_version_text_filter() {
const versionFilterInput = document.getElementById("overviewLatestVersionFilterSearch");
const cardsContainer = document.getElementById("overviewLatestRunCardsContainer");
if (!versionFilterInput || !cardsContainer) return;
const filterValue = versionFilterInput.value.toLowerCase();
const runCards = Array.from(cardsContainer.querySelectorAll("div.overview-card"));
runCards.forEach(card => {
const version = (card.dataset.projectVersion ?? "").toLowerCase();
card.style.display = version.includes(filterValue) ? "" : "none";
});
}
function clear_project_filter() {
document.getElementById("runs").value = "All";
document.getElementById("runTagCheckBoxesFilter").value = "";
const tagElements = document.getElementById("runTag").getElementsByTagName("input");
for (const input of tagElements) {
input.checked = false;
input.parentElement.classList.remove("d-none"); //show filtered rows
if (input.id == "All") input.checked = true;
}
update_filter_active_indicator("All", "filterRunTagSelectedIndicator");
}
function set_filter_show_current_project(projectName) {
if (projectName.startsWith("project_")) {
selectedTagSetting = projectName;
setTimeout(() => { // hack to prevent update_menu calls from hinderance
update_filter_active_indicator("All", "filterRunTagSelectedIndicator");
}, 500);
} else {
selectedRunSetting = projectName;
}
}
function update_overview_latest_heading() {
const overviewCardsContainer = document.getElementById("overviewLatestRunCardsContainer");
if (!overviewCardsContainer) return;
const amountOfProjectsShown = overviewCardsContainer.querySelectorAll(".overview-card").length;
const pluralPostFix = amountOfProjectsShown !== 1 ? 's' : '';
const headerContent = `<h6>showing ${amountOfProjectsShown} project${pluralPostFix}</h6>`;
document.getElementById("overviewLatestTitle").innerHTML = `
Latest Runs
${headerContent}
`;
}
function update_overview_total_heading() {
const overviewCardsContainer = document.getElementById("overviewTotalRunCardsContainer");
if (!overviewCardsContainer) return;
const amountOfProjectsShown = overviewCardsContainer.querySelectorAll(".overview-card").length;
const pluralPostFix = amountOfProjectsShown !== 1 ? 's' : '';
const headerContent = `<h6>showing ${amountOfProjectsShown} project${pluralPostFix}</h6>`;
document.getElementById("overviewTotalTitle").innerHTML = `
Total Statistics
${headerContent}
`;
}
function update_overview_sections_visibility() {
const latestSection = document.getElementById("overviewLatestRunsSection");
const totalSection = document.getElementById("overviewTotalStatsSection");
if (latestSection) latestSection.hidden = !settings.switch.latestRuns;
if (totalSection) totalSection.hidden = !settings.switch.totalStats;
}
function update_overview_filter_visibility() {
// Update filter visibility for all bars using classes
const percentageFilters = document.querySelectorAll(".percentage-filter");
const versionFilters = document.querySelectorAll(".version-filter");
const sortFilters = document.querySelectorAll(".sort-filter");
percentageFilters.forEach(container => {
container.hidden = !settings.switch.percentageFilters;
});
versionFilters.forEach(container => {
container.hidden = !settings.switch.versionFilters;
});
sortFilters.forEach(container => {
container.hidden = !settings.switch.sortFilters;
});
}
function update_donut_charts() {
document.querySelectorAll(".overview-canvas").forEach(canvas => {
const chart = canvas.querySelector("canvas").chartInstance;
if (chart) chart.update();
});
}
// hide project bars based on switch config
function update_projectbar_visibility() {
const bars = document.querySelectorAll('.overview-project-card');
const tagged = [];
const untagged = [];
for (const el of bars) {
(el.id.startsWith("project_") ? tagged : untagged).push(el);
}
const toggleVisibility = (elements, visible) => {
for (const el of elements) el.hidden = !visible;
};
toggleVisibility(tagged, settings.switch.runTags);
toggleVisibility(untagged, settings.switch.runName);
}
// Update displayed project names to show/hide the 'project_' prefix everywhere
function update_overview_prefix_display() {
const showPrefixes = !!(settings && settings.show && settings.show.prefixes);
// Update Overview Statistics card titles
const overviewCards = document.querySelectorAll('#overviewRunCardsContainer .overview-card');
overviewCards.forEach(card => {
const id = card.id; // e.g., overviewproject_1Card0
const match = id.match(/^overview(.+?)Card\d+$/);
if (!match) return;
const originalProjectName = match[1];
const headerTitle = card.querySelector('.col.text-center h5.card-title');
if (!headerTitle) return;
headerTitle.textContent = showPrefixes
? originalProjectName
: (originalProjectName.startsWith('project_')
? originalProjectName.replace(/^project_/, '')
: originalProjectName);
});
// Update Project Bar section headers
const projectBars = document.querySelectorAll('.overview-project-card');
projectBars.forEach(section => {
const sectionId = section.id; // e.g., project_1Section or MyRunSection
const originalProjectName = sectionId.replace(/Section$/, '');
const headerTitle = section.querySelector('.card-header h4');
if (!headerTitle) return;
headerTitle.textContent = showPrefixes
? originalProjectName
: (originalProjectName.startsWith('project_')
? originalProjectName.replace(/^project_/, '')
: originalProjectName);
});
}
// prevents regeneration of run cards, just changes class for duration highlight
function update_duration_comparison_for_project(projectName, projectRuns, percentage) {
const projectRunsReversed = projectRuns.slice().reverse();
projectRunsReversed.forEach((run, idx) => {
const comparesElement = document.getElementById(`${projectName}RunCardCompares${idx}`);
const comparesValueElement = document.getElementById(`${projectName}RunCardComparesValue${idx}`);
if (!comparesElement || !comparesValueElement) return;
const duration = parseFloat(comparesValueElement.getAttribute("value"));
const durationsForAvg = projectRunsReversed
.map(r => parseFloat(r.elapsed_s))
.filter((_, i) => i !== idx);
const averageDuration = durationsForAvg.reduce((a, b) => a + b, 0) / durationsForAvg.length;
comparesElement.className = compare_to_average(duration, averageDuration, percentage);
});
}
function prepare_overview() {
// prepare data
prepare_projects_grouped_data();
prepare_projects_version_counts_map({ ...projects_by_name, ...projects_by_tag });
prepare_latest_run_by_project();
// create 2 default bars: latest runs and total stats, and update visibility
create_overview_latest_runs_section();
create_overview_total_stats_section();
update_overview_sections_visibility();
// create all other project bars (by name and by tag)
create_project_overview();
// update all bar filters visibility based on settings
update_overview_filter_visibility();
}
// === helpers.js ===
// helper function to more easily use the logic of filtering suite graph data based on the selected filters
// returns true if the value should be excluded, false if it should be included
function exclude_from_suite_data(dataType, value) {
if (dataType !== "suite") return false;
const suiteSelectSuites = document.getElementById("suiteSelectSuites").value;
const suiteSelectSuitesOptions = [...document.getElementById("suiteSelectSuites").options].map(o => o.value);
const suiteFolder = document.getElementById("suiteFolder").innerText;
const isFolderAll = suiteFolder === "All";
const isSuiteAll = suiteSelectSuites === "All Suites Separate" || suiteSelectSuites === "All Suites Combined";
const usingSuitePaths = settings.switch.suitePathsSuiteSection;
const folderMatches = (val) => val.full_name === suiteFolder || val.full_name.startsWith(`${suiteFolder}.`);
const suiteNameMatches = (val) => suiteSelectSuitesOptions.includes(val.name);
const fullNameMatches = (val) => suiteSelectSuitesOptions.includes(val.full_name);
if (isFolderAll && isSuiteAll) {
// All folders, all suites: include all
return false;
}
if (isFolderAll && !isSuiteAll) {
// All folders, specific suite
return usingSuitePaths
? value.full_name !== suiteSelectSuites
: value.name !== suiteSelectSuites;
}
if (!isFolderAll && isSuiteAll) {
// Specific folder, all suites
if (!folderMatches(value)) return true;
return usingSuitePaths
? !fullNameMatches(value)
: !suiteNameMatches(value);
}
// Specific folder, specific suite
if (!folderMatches(value)) return true;
return usingSuitePaths
? value.full_name !== suiteSelectSuites
: value.name !== suiteSelectSuites;
}
// function to update the height of the test statistics graph and enable scrolling
function update_height(verticalId, labels, graphType, internal = false) {
const vertical = document.getElementById(verticalId);
if (!internal) {
if (vertical.closest(".grid-stack-item")) { // if item is not hidden add resize observer
const observer = new ResizeObserver(entries => {
for (let entry of entries) {
update_height(verticalId, labels, graphType, true);
window[verticalId.replace("Vertical", "Graph")].resize();
}
});
observer.observe(vertical.closest(".grid-stack-item"));
}
}
const fullscreen = vertical.closest(".grid-stack-item-content")
if (!fullscreen) return; // return if item is hidden
var baseHeight = parseFloat(getComputedStyle(fullscreen).height);
if (inFullscreen) {
baseHeight = baseHeight - 103;
} else { // fix for not in fullscreen take off the svg row and padding
baseHeight = baseHeight - 75;
}
vertical.style.height = `${baseHeight}px`;
if (labels > 10 && graphType != "bar") {
const newHeight = baseHeight + (labels - 10) * 35;
if (inFullscreen && newHeight < baseHeight) {
vertical.style.height = `${baseHeight}px`;
} else {
vertical.style.height = `${newHeight}px`;
}
} else {
vertical.style.height = `${baseHeight}px`;
}
}
// function to convert timeline data to improve performance
function convert_timeline_data(oldDatasets) {
const grouped = {};
for (const dataset of oldDatasets) {
const segment = dataset.data[0]; // assumes 1 item per dataset
const status = `${dataset.label}:*:&:.:${dataset.backgroundColor}:*:&:.:${dataset.borderColor}`;
if (!grouped[status]) {
grouped[status] = [];
}
grouped[status].push({
x: segment.x,
y: segment.y,
});
}
const data = Object.entries(grouped)
.filter(([_, data]) => data.length > 0)
.map(([status, data]) => ({
label: status.split(":*:&:.:")[0],
data,
backgroundColor: status.split(":*:&:.:")[1],
borderColor: status.split(":*:&:.:")[2],
...barConfig,
parsing: true
}));
return data
}
// === statistics.js ===
// function to prepare the data in the correct format for statistics graphs
function get_statistics_graph_data(dataType, graphType, filteredData) {
const suiteSelectSuitesCombined = document.getElementById("suiteSelectSuites").value === "All Suites Combined";
const keywordSelect = document.getElementById("keywordSelect").value;
const useLibraryNames = settings?.switch?.useLibraryNames === true;
const rawPassed = [], rawFailed = [], rawSkipped = [], labels = [], aliases = [];
let names = [];
const process_value = (value) => {
rawPassed.push(value.passed);
rawFailed.push(value.failed);
rawSkipped.push(value.skipped);
labels.push(value.run_start);
aliases.push(value.run_alias);
names.push(value.name);
};
for (const value of filteredData) {
if (exclude_from_suite_data(dataType, value)) continue;
if (dataType === "keyword") {
const keywordKey = useLibraryNames && value.owner
? `${value.owner}.${value.name}`
: value.name;
if (keywordKey !== keywordSelect) continue;
}
process_value(value);
}
const finalLabels = graphType !== "line" ? (settings.show.aliases ? aliases : labels) : labels;
const styling = graphType !== "line" ? barConfig : lineConfig;
let statisticsData = {
labels: finalLabels,
datasets: [
{
label: "Failed",
data: rawFailed.slice(),
backgroundColor: failedBackgroundColor,
borderColor: failedBackgroundBorderColor,
...styling,
stack: graphType === "percentages" || graphType === "amount" ? "Stack 0" : undefined,
},
{
label: "Skipped",
data: rawSkipped.slice(),
backgroundColor: skippedBackgroundColor,
borderColor: skippedBackgroundBorderColor,
...styling,
stack: graphType === "percentages" || graphType === "amount" ? "Stack 0" : undefined,
},
{
label: "Passed",
data: rawPassed.slice(),
backgroundColor: passedBackgroundColor,
borderColor: passedBackgroundBorderColor,
...styling,
stack: graphType === "percentages" || graphType === "amount" ? "Stack 0" : undefined,
}
]
};
if (dataType === "suite" && suiteSelectSuitesCombined) {
const bundled = {};
const groupedLabels = [];
const groupedData = Array(statisticsData.datasets.length).fill().map(() => []);
statisticsData.labels.forEach((label, i) => {
if (!(label in bundled)) {
bundled[label] = groupedLabels.length;
groupedLabels.push(label);
statisticsData.datasets.forEach((_, d) => groupedData[d].push(0));
}
const idx = bundled[label];
statisticsData.datasets.forEach((dataset, d) => {
groupedData[d][idx] += dataset.data[i];
});
});
statisticsData.datasets.forEach((dataset, i) => {
dataset.data = groupedData[i];
});
statisticsData.labels = groupedLabels;
names = Array(statisticsData.labels.length).fill("All Suites Combined");
}
if (graphType === "percentages") {
const totalPoints = statisticsData.datasets[0].data.length;
for (let i = 0; i < totalPoints; i++) {
const passed = statisticsData.datasets[2].data[i];
const failed = statisticsData.datasets[0].data[i];
const skipped = statisticsData.datasets[1].data[i];
const total = passed + failed + skipped;
statisticsData.datasets[2].data[i] = total ? Math.round((passed / total) * 100) : 0;
statisticsData.datasets[0].data[i] = total ? Math.round((failed / total) * 100) : 0;
statisticsData.datasets[1].data[i] = total ? Math.round((skipped / total) * 100) : 0;
}
}
return [statisticsData, names];
}
function get_test_statistics_data(filteredTests) {
const suiteSelectTests = document.getElementById("suiteSelectTests").value;
const testSelect = document.getElementById("testSelect").value;
const testTagsSelect = document.getElementById("testTagsSelect").value;
const testOnlyChanges = document.getElementById("testOnlyChanges").checked;
const testNoChanges = document.getElementById("testNoChanges").value;
const compareOnlyChanges = document.getElementById("compareOnlyChanges").checked;
const compareNoChanges = document.getElementById("compareNoChanges").value;
const selectedRuns = [...new Set(
compareRunIds
.map(id => document.getElementById(id).value)
.filter(val => val !== "None")
)];
const [runStarts, datasets] = [[], []];
var labels = [];
function getTestLabel(test) {
if (settings.menu.dashboard) {
return settings.switch.suitePathsTestSection ? test.full_name : test.name;
} else if (settings.menu.compare) {
return settings.switch.suitePathsCompareSection ? test.full_name : test.name;
}
return test.name;
}
for (const test of filteredTests) {
if (settings.menu.dashboard) {
const testBaseName = test.name;
if (suiteSelectTests !== "All") {
const expectedFull = `${suiteSelectTests}.${testBaseName}`;
const isMatch = settings.switch.suitePathsTestSection
? test.full_name === expectedFull
: test.full_name.includes(`.${suiteSelectTests}.${testBaseName}`) || test.full_name === expectedFull;
if (!isMatch) continue;
}
if (testSelect !== "All" && testBaseName !== testSelect) continue;
if (testTagsSelect !== "All") {
const tagList = test.tags.replace(/\[|\]/g, "").split(",");
if (!tagList.includes(testTagsSelect)) continue;
}
} else if (settings.menu.compare) {
if (!(selectedRuns.includes(test.run_start) || selectedRuns.includes(test.run_alias))) continue;
}
const testLabel = getTestLabel(test);
if (!labels.includes(testLabel)) {
labels.push(testLabel);
}
const runId = settings.show.aliases ? test.run_alias : test.run_start;
if (!runStarts.includes(runId)) {
runStarts.push(runId);
}
const runAxis = runStarts.indexOf(runId);
const config =
test.passed == 1 ? passedConfig :
test.failed == 1 ? failedConfig :
test.skipped == 1 ? skippedConfig : null;
if (config) {
datasets.push({
label: testLabel,
data: [{ x: [runAxis, runAxis + 1], y: testLabel }],
...config,
});
}
}
let finalDatasets = convert_timeline_data(datasets);
if ((testOnlyChanges && testNoChanges !== "All") || (compareOnlyChanges && compareNoChanges !== "All")) {
// If both filters are set, return empty data, as nothing can match this
return [{ labels: [], datasets: [] }, []];
}
if (testOnlyChanges || compareOnlyChanges || testNoChanges !== "All" || compareNoChanges !== "All") {
const countMap = {};
for (const ds of finalDatasets) {
countMap[ds.label] = (countMap[ds.label] || 0) + 1;
}
let labelsToKeep = new Set();
if (testOnlyChanges || compareOnlyChanges) {
// Only keep the tests that have more than 1 status change
labelsToKeep = new Set(Object.keys(countMap).filter(label => countMap[label] > 1));
} else if (testNoChanges !== "All" || compareNoChanges !== "All") {
const countMap = {};
for (const ds of finalDatasets) {
countMap[ds.label] = (countMap[ds.label] || 0) + 1;
}
labelsToKeep = new Set(Object.keys(countMap).filter(label => {
// Only keep tests that appear once (no status changes)
if (countMap[label] !== 1) return false;
// Find the dataset for this label to check its status
const dataset = finalDatasets.find(ds => ds.label === label);
if (!dataset) return false;
// Check if the dataset's status matches testNoChanges
// Assuming the dataset has a property or can be determined from config
const isPassedTest = dataset.backgroundColor === passedBackgroundColor;
const isFailedTest = dataset.backgroundColor === failedBackgroundColor;
const isSkippedTest = dataset.backgroundColor === skippedBackgroundColor;
return (
(testNoChanges === "Passed" && isPassedTest) ||
(testNoChanges === "Failed" && isFailedTest) ||
(testNoChanges === "Skipped" && isSkippedTest) ||
(compareNoChanges === "Passed" && isPassedTest) ||
(compareNoChanges === "Failed" && isFailedTest) ||
(compareNoChanges === "Skipped" && isSkippedTest)
);
}));
}
finalDatasets = finalDatasets.filter(ds => labelsToKeep.has(ds.label));
labels = labels.filter(label => labelsToKeep.has(label));
}
const graphData = {
labels,
datasets: finalDatasets,
};
return [graphData, runStarts];
}
// function to get the compare statistics data
function get_compare_statistics_graph_data(filteredData) {
const selectedRuns = [...new Set(
compareRunIds
.map(id => document.getElementById(id).value)
.filter(val => val !== "None")
)];
const datasets = selectedRuns.map(runId => {
const match = filteredData.find(d =>
d.run_start === runId || d.run_alias === runId
);
return match ? {
label: settings.show.aliases ? match.run_alias : match.run_start,
data: [match.passed, match.failed, match.skipped],
...barConfig
} : null;
}).filter(Boolean);
return {
labels: ['Passed', 'Failed', 'Skipped'],
datasets
};
}
// === donut.js ===
// function to prepare the data in the correct format for last run donut graphs
function get_donut_graph_data(dataType, filteredData) {
const latest = filteredData[Object.keys(filteredData)[Object.keys(filteredData).length - 1]]
var labels = [];
var datasets = [];
var backgroundColors = [];
var backgroundBorderColors = [];
if (latest) {
if (latest.passed > 0) {
labels.push("Passed")
datasets.push(latest.passed)
backgroundColors.push(passedBackgroundColor)
backgroundBorderColors.push(passedBackgroundBorderColor)
}
if (latest.failed > 0) {
labels.push("Failed")
datasets.push(latest.failed)
backgroundColors.push(failedBackgroundColor)
backgroundBorderColors.push(failedBackgroundBorderColor)
}
if (latest.skipped > 0) {
labels.push("Skipped")
datasets.push(latest.skipped)
backgroundColors.push(skippedBackgroundColor)
backgroundBorderColors.push(skippedBackgroundBorderColor)
}
}
const graphData = {
labels: labels,
datasets: [{
data: datasets,
backgroundColor: backgroundColors,
borderColor: backgroundBorderColors,
hoverOffset: 4
}]
};
const callBackData = latest ? settings.show.aliases ? latest.run_alias : latest.run_start : ""
return [graphData, callBackData]
}
// function to prepare the data in the correct format for duration graphs
function get_donut_total_graph_data(dataType, filteredData) {
let passed = 0, failed = 0, skipped = 0;
for (const value of filteredData) {
if (value.passed > 0) {
passed = passed + value.passed;
}
if (value.failed > 0) {
failed = failed + value.failed;
}
if (value.skipped > 0) {
skipped = skipped + value.skipped;
}
}
var data = []
var labels = []
var backgroundColors = []
var backgroundBorderColors = []
if (passed > 0) {
data.push(passed)
labels.push("Passed")
backgroundColors.push(passedBackgroundColor)
backgroundBorderColors.push(passedBackgroundBorderColor)
}
if (failed > 0) {
data.push(failed)
labels.push("Failed")
backgroundColors.push(failedBackgroundColor)
backgroundBorderColors.push(failedBackgroundBorderColor)
}
if (skipped > 0) {
data.push(skipped)
labels.push("Skipped")
backgroundColors.push(skippedBackgroundColor)
backgroundBorderColors.push(skippedBackgroundBorderColor)
}
const graphData = {
labels: labels,
datasets: [{
data: data,
backgroundColor: backgroundColors,
borderColor: backgroundBorderColors,
hoverOffset: 4
}]
};
const callBackData = labels
return [graphData, callBackData]
}
// function to prepare the data in the correct format for the last failed folders donut
function get_donut_folder_fail_graph_data(dataType, filteredData) {
var lastRunStart = filteredData[Object.keys(filteredData)[Object.keys(filteredData).length - 1]]
if (lastRunStart) {
lastRunStart = lastRunStart.run_start
}
const suiteFolder = document.getElementById("suiteFolder").innerText;
var labels = new Set()
const callbackData = {}
const data = []
for (const value of filteredData) {
if (value.run_start != lastRunStart) { continue }
if (value.failed == 0) { continue }
if (suiteFolder == "All") {
const label = value.full_name.split(".")[0]
labels.add(label)
if (!callbackData[label]) {
callbackData[label] = {
total: value.total,
passed: value.passed,
skipped: value.skipped,
failed: value.failed
};
} else {
callbackData[label].total += value.total;
callbackData[label].passed += value.passed;
callbackData[label].skipped += value.skipped;
callbackData[label].failed += value.failed;
}
} else {
if (!value.full_name.startsWith(suiteFolder + ".") && value.full_name != suiteFolder) { continue }
const label = get_next_folder_level(suiteFolder, value.full_name)
labels.add(label)
if (!callbackData[label]) {
callbackData[label] = {
total: value.total,
passed: value.passed,
skipped: value.skipped,
failed: value.failed
};
} else {
callbackData[label].total += value.total;
callbackData[label].passed += value.passed;
callbackData[label].skipped += value.skipped;
callbackData[label].failed += value.failed;
}
}
}
labels = [...labels]
for (const label of labels) {
data.push(callbackData[label].failed)
}
const redShades = [
"#ce3e01", // base fail color
"#b13601", // darker burnt orange
"#992f01", // deep red-orange
"#7f2600"  // very dark, almost brown-red
];
function assignColors(intoCount) {
const result = [];
const colorCount = redShades.length;
let index = 0;
for (let i = 0; i < intoCount; i++) {
result.push(redShades[index]);
index = (index + 1) % colorCount;
if (i > 0 && result[i] === result[i - 1]) { // Ensure no same color next to each other
index = (index + 1) % colorCount;
result[i] = redShades[index];
}
}
return result;
}
const backgroundColor = assignColors(labels.length);
const graphData = {
labels: labels,
datasets: [{
data: data,
backgroundColor: backgroundColor,
hoverOffset: 4
}]
};
return [graphData, callbackData];
}
// function to prepare the data in the correct format for folder donuts
function get_donut_folder_graph_data(dataType, filteredData, folder) {
var labels = new Set()
const callbackData = {}
const data = []
for (const value of filteredData) {
if (!folder) {
const label = value.full_name.split(".")[0]
labels.add(label)
if (!callbackData[label]) {
callbackData[label] = {
total: value.total,
passed: value.passed,
skipped: value.skipped,
failed: value.failed
};
} else {
callbackData[label].total += value.total;
callbackData[label].passed += value.passed;
callbackData[label].skipped += value.skipped;
callbackData[label].failed += value.failed;
}
} else {
if (!value.full_name.startsWith(folder + ".") && value.full_name != folder) { continue }
const label = get_next_folder_level(folder, value.full_name)
labels.add(label)
if (!callbackData[label]) {
callbackData[label] = {
total: value.total,
passed: value.passed,
skipped: value.skipped,
failed: value.failed
};
} else {
callbackData[label].total += value.total;
callbackData[label].passed += value.passed;
callbackData[label].skipped += value.skipped;
callbackData[label].failed += value.failed;
}
}
}
previousFolder = folder ? folder : "";
labels = [...labels]
const finalLabels = []
for (const label of labels) {
if (onlyFailedFolders) {
if (callbackData[label].failed > 0) {
finalLabels.push(label)
data.push(callbackData[label].failed)
}
} else {
finalLabels.push(label)
data.push(callbackData[label].total)
}
}
var graphData
if (onlyFailedFolders) {
const redShades = [
"#ce3e01", // base fail color
"#b13601", // darker burnt orange
"#992f01", // deep red-orange
"#7f2600"  // very dark, almost brown-red
];
function assignColors(intoCount) {
const result = [];
const colorCount = redShades.length;
let index = 0;
for (let i = 0; i < intoCount; i++) {
result.push(redShades[index]);
index = (index + 1) % colorCount;
if (i > 0 && result[i] === result[i - 1]) { // Ensure no same color next to each other
index = (index + 1) % colorCount;
result[i] = redShades[index];
}
}
return result;
}
const backgroundColor = assignColors(finalLabels.length);
graphData = {
labels: finalLabels,
datasets: [{
data: data,
backgroundColor: backgroundColor,
hoverOffset: 4
}]
};
} else {
graphData = {
labels: finalLabels,
datasets: [{
data: data,
hoverOffset: 4
}]
};
}
return [graphData, callbackData]
}
// === duration.js ===
// function to prepare the data in the correct format for duration graphs
function get_duration_graph_data(dataType, graphType, objectDataAttribute, filteredData) {
const suiteSelectSuitesCombined = document.getElementById("suiteSelectSuites").value === "All Suites Combined";
const suiteSelectTests = document.getElementById("suiteSelectTests").value;
const testSelect = document.getElementById("testSelect").value;
const testTagsSelect = document.getElementById("testTagsSelect").value;
const keywordSelect = document.getElementById("keywordSelect").value;
const useLibraryNames = settings?.switch?.useLibraryNames === true;
const limit = inFullscreen && inFullscreenGraph.includes("Duration") ? 100 : 30;
const should_include = (value) => {
// --- keyword filtering ---
if (dataType === "keyword") {
const keywordKey = useLibraryNames && value.owner
? `${value.owner}.${value.name}`
: value.name;
if (keywordKey !== keywordSelect) return false;
}
// --- suite/test filtering ---
if (exclude_from_suite_data(dataType, value)) return false;
if (settings.switch.suitePathsTestSection) {
if (dataType === "test" && suiteSelectTests !== "All" &&
value.full_name !== `${suiteSelectTests}.${value.name}`) {
return false;
}
} else {
if (dataType === "test" && suiteSelectTests !== "All" &&
!value.full_name.includes(`.${suiteSelectTests}.${value.name}`) &&
value.full_name !== `${suiteSelectTests}.${value.name}`) {
return false;
}
}
if (dataType === "test" && testSelect !== "All" && value.name !== testSelect) return false;
if (dataType === "test" && testTagsSelect !== "All") {
const tags = value.tags?.replace(/\[|\]/g, "").split(",").map(t => t.trim()) || [];
if (!tags.includes(testTagsSelect)) return false;
}
return true;
};
const collect_raw_entries = () => {
const entries = [];
for (const value of filteredData) {
if (!should_include(value)) continue;
const label = settings.show.aliases ? value.run_alias : value.run_start;
const duration = Math.round(value[objectDataAttribute] * 100) / 100;
entries.push({ label, name: value.name, duration });
}
return entries;
};
const combine_entries = (entries) => {
const map = new Map();
for (const { label, duration } of entries) {
map.set(label, (map.get(label) || 0) + duration);
}
return Array.from(map.entries())
.sort(([a], [b]) => new Date(a) - new Date(b))
.slice(-limit)
.map(([label, total]) => [label, Math.round(total * 100) / 100]);
};
const generate_grouped_line_data = (sets) => {
const grouped = new Map();
for (const points of sets.values()) {
for (const { x, y } of points) {
const ts = x.getTime();
grouped.set(ts, (grouped.get(ts) || 0) + y);
}
}
return Array.from(grouped.entries()).map(([ts, y]) => ({
x: new Date(Number(ts)),
y,
})).sort((a, b) => a.x - b.x);
};
if (graphType === "bar") {
const rawEntries = collect_raw_entries();
if (dataType === "suite" && suiteSelectSuitesCombined) {
const combined = combine_entries(rawEntries);
return {
labels: combined.map(([label]) => label),
datasets: [{
label: "All Suites Combined",
data: combined.map(([, val]) => val),
stack: "Stack 0",
...barConfig,
}],
};
} else {
const labels = [], data = new Map();
for (const entry of rawEntries.slice(0, limit)) {
labels.push(entry.label);
for (const [key, arr] of data.entries()) {
arr.push(key === entry.name ? entry.duration : 0);
}
if (!data.has(entry.name)) {
const arr = Array(labels.length - 1).fill(0);
arr.push(entry.duration);
data.set(entry.name, arr);
}
}
return {
labels,
datasets: Array.from(data.entries()).map(([label, dataset]) => ({
label: label.slice(0, 40),
data: dataset,
stack: "Stack 0",
...barConfig,
})),
};
}
} else if (graphType === "line") {
const sets = new Map();
for (const value of filteredData) {
if (!should_include(value)) continue;
const name = suiteSelectSuitesCombined && dataType === "suite" ? "All Suites Combined" : value.name;
const run_start = new Date(value.run_start);
const val = Math.round(value[objectDataAttribute] * 100) / 100;
if (!sets.has(name)) sets.set(name, [{ x: run_start, y: val }]);
else sets.get(name).push({ x: run_start, y: val });
}
if (dataType === "suite" && suiteSelectSuitesCombined) {
return [{
label: "All Suites Combined",
fill: false,
data: generate_grouped_line_data(sets),
...lineConfig,
}];
}
return Array.from(sets.entries()).map(([label, data]) => ({
label: label.slice(0, 40),
fill: false,
data,
...lineConfig,
}));
}
}
function get_compare_suite_duration_data(filteredData) {
const labelSet = new Set();
const dataMap = new Map();
const datasets = [];
const selectedRuns = [...new Set(
compareRunIds
.map(id => document.getElementById(id)?.value)
.filter(val => val && val !== "None")
)];
for (const value of filteredData) {
for (const run of selectedRuns) {
if (value.run_start === run || value.run_alias === run) {
if (settings.switch.suitePathsCompareSection) {
labelSet.add(value.full_name)
} else {
labelSet.add(value.name);
}
if (!dataMap.has(run)) dataMap.set(run, []);
dataMap.get(run).push(value.elapsed_s);
}
}
}
for (const run of selectedRuns) {
datasets.push({
label: run,
data: dataMap.get(run) || [],
fill: true
});
}
return {
labels: [...labelSet],
datasets
};
}
// === heatmap.js ===
function get_heatmap_graph_data(filteredData) {
const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
const type = document.getElementById("heatMapTestType").value; // All, Passed, Failed, Skipped
const hour = document.getElementById("heatMapHour").value;
const counts = new Map();
for (const value of filteredData) {
if (type !== "All") {
const key = type.toLowerCase(); // 'passed', 'failed', 'skipped'
if (value[key] != 1) continue;
}
const date = new Date(value.start_time);
if (hour === "All") {
const x = date.getHours() + 0.5;
const y = date.getDay() + 0.5;
const key = `${x},${y}`;
counts.set(key, (counts.get(key) || 0) + 1);
} else {
if (date.getHours() != parseInt(hour)) continue;
const x = date.getMinutes() + 0.5;
const y = date.getDay() + 0.5;
const key = `${x},${y}`;
counts.set(key, (counts.get(key) || 0) + 1);
}
}
const data = Array.from(counts.entries()).map(([key, count]) => {
const [x, y] = key.split(',').map(Number);
return { x, y, v: count };
});
const baseColors = {
All: [0, 123, 255], // Blue
Passed: [151, 189, 97], // Green
Skipped: [254, 216, 79], // Yellow
Failed: [206, 62, 1], // Red
};
const colorRGB = baseColors[type] || baseColors['All'];
if (data.length == 0) { return [[], []] }
const graphData = {
datasets: [{
label: 'Test Execution Heatmap',
data: data,
backgroundColor(ctx) {
const v = ctx.dataset.data[ctx.dataIndex].v;
const maxV = Math.max(...ctx.dataset.data.map(d => d.v));
let alpha = v / maxV;
alpha = Math.max(alpha, 0.2);
return `rgba(${colorRGB[0]}, ${colorRGB[1]}, ${colorRGB[2]}, ${alpha})`;
},
width: ({ chart }) => (chart.chartArea?.width || 0) / (heatMapHourAll ? 24 : 60) - 1,
height: ({ chart }) => (chart.chartArea?.height || 0) / 7 - 1,
...barConfig,
}]
};
return [graphData, days];
}
// === stats.js ===
// function to prepare the data for the run stats canvas
function get_stats_data(filteredRuns, filteredSuites, filteredTests, filteredKeywords) {
const data = {
totalRuns: Object.keys(filteredRuns).length,
totalSuites: Object.keys(filteredSuites).length,
totalTests: Object.keys(filteredTests).length,
totalKeywords: filteredKeywords.reduce((sum, k) => sum + parseInt(k.times_run), 0),
};
const testStats = {
total: 0,
passed: 0,
failed: 0,
skipped: 0,
duration: 0,
names: new Set(),
};
for (const test of filteredTests) {
testStats.total++;
testStats.names.add(test.name);
if (test.passed == 1) testStats.passed++;
if (test.failed == 1) testStats.failed++;
if (test.skipped == 1) testStats.skipped++;
testStats.duration += parseFloat(test.elapsed_s);
}
data.totalUniqueTests = testStats.names.size;
data.totalPassed = `${testStats.passed} (${Math.round(testStats.passed / testStats.total * 100)}%)`;
data.totalFailed = `${testStats.failed} (${Math.round(testStats.failed / testStats.total * 100)}%)`;
data.totalSkipped = `${testStats.skipped} (${Math.round(testStats.skipped / testStats.total * 100)}%)`;
let totalRunDuration = 0;
const passRates = filteredRuns.map(run => {
totalRunDuration += parseFloat(run.elapsed_s);
return Math.round((run.passed / run.total) * 100);
});
data.totalRunTime = Math.round(totalRunDuration);
data.averageRunTime = Math.round(totalRunDuration / data.totalRuns);
data.averageTestTime = Math.round(testStats.duration / testStats.total * 100) / 100;
data.averagePassRate = `${Math.round(passRates.reduce((a, b) => a + b, 0) / passRates.length)}%`;
return data;
}
// === run.js ===
// function to create run statistics graph in the run section
function create_run_statistics_graph() {
if (runStatisticsGraph) {
runStatisticsGraph.destroy();
}
const data = get_statistics_graph_data("run", settings.graphTypes.runStatisticsGraphType, filteredRuns);
const graphData = data[0]
var config;
if (settings.graphTypes.runStatisticsGraphType == "line") {
config = get_graph_config("line", graphData, "", "Date", "Amount", false);
} else if (settings.graphTypes.runStatisticsGraphType == "amount") {
config = get_graph_config("bar", graphData, "", "Run", "Amount Of Tests");
} else if (settings.graphTypes.runStatisticsGraphType == "percentages") {
config = get_graph_config("bar", graphData, "", "Run", "Percentage");
}
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
runStatisticsGraph = new Chart("runStatisticsGraph", config);
runStatisticsGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(runStatisticsGraph, event)
});
}
// function to create run donut graph in the run section
function create_run_donut_graph() {
if (runDonutGraph) {
runDonutGraph.destroy();
}
const data = get_donut_graph_data("run", filteredRuns);
const graphData = data[0]
const callbackData = data[1]
var config = get_graph_config("donut", graphData, `Last Run Status`);
config.options.onClick = (event, chartElement) => {
if (chartElement.length) {
open_log_file(event, chartElement, callbackData)
}
};
config.options.onHover = function (event, chartElement) {
const targetCanvas = event.native.target;
if (chartElement.length > 0) {
targetCanvas.style.cursor = 'pointer';
} else {
targetCanvas.style.cursor = 'default';
}
};
runDonutGraph = new Chart("runDonutGraph", config);
}
// function to create run donut graph in the run section
function create_run_donut_total_graph() {
if (runDonutTotalGraph) {
runDonutTotalGraph.destroy();
}
const data = get_donut_total_graph_data("run", filteredRuns);
const graphData = data[0]
const callbackData = data[1]
var config = get_graph_config("donut", graphData, `Total Status`);
delete config.options.onClick;
runDonutTotalGraph = new Chart("runDonutTotalGraph", config);
}
// function to create the run stats section in the run section
function create_run_stats_graph() {
const data = get_stats_data(filteredRuns, filteredSuites, filteredTests, filteredKeywords);
document.getElementById('totalRuns').innerText = data.totalRuns
document.getElementById('totalSuites').innerText = data.totalSuites
document.getElementById('totalTests').innerText = data.totalTests
document.getElementById('totalKeywords').innerText = data.totalKeywords
document.getElementById('totalUniqueTests').innerText = data.totalUniqueTests
document.getElementById('totalPassed').innerText = data.totalPassed
document.getElementById('totalFailed').innerText = data.totalFailed
document.getElementById('totalSkipped').innerText = data.totalSkipped
document.getElementById('totalRunTime').innerText = format_duration(data.totalRunTime)
document.getElementById('averageRunTime').innerText = format_duration(data.averageRunTime)
document.getElementById('averageTestTime').innerText = format_duration(data.averageTestTime)
document.getElementById('averagePassRate').innerText = data.averagePassRate
}
// function to create run duration graph in the run section
function create_run_duration_graph() {
if (runDurationGraph) {
runDurationGraph.destroy();
}
var graphData = get_duration_graph_data("run", settings.graphTypes.runDurationGraphType, "elapsed_s", filteredRuns);
var config;
if (settings.graphTypes.runDurationGraphType == "bar") {
const limit = inFullscreen && inFullscreenGraph.includes("runDuration") ? 100 : 30;
config = get_graph_config("bar", graphData, `Max ${limit} Bars`, "Run", "Duration");
} else if (settings.graphTypes.runDurationGraphType == "line") {
config = get_graph_config("line", graphData, "", "Date", "Duration");
}
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
runDurationGraph = new Chart("runDurationGraph", config);
runDurationGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(runDurationGraph, event)
});
}
// function to create the run heatmap
function create_run_heatmap_graph() {
if (runHeatmapGraph) {
runHeatmapGraph.destroy();
}
const data = get_heatmap_graph_data(filteredTests);
const graphData = data[0]
const callbackData = data[1]
var config = get_graph_config("heatmap", graphData, "", "Hour", "Day");
delete config.options.onClick;
config.options.plugins.tooltip = {
callbacks: {
title: () => null,
label: ctx => {
const { x, y, v } = ctx.raw;
if (heatMapHourAll) {
return `Day: ${callbackData[Math.floor(y - 0.5)]}, Hour: ${Math.floor(x - 0.5)}, Amount: ${v}`;
} else {
return `Day: ${callbackData[Math.floor(y - 0.5)]}, Minute: ${Math.floor(x - 0.5)}, Amount: ${v}`;
}
}
}
}
config.options.scales.y.ticks = {
stepSize: 1,
callback: val => callbackData[val] || ''
}
runHeatmapGraph = new Chart("runHeatmapGraph", config);
}
// === failed.js ===
// function to prepare the data in the correct format for most failed graphs
function get_most_failed_data(dataType, graphType, filteredData, recent) {
const useLibraryNames = settings?.switch?.useLibraryNames === true;
function getTestKey(value, dataType) {
if (dataType === "keyword" && useLibraryNames && value.owner) {
return `${value.owner}.${value.name}`;
}
if (dataType === "suite" && settings.switch.suitePathsSuiteSection) {
return value.full_name;
} else if (dataType === "test" && settings.switch.suitePathsTestSection) {
return value.full_name;
} else {
return value.name;
}
}
const data = new Map();
const aliases = new Map();
for (const value of filteredData) {
if (value.failed > 0) {
const key = getTestKey(value, dataType);
if (!data.has(key)) {
data.set(key, []);
aliases.set(key, []);
}
data.get(key).push(value.run_start);
aliases.get(key).push(value.run_alias);
}
}
let sortedData = [...data.entries()].sort((a, b) => b[1].length - a[1].length);
if (recent) {
sortedData = sortedData.slice().sort((a, b) => {
const latestA = a[1][a[1].length - 1];
const latestB = b[1][b[1].length - 1];
if (latestA > latestB) return -1;
if (latestA < latestB) return 1;
return 0;
});
}
const limit = inFullscreen && inFullscreenGraph.includes("MostFailed") ? 50 : 10;
if (graphType === "bar") {
const datasets = [];
const labels = [];
const runStartsLabels = new Map();
let count = 0;
for (const [name, runStarts] of sortedData) {
if (count === limit) break;
labels.push(name);
if (settings.show.aliases) {
data.set(name, aliases.get(name));
}
datasets.push(runStarts.length);
runStartsLabels.set(name, runStarts);
count++;
}
const graphData = {
labels,
datasets: [{
data: datasets,
...failedConfig,
}],
};
const callbackData = settings.show.aliases
? Object.fromEntries(sortedData.map(([name]) => [name, aliases.get(name)]))
: Object.fromEntries(sortedData.map(([name]) => [name, runStartsLabels.get(name)]));
return [graphData, callbackData];
}
else if (graphType === "timeline") {
const labels = [];
const runStartsSet = new Set();
const runAliasesSet = new Set();
let count = 0;
for (const [name, runStarts] of sortedData) {
if (count === limit) break;
labels.push(name);
runStarts.forEach(runStart => runStartsSet.add(runStart));
count++;
}
const runStarts = Array.from(runStartsSet).sort((a, b) => new Date(a).getTime() - new Date(b).getTime());
let datasets = [];
let runAxis = 0;
for (const runStart of runStarts) {
for (const label of labels) {
const foundValues = filteredData.filter(value =>
getTestKey(value, dataType) === label &&
value.run_start === runStart &&
value.failed > 0
);
if (foundValues.length > 0) {
const value = foundValues[0];
datasets.push({
label: label,
data: [{ x: [runAxis, runAxis + 1], y: label }],
...failedConfig,
});
foundValues.forEach(v => runAliasesSet.add(v.run_alias));
}
}
runAxis++;
}
datasets = convert_timeline_data(datasets);
const runStartsArray = settings.show.aliases ? Array.from(runAliasesSet) : runStarts;
const graphData = {
labels,
datasets,
};
return [graphData, runStartsArray];
}
}
// === time_consuming.js ===
// function to prepare the most time consuming or most used data for suites/tests/keywords
function get_most_time_consuming_or_most_used_data(dataType, graphType, filteredData, onlyLastRun, mostUsed = false) {
const useLibraryNames = settings?.switch?.useLibraryNames === true;
function getTestKey(value, dataType) {
if (dataType === "keyword" && useLibraryNames && value.owner) {
return `${value.owner}.${value.name}`;
}
if (dataType === "suite" && settings.switch.suitePathsSuiteSection) {
return value.full_name;
} else if (dataType === "test" && settings.switch.suitePathsTestSection) {
return value.full_name;
} else {
return value.name;
}
}
const limit = inFullscreen && inFullscreenGraph.includes("MostTimeConsuming") ? 50 : 10;
if (onlyLastRun) {
const latestRunStart = filteredData[filteredData.length - 1].run_start;
filteredData = filteredData.filter(
(item) => item.run_start === latestRunStart
);
filteredData.sort((a, b) => {
if (mostUsed) {
return Number(b.times_run) - Number(a.times_run);
} else {
const durA =
dataType === "keyword"
? Number(a.total_time_s)
: Number(a.elapsed_s);
const durB =
dataType === "keyword"
? Number(b.total_time_s)
: Number(b.elapsed_s);
return durB - durA;
}
});
filteredData = filteredData.slice(0, limit);
}
const perRunMap = new Map();
for (const value of filteredData) {
const run = value.run_start;
const key = getTestKey(value, dataType);
const metric = mostUsed
? Number(value.times_run)
: dataType === "keyword"
? Number(value.total_time_s)
: Number(value.elapsed_s);
if (!onlyLastRun) {
if (!perRunMap.has(run)) {
perRunMap.set(run, {
key,
metric,
alias: value.run_alias,
runStart: run,
timesRun: Number(value.times_run)
});
} else {
const existing = perRunMap.get(run);
if (metric > existing.metric) {
perRunMap.set(run, {
key,
metric,
alias: value.run_alias,
runStart: run,
timesRun: Number(value.times_run)
});
}
}
} else {
perRunMap.set(`${key}_${run}`, {
key,
metric,
alias: value.run_alias,
runStart: run,
timesRun: Number(value.times_run)
});
}
}
const hitCount = new Map();
const aliases = new Map();
const perRunEntries = Array.from(perRunMap.values());
const details = new Map();
for (const entry of perRunEntries) {
if (!details.has(entry.key)) {
details.set(entry.key, {});
}
details.get(entry.key)[entry.runStart] = {
duration: entry.metric,
timesRun: entry.timesRun || entry.metricRunCount || 0
};
}
for (const entry of perRunEntries) {
if (!hitCount.has(entry.key)) {
hitCount.set(entry.key, []);
aliases.set(entry.key, []);
}
hitCount.get(entry.key).push(entry.runStart);
aliases.get(entry.key).push(entry.alias);
}
let sortedData;
if (onlyLastRun) {
sortedData = [...perRunEntries]
.sort((a, b) => b.metric - a.metric)
.slice(0, limit)
.map((entry) => [entry.key, [entry.runStart]]);
} else {
sortedData = [...hitCount.entries()].sort(
(a, b) => b[1].length - a[1].length
);
}
if (graphType === "bar") {
const labels = [];
const datasets = [];
for (const [key, values] of sortedData) {
labels.push(key);
if (mostUsed && onlyLastRun) {
const match = filteredData.find(
(f) => getTestKey(f, dataType) === key
);
datasets.push(match ? Number(match.times_run) : 0);
} else {
datasets.push(values.length);
}
}
const graphData = {
labels,
datasets: [
{
data: datasets,
...blueConfig,
},
],
};
return [
graphData,
{
aliases: Object.fromEntries(sortedData.map(([name]) => [
name,
settings.show.aliases
? perRunEntries.filter((e) => e.key === name).map((e) => e.alias)
: perRunEntries.filter((e) => e.key === name).map((e) => e.runStart)
])),
run_starts: Object.fromEntries(sortedData.map(([name]) => [
name,
perRunEntries.filter((e) => e.key === name).map((e) => e.runStart)
])),
details: Object.fromEntries(details)
}
];
}
if (graphType === "timeline") {
const labels = [];
const runStarts = Array.from(perRunMap.values()).sort(
(a, b) => new Date(a.runStart) - new Date(b.runStart)
);
const sortedKeys = sortedData.map(([key]) => key);
const limitKeys = sortedKeys.slice(0, limit);
labels.push(...limitKeys);
let datasets = [];
let runAxis = 0;
for (const s of runStarts) {
if (!limitKeys.includes(s.key)) continue;
datasets.push({
label: s.key,
data: [{ x: [runAxis, runAxis + 1], y: s.key }],
...blueConfig,
});
if (!onlyLastRun) runAxis++;
}
datasets = convert_timeline_data(datasets);
const runStartOutput = runStarts.map((r) => r.runStart);
const aliasOutput = runStarts.map((r) => r.alias);
return [
{ labels, datasets },
{
runs: runStartOutput,
aliases: aliasOutput,
details: Object.fromEntries(details)
}
];
}
}
// === suite.js ===
// function to create suite folder donut
function create_suite_folder_donut_graph(folder) {
const suiteFolder = document.getElementById("suiteFolder")
suiteFolder.innerText = folder == "" || folder == undefined ? "All" : folder;
if (folder || folder == "") { // not first load so update the graphs accordingly as well
setup_suites_in_suite_select();
create_suite_folder_fail_donut_graph();
create_suite_statistics_graph();
create_suite_duration_graph();
}
if (suiteFolderDonutGraph) {
suiteFolderDonutGraph.destroy();
}
const data = get_donut_folder_graph_data("suite", filteredSuites, folder);
const graphData = data[0]
const callbackData = data[1]
const labels = graphData.labels
var config = get_graph_config("donut", graphData, "All Folders");
config.options.plugins.tooltip.callbacks = {
label: function (context) {
const label = labels[context.dataIndex]
const passed = callbackData[label].passed
const failed = callbackData[label].failed
const skipped = callbackData[label].skipped
return [`Total: ${context.raw}`, `Passed: ${passed}`, `Failed: ${failed}`, `Skipped: ${skipped}`];
},
title: function (tooltipItems) {
const fullTitle = tooltipItems[0].label;
const maxLineLength = 30;
const lines = fullTitle.match(new RegExp('.{1,' + maxLineLength + '}', 'g')) || [fullTitle];
return lines;
}
}
config.options.onClick = (event) => {
if (event.chart.tooltip.title) {
setTimeout(() => {
create_suite_folder_donut_graph(event.chart.tooltip.title.join(''));
}, 0);
}
};
config.options.onHover = function (event, chartElement) {
const targetCanvas = event.native.target;
if (chartElement.length > 0) {
targetCanvas.style.cursor = 'pointer';
} else {
targetCanvas.style.cursor = 'default';
}
};
suiteFolderDonutGraph = new Chart("suiteFolderDonutGraph", config);
}
// function to create suite last failed donut
function create_suite_folder_fail_donut_graph() {
if (suiteFolderFailDonutGraph) {
suiteFolderFailDonutGraph.destroy();
}
const data = get_donut_folder_fail_graph_data("suite", filteredSuites);
const graphData = data[0]
const callbackData = data[1]
const labels = graphData.labels
if (graphData.labels.length == 0) {
graphData.labels = ["No Failed Folders In Last Run"]
graphData.datasets = [{
data: [1],
backgroundColor: ["grey"],
}]
}
var config = get_graph_config("donut", graphData, "Last Run");
config.options.plugins.tooltip.callbacks = {
label: function (context) {
if (context.label == "No Failed Folders In Last Run") { return null }
const label = labels[context.dataIndex]
const passed = callbackData[label].passed
const failed = callbackData[label].failed
const skipped = callbackData[label].skipped
return [`Passed: ${passed}`, `Failed: ${failed}`, `Skipped: ${skipped}`];
},
title: function (tooltipItem) {
return tooltipItem.label;
}
}
config.options.plugins.datalabels = {
...dataLabelConfig,
formatter: function (value, context) {
if (value === 0) return null;
const total = graphData.datasets[0].data.reduce((a, b) => a + b, 0);
const percentage = Math.round((value / total) * 100);
if (percentage <= 5) return null;
const label = graphData.labels[context.dataIndex].split(".").pop();
return `${label}: ${value} (${percentage}%)`;
}
};
config.options.onClick = (event) => {
if (event.chart.tooltip.title) {
setTimeout(() => {
create_suite_folder_donut_graph(event.chart.tooltip.title.join(''));
}, 0);
}
};
config.options.onHover = function (event, chartElement) {
const targetCanvas = event.native.target;
if (chartElement.length > 0) {
targetCanvas.style.cursor = 'pointer';
} else {
targetCanvas.style.cursor = 'default';
}
};
suiteFolderFailDonutGraph = new Chart("suiteFolderFailDonutGraph", config);
}
// function to create suite statistics graph in the suite section
function create_suite_statistics_graph() {
if (suiteStatisticsGraph) {
suiteStatisticsGraph.destroy();
}
const data = get_statistics_graph_data("suite", settings.graphTypes.suiteStatisticsGraphType, filteredSuites);
const graphData = data[0]
const callbackData = data[1]
var config;
if (settings.graphTypes.suiteStatisticsGraphType == "line") {
config = get_graph_config("line", graphData, "", "Date", "amount", false);
config.options.plugins.tooltip = {
callbacks: {
title: function (tooltipItem) {
return `${tooltipItem[0].label}: ${callbackData[tooltipItem[0].dataIndex]}`
}
}
}
} else if (settings.graphTypes.suiteStatisticsGraphType == "amount") {
config = get_graph_config("bar", graphData, "", "Run", "Amount Of Tests");
const filter = config.options.plugins.tooltip.filter
config.options.plugins.tooltip = {
filter,
callbacks: {
title: function (tooltipItem) {
return `${tooltipItem[0].label}: ${callbackData[tooltipItem[0].dataIndex]}`
}
}
}
} else if (settings.graphTypes.suiteStatisticsGraphType == "percentages") {
config = get_graph_config("bar", graphData, "", "Run", "Percentage");
const filter = config.options.plugins.tooltip.filter
config.options.plugins.tooltip = {
filter,
callbacks: {
title: function (tooltipItem) {
return `${tooltipItem[0].label}: ${callbackData[tooltipItem[0].dataIndex]}`
}
}
}
}
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
suiteStatisticsGraph = new Chart("suiteStatisticsGraph", config);
suiteStatisticsGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(suiteStatisticsGraph, event)
});
}
// function to create suite duration graph in the suite section
function create_suite_duration_graph() {
if (suiteDurationGraph) {
suiteDurationGraph.destroy();
}
const graphData = get_duration_graph_data("suite", settings.graphTypes.suiteDurationGraphType, "elapsed_s", filteredSuites);
var config;
if (settings.graphTypes.suiteDurationGraphType == "bar") {
const limit = inFullscreen && inFullscreenGraph.includes("suiteDuration") ? 100 : 30;
config = get_graph_config("bar", graphData, `Max ${limit} Bars`, "Run", "Duration");
} else if (settings.graphTypes.suiteDurationGraphType == "line") {
config = get_graph_config("line", graphData, "", "Date", "Duration");
}
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
suiteDurationGraph = new Chart("suiteDurationGraph", config);
suiteDurationGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(suiteDurationGraph, event)
});
}
// function to create suite most failed graph in the suite section
function create_suite_most_failed_graph() {
if (suiteMostFailedGraph) {
suiteMostFailedGraph.destroy();
}
const data = get_most_failed_data("suite", settings.graphTypes.suiteMostFailedGraphType, filteredSuites, false);
const graphData = data[0];
const callbackData = data[1];
var config;
const limit = inFullscreen && inFullscreenGraph.includes("suiteMostFailed") ? 50 : 10;
if (settings.graphTypes.suiteMostFailedGraphType == "bar") {
config = get_graph_config("bar", graphData, `Top ${limit}`, "Suite", "Fails");
config.options.plugins.legend = { display: false };
config.options.plugins.tooltip = {
callbacks: {
label: function (tooltipItem) {
return callbackData[tooltipItem.label];
},
},
};
delete config.options.onClick
} else if (settings.graphTypes.suiteMostFailedGraphType == "timeline") {
config = get_graph_config("timeline", graphData, `Top ${limit}`, "Run", "Suite");
config.options.plugins.tooltip = {
callbacks: {
label: function (context) {
return callbackData[context.raw.x[0]];
},
},
};
config.options.scales.x = {
ticks: {
minRotation: 45,
maxRotation: 45,
stepSize: 1,
callback: function (value, index, ticks) {
return callbackData[this.getLabelForValue(value)];
},
},
title: {
display: settings.show.axisTitles,
text: "Run",
},
};
config.options.onClick = (event, chartElement) => {
if (chartElement.length) {
open_log_file(event, chartElement, callbackData)
}
};
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
}
update_height("suiteMostFailedVertical", config.data.labels.length, settings.graphTypes.suiteMostFailedGraphType);
suiteMostFailedGraph = new Chart("suiteMostFailedGraph", config);
suiteMostFailedGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(suiteMostFailedGraph, event)
});
}
// function to create the most time consuming suite graph in the suite section
function create_suite_most_time_consuming_graph() {
if (suiteMostTimeConsumingGraph) {
suiteMostTimeConsumingGraph.destroy();
}
const onlyLastRun = document.getElementById("onlyLastRunSuite").checked;
const data = get_most_time_consuming_or_most_used_data("suite", settings.graphTypes.suiteMostTimeConsumingGraphType, filteredSuites, onlyLastRun);
const graphData = data[0]
const callbackData = data[1];
var config;
const limit = inFullscreen && inFullscreenGraph.includes("suiteMostTimeConsuming") ? 50 : 10;
if (settings.graphTypes.suiteMostTimeConsumingGraphType == "bar") {
config = get_graph_config("bar", graphData, `Top ${limit}`, "Suite", "Most Time Consuming");
config.options.plugins.legend = { display: false };
config.options.plugins.tooltip = {
callbacks: {
label: function (tooltipItem) {
const key = tooltipItem.label;
const cb = callbackData;
const runStarts = cb.run_starts[key] || [];
const namesToShow = settings.show.aliases ? cb.aliases[key] : runStarts;
return runStarts.map((runStart, idx) => {
const info = cb.details[key][runStart];
const displayName = namesToShow[idx];
if (!info) return `${displayName}: (no data)`;
return `${displayName}: ${format_duration(info.duration)}`;
});
}
},
};
delete config.options.onClick
} else if (settings.graphTypes.suiteMostTimeConsumingGraphType == "timeline") {
config = get_graph_config("timeline", graphData, `Top ${limit}`, "Run", "Suite");
config.options.plugins.tooltip = {
callbacks: {
label: function (context) {
const key = context.dataset.label;
const runIndex = context.raw.x[0];
const runStart = callbackData.runs[runIndex];
const info = callbackData.details[key][runStart];
const displayName = settings.show.aliases
? callbackData.aliases[runIndex]
: runStart;
if (!info) return `${displayName}: (no data)`;
return `${displayName}: ${format_duration(info.duration)}`;
}
},
};
config.options.scales.x = {
ticks: {
minRotation: 45,
maxRotation: 45,
stepSize: 1,
callback: function (value, index, ticks) {
const displayName = settings.show.aliases
? callbackData.aliases[this.getLabelForValue(value)]
: callbackData.runs[this.getLabelForValue(value)];
return displayName;
},
},
title: {
display: settings.show.axisTitles,
text: "Run",
},
};
config.options.onClick = (event, chartElement) => {
if (chartElement.length) {
open_log_file(event, chartElement, callbackData.runs)
}
};
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
}
update_height("suiteMostTimeConsumingVertical", config.data.labels.length, settings.graphTypes.suiteMostTimeConsumingGraphType);
suiteMostTimeConsumingGraph = new Chart("suiteMostTimeConsumingGraph", config);
suiteMostTimeConsumingGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(suiteMostTimeConsumingGraph, event)
});
}
// === messages.js ===
// function to prepare the data in the correct format for messages graphs
function get_messages_data(dataType, graphType, filteredData) {
const data = new Map();
const aliases = new Map();
for (const value of filteredData) {
if (value.message && (value.failed === 1 || value.skipped === 1)) {
if (!data.has(value.message)) {
data.set(value.message, []);
aliases.set(value.message, []);
}
data.get(value.message).push(value.run_start);
aliases.get(value.message).push(value.run_alias);
}
}
// If there is a message config use that to merge the data
if (!message_config.includes("placeholder_message_config")) {
function matches_message_config(str, rule) {
rule = rule.replace(/\$\{.*?\}/g, "*") // match any ${something} string
var escapeRegex = (str) => str.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1"); // escape the test messages to prevent regex mismatches
return new RegExp("^" + rule.split("*").map(escapeRegex).join(".*") + "$").test(str);
}
for (const config of message_config) {
for (const [message, runStarts] of data) {
if (message == config) { continue }
if (matches_message_config(message, config)) {
if (!data.has(config)) {
data.set(config, []);
}
data.get(config).push(...runStarts);
data.delete(message)
}
}
}
for (const [message, runStarts] of data) {
arrayWithDuplicates = data.get(message)
data.set(message, [...new Set(arrayWithDuplicates)])
}
}
const limit = inFullscreen && inFullscreenGraph.includes("Messages") ? 50 : 10;
const sortedData = [...data.entries()].sort((a, b) => b[1].length - a[1].length); // Sort messages by failure count
if (graphType === "bar") {
const [datasets, labels] = [[], []];
let count = 0;
for (const [message, runStarts] of sortedData) {
if (count == limit) break;
labels.push(message);
datasets.push(runStarts.length);
if (settings.show.aliases) {
data.set(message, aliases.get(message));
}
count++;
}
const graphData = {
labels,
datasets: [{
data: datasets,
...failedConfig,
}],
};
const callbackData = Object.fromEntries(sortedData.map(([message, runs]) => [message, aliases.get(message)]));
return [graphData, callbackData];
} else if (graphType === "timeline") {
const labels = [];
const runStartsSet = new Set();
const runAliasesSet = new Set();
let count = 0;
for (const [message, runStarts] of sortedData) { // Collect unique run starts and labels
if (count == limit) break;
labels.push(message);
runStarts.forEach(runStart => runStartsSet.add(runStart));
count++;
}
const runStarts = Array.from(runStartsSet).sort((a, b) => new Date(a).getTime() - new Date(b).getTime());
var datasets = [];
let runAxis = 0;
function check_label(message, label) {
return !message_config.includes("placeholder_message_config")
? matches_message_config(message, label)
: message === label;
}
for (const runStart of runStarts) {
for (const label of labels) {
const foundValues = filteredData.filter(value => check_label(value.message, label) && value.run_start === runStart);
if (foundValues.length > 0) {
const value = foundValues[0];
datasets.push({
label: label,
data: [{ x: [runAxis, runAxis + 1], y: label }],
...failedConfig,
});
foundValues.forEach(value => runAliasesSet.add(value.run_alias));
}
}
runAxis++;
}
datasets = convert_timeline_data(datasets)
const runStartsArray = settings.show.aliases ? Array.from(runAliasesSet) : runStarts;
const graphData = {
labels,
datasets,
};
return [graphData, runStartsArray];
}
}
// === duration_deviation.js ===
// function to prepare the data in the correct format for the duration deviation graph
function get_duration_deviation_data(dataType, graphType, filteredData) {
const suiteSelectTests = document.getElementById("suiteSelectTests").value;
const testSelect = document.getElementById("testSelect").value;
const testTagsSelect = document.getElementById("testTagsSelect").value;
const data = new Map();
for (const value of filteredData) {
if (dataType === "test") {
if (settings.switch.suitePathsTestSection) {
if (suiteSelectTests !== "All" && value.full_name !== `${suiteSelectTests}.${value.name}`) {
continue;
}
} else {
if (suiteSelectTests !== "All" && !value.full_name.includes(`.${suiteSelectTests}.${value.name}`) && value.full_name !== `${suiteSelectTests}.${value.name}`) {
continue;
}
}
if (testSelect !== "All" && value.name !== testSelect) {
continue;
}
if (testTagsSelect !== "All" && !value.tags.replace(/\[|\]/g, "").split(",").includes(testTagsSelect)) {
continue;
}
}
if (data.has(value.name)) {
data.get(value.name).push(value.elapsed_s);
} else {
data.set(value.name, [value.elapsed_s]);
}
}
const labels = [];
const datasets = [];
for (const [testName, elapsedTimes] of data.entries()) {
labels.push(testName);
datasets.push(elapsedTimes);
}
return {
labels,
datasets: [{
itemRadius: 3,
data: datasets
}],
};
}
// === flaky.js ===
// function to prepare the data in the correct format for (recent) most flaky test graph
function get_most_flaky_data(dataType, graphType, filteredData, ignore, recent) {
var data = {};
for (const value of filteredData) {
const key = settings.switch.suitePathsTestSection ? value.full_name : value.name;
if (data[key]) {
data[key]["run_starts"].push(value.run_start);
let current_status;
if (value.passed == 1) {
current_status = "passed";
} else if (value.failed == 1) {
current_status = "failed";
data[key]["failed_run_starts"].push(value.run_start);
} else if (!ignore) {
if (value.skipped == 1) {
current_status = "skipped";
data[key]["failed_run_starts"].push(value.run_start);
}
}
if (current_status !== data[key]["previous_status"]) {
data[key]["flips"] += 1;
data[key]["previous_status"] = current_status;
}
} else {
let previous_status;
data[key] = {
"run_starts": [value.run_start],
"flips": 0,
"failed_run_starts": []
};
if (value.passed == 1) {
previous_status = "passed";
} else if (value.failed == 1) {
previous_status = "failed";
data[key]["failed_run_starts"].push(value.run_start);
} else if (!ignore) {
if (value.skipped == 1) {
previous_status = "skipped";
data[key]["failed_run_starts"].push(value.run_start);
}
}
data[key]["previous_status"] = previous_status;
}
}
var sortedData = [];
for (var test in data) {
if (data[test].flips > 0) {
sortedData.push([test, data[test]]);
}
}
sortedData.sort(function (a, b) {
return b[1].flips - a[1].flips;
});
if (recent) { // do extra filtering to get most recent flaky tests at the top
sortedData.sort(function (a, b) {
return new Date(b[1].failed_run_starts[b[1].failed_run_starts.length - 1]).getTime() - new Date(a[1].failed_run_starts[a[1].failed_run_starts.length - 1]).getTime()
})
}
var limit
if (recent) {
limit = inFullscreen && inFullscreenGraph.includes("testRecentMostFlaky") ? 50 : 10;
} else {
limit = inFullscreen && inFullscreenGraph.includes("testMostFlaky") ? 50 : 10;
}
if (graphType == "bar") {
var [datasets, labels, count] = [[], [], 0];
for (const key in sortedData) {
if (count == limit) {
break;
}
labels.push(sortedData[key][0]);
datasets.push(sortedData[key][1].flips);
count += 1;
}
const graphData = {
labels,
datasets: [{
data: datasets,
...failedConfig,
}],
};
return [graphData, data];
} else if (graphType == "timeline") {
var [labels, runStarts, count, run_aliases] = [[], [], 0, []];
for (const key in sortedData) {
if (count == limit) {
break;
}
labels.push(sortedData[key][0]);
for (const runStart of sortedData[key][1].run_starts) {
if (!runStarts.includes(runStart)) {
runStarts.push(runStart);
}
}
count += 1;
}
var datasets = [];
var runAxis = 0;
runStarts = runStarts.sort((a, b) => new Date(a).getTime() - new Date(b).getTime())
for (const runStart of runStarts) {
for (const label of labels) {
var foundValues = [];
for (value of filteredData) {
const compareKey = settings.switch.suitePathsTestSection ? value.full_name : value.name;
if (compareKey == label && value.run_start == runStart) {
// if (value.name == label && value.run_start == runStart) {
foundValues.push(value);
if (!run_aliases.includes(value.run_alias)) { run_aliases.push(value.run_alias) }
}
}
if (foundValues.length > 0) {
var value = foundValues[0];
if (value.passed == 1) {
datasets.push({
label: label,
data: [{ x: [runAxis, runAxis + 1], y: label }],
...passedConfig,
});
}
else if (value.failed == 1) {
datasets.push({
label: label,
data: [{ x: [runAxis, runAxis + 1], y: label }],
...failedConfig,
});
}
else if (value.skipped == 1) {
datasets.push({
label: label,
data: [{ x: [runAxis, runAxis + 1], y: label }],
...skippedConfig,
});
}
}
}
runAxis += 1;
}
if (settings.show.aliases) { runStarts = run_aliases }
datasets = convert_timeline_data(datasets)
var graphData = {
labels: labels,
datasets: datasets,
};
return [graphData, runStarts];
}
}
// === test.js ===
// function to create test statistics graph in the test section
function create_test_statistics_graph() {
if (testStatisticsGraph) {
testStatisticsGraph.destroy();
}
const data = get_test_statistics_data(filteredTests);
const graphData = data[0]
const runStarts = data[1]
var config = get_graph_config("timeline", graphData, "", "Run", "Test");
config.options.plugins.tooltip = {
callbacks: {
label: function (context) {
return runStarts[context.raw.x[0]];
},
},
};
config.options.scales.x = {
ticks: {
minRotation: 45,
maxRotation: 45,
stepSize: 1,
callback: function (value, index, ticks) {
return runStarts[this.getLabelForValue(value)];
},
},
title: {
display: settings.show.axisTitles,
text: "Run",
},
};
config.options.onClick = (event, chartElement) => {
if (chartElement.length) {
open_log_file(event, chartElement, runStarts)
}
};
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
update_height("testStatisticsVertical", config.data.labels.length, "timeline");
testStatisticsGraph = new Chart("testStatisticsGraph", config);
testStatisticsGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(testStatisticsGraph, event)
});
}
// function to create test duration graph in the test section
function create_test_duration_graph() {
if (testDurationGraph) {
testDurationGraph.destroy();
}
var graphData = get_duration_graph_data("test", settings.graphTypes.testDurationGraphType, "elapsed_s", filteredTests);
var config;
if (settings.graphTypes.testDurationGraphType == "bar") {
const limit = inFullscreen && inFullscreenGraph.includes("testDuration") ? 100 : 30;
config = get_graph_config("bar", graphData, `Max ${limit} Bars`, "Run", "Duration");
} else if (settings.graphTypes.testDurationGraphType == "line") {
config = get_graph_config("line", graphData, "", "Date", "Duration");
}
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
testDurationGraph = new Chart("testDurationGraph", config);
testDurationGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(testDurationGraph, event)
});
}
// function to create test messages graph in the test section
function create_test_messages_graph() {
if (testMessagesGraph) {
testMessagesGraph.destroy();
}
const data = get_messages_data("test", settings.graphTypes.testMessagesGraphType, filteredTests);
const graphData = data[0];
const callbackData = data[1];
var config;
const limit = inFullscreen && inFullscreenGraph.includes("testMessages") ? 50 : 10;
if (settings.graphTypes.testMessagesGraphType == "bar") {
config = get_graph_config("bar", graphData, `Top ${limit}`, "Message", "Times");
config.options.plugins.legend = { display: false };
config.options.plugins.tooltip = {
callbacks: {
label: function (tooltipItem) {
return callbackData[tooltipItem.label];
},
},
};
config.options.scales.x = {
ticks: {
minRotation: 45,
maxRotation: 45,
callback: function (value, index) {
return this.getLabelForValue(value).slice(0, 40);
},
},
title: {
display: settings.show.axisTitles,
text: "Message",
},
};
delete config.options.onClick
} else if (settings.graphTypes.testMessagesGraphType == "timeline") {
config = get_graph_config("timeline", graphData, `Top ${limit}`, "Run", "Message");
config.options.plugins.tooltip = {
callbacks: {
label: function (context) {
return callbackData[context.raw.x[0]];
},
},
};
config.options.scales.x = {
ticks: {
minRotation: 45,
maxRotation: 45,
stepSize: 1,
callback: function (value, index, ticks) {
return callbackData[this.getLabelForValue(value)];
},
},
title: {
display: settings.show.axisTitles,
text: "Run",
},
};
config.options.onClick = (event, chartElement) => {
if (chartElement.length) {
open_log_file(event, chartElement, callbackData)
}
};
config.options.scales.y.ticks = {
callback: function (value, index, ticks) {
return this.getLabelForValue(value).slice(0, 40);
},
};
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
}
update_height("testMessagesVertical", config.data.labels.length, settings.graphTypes.testMessagesGraphType);
testMessagesGraph = new Chart("testMessagesGraph", config);
testMessagesGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(testMessagesGraph, event)
});
}
// function to create test duration deviation graph in test section
function create_test_duration_deviation_graph() {
if (testDurationDeviationGraph) {
testDurationDeviationGraph.destroy();
}
const graphData = get_duration_deviation_data("test", settings.graphTypes.testDurationDeviationGraphType, filteredTests)
const config = get_graph_config("boxplot", graphData, "", "Test", "Duration");
delete config.options.onClick
testDurationDeviationGraph = new Chart("testDurationDeviationGraph", config);
testDurationDeviationGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(testDurationDeviationGraph, event)
});
}
// function to create test most flaky graph in test section
function create_test_most_flaky_graph() {
if (testMostFlakyGraph) {
testMostFlakyGraph.destroy();
}
const data = get_most_flaky_data("test", settings.graphTypes.testMostFlakyGraphType, filteredTests, ignoreSkips, false);
const graphData = data[0]
const callbackData = data[1];
var config;
const limit = inFullscreen && inFullscreenGraph.includes("testMostFlaky") ? 50 : 10;
if (settings.graphTypes.testMostFlakyGraphType == "bar") {
config = get_graph_config("bar", graphData, `Top ${limit}`, "Test", "Status Flips");
config.options.plugins.legend = false
delete config.options.onClick
} else if (settings.graphTypes.testMostFlakyGraphType == "timeline") {
config = get_graph_config("timeline", graphData, `Top ${limit}`, "Run", "Test");
config.options.plugins.tooltip = {
callbacks: {
label: function (context) {
return callbackData[context.raw.x[0]];
},
},
};
config.options.scales.x = {
ticks: {
minRotation: 45,
maxRotation: 45,
stepSize: 1,
callback: function (value, index, ticks) {
return callbackData[this.getLabelForValue(value)];
},
},
title: {
display: settings.show.axisTitles,
text: "Run",
},
};
config.options.onClick = (event, chartElement) => {
if (chartElement.length) {
open_log_file(event, chartElement, callbackData)
}
};
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
}
update_height("testMostFlakyVertical", config.data.labels.length, settings.graphTypes.testMostFlakyGraphType);
testMostFlakyGraph = new Chart("testMostFlakyGraph", config);
testMostFlakyGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(testMostFlakyGraph, event)
});
}
// function to create test recent most flaky graph in test section
function create_test_recent_most_flaky_graph() {
if (testRecentMostFlakyGraph) {
testRecentMostFlakyGraph.destroy();
}
const data = get_most_flaky_data("test", settings.graphTypes.testRecentMostFlakyGraphType, filteredTests, ignoreSkipsRecent, true);
const graphData = data[0];
const callbackData = data[1];
var config;
const limit = inFullscreen && inFullscreenGraph.includes("testRecentMostFlaky") ? 50 : 10;
if (settings.graphTypes.testRecentMostFlakyGraphType == "bar") {
config = get_graph_config("bar", graphData, `Top ${limit}`, "Test", "Status Flips");
config.options.plugins.legend = false
delete config.options.onClick
} else if (settings.graphTypes.testRecentMostFlakyGraphType == "timeline") {
config = get_graph_config("timeline", graphData, `Top ${limit}`, "Run", "Test");
config.options.plugins.tooltip = {
callbacks: {
label: function (context) {
return callbackData[context.raw.x[0]];
},
},
};
config.options.scales.x = {
ticks: {
minRotation: 45,
maxRotation: 45,
stepSize: 1,
callback: function (value, index, ticks) {
return callbackData[this.getLabelForValue(value)];
},
},
title: {
display: settings.show.axisTitles,
text: "Run",
},
};
config.options.onClick = (event, chartElement) => {
if (chartElement.length) {
open_log_file(event, chartElement, callbackData)
}
};
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
}
update_height("testRecentMostFlakyVertical", config.data.labels.length, settings.graphTypes.testRecentMostFlakyGraphType);
testRecentMostFlakyGraph = new Chart("testRecentMostFlakyGraph", config);
testRecentMostFlakyGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(testRecentMostFlakyGraph, event)
});
}
// function to create test most failed graph in the test section
function create_test_most_failed_graph() {
if (testMostFailedGraph) {
testMostFailedGraph.destroy();
}
const data = get_most_failed_data("test", settings.graphTypes.testMostFailedGraphType, filteredTests, false);
const graphData = data[0]
const callbackData = data[1];
var config;
const limit = inFullscreen && inFullscreenGraph.includes("testMostFailed") ? 50 : 10;
if (settings.graphTypes.testMostFailedGraphType == "bar") {
config = get_graph_config("bar", graphData, `Top ${limit}`, "Test", "Fails");
config.options.plugins.legend = { display: false };
config.options.plugins.tooltip = {
callbacks: {
label: function (tooltipItem) {
return callbackData[tooltipItem.label];
},
},
};
delete config.options.onClick
} else if (settings.graphTypes.testMostFailedGraphType == "timeline") {
config = get_graph_config("timeline", graphData, `Top ${limit}`, "Run", "Test");
config.options.plugins.tooltip = {
callbacks: {
label: function (context) {
return callbackData[context.raw.x[0]];
},
},
};
config.options.scales.x = {
ticks: {
minRotation: 45,
maxRotation: 45,
stepSize: 1,
callback: function (value, index, ticks) {
return callbackData[this.getLabelForValue(value)];
},
},
title: {
display: settings.show.axisTitles,
text: "Run",
},
};
config.options.onClick = (event, chartElement) => {
if (chartElement.length) {
open_log_file(event, chartElement, callbackData)
}
};
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
}
update_height("testMostFailedVertical", config.data.labels.length, settings.graphTypes.testMostFailedGraphType);
testMostFailedGraph = new Chart("testMostFailedGraph", config);
testMostFailedGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(testMostFailedGraph, event)
});
}
// function to create test recent most failed graph in the test section
function create_test_recent_most_failed_graph() {
if (testRecentMostFailedGraph) {
testRecentMostFailedGraph.destroy();
}
const data = get_most_failed_data("test", settings.graphTypes.testRecentMostFailedGraphType, filteredTests, true);
const graphData = data[0]
const callbackData = data[1];
var config;
const limit = inFullscreen && inFullscreenGraph.includes("testRecentMostFailed") ? 50 : 10;
if (settings.graphTypes.testRecentMostFailedGraphType == "bar") {
config = get_graph_config("bar", graphData, `Top ${limit}`, "Test", "Fails");
config.options.plugins.legend = { display: false };
config.options.plugins.tooltip = {
callbacks: {
label: function (tooltipItem) {
return callbackData[tooltipItem.label];
},
},
};
delete config.options.onClick
} else if (settings.graphTypes.testRecentMostFailedGraphType == "timeline") {
config = get_graph_config("timeline", graphData, `Top ${limit}`, "Run", "Test");
config.options.plugins.tooltip = {
callbacks: {
label: function (context) {
return callbackData[context.raw.x[0]];
},
},
};
config.options.scales.x = {
ticks: {
minRotation: 45,
maxRotation: 45,
stepSize: 1,
callback: function (value, index, ticks) {
return callbackData[this.getLabelForValue(value)];
},
},
title: {
display: settings.show.axisTitles,
text: "Run",
},
};
config.options.onClick = (event, chartElement) => {
if (chartElement.length) {
open_log_file(event, chartElement, callbackData)
}
};
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
}
update_height("testRecentMostFailedVertical", config.data.labels.length, settings.graphTypes.testRecentMostFailedGraphType);
testRecentMostFailedGraph = new Chart("testRecentMostFailedGraph", config);
testRecentMostFailedGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(testRecentMostFailedGraph, event)
});
}
// function to create the most time consuming test graph in the test section
function create_test_most_time_consuming_graph() {
if (testMostTimeConsumingGraph) {
testMostTimeConsumingGraph.destroy();
}
const onlyLastRun = document.getElementById("onlyLastRunTest").checked;
const data = get_most_time_consuming_or_most_used_data("test", settings.graphTypes.testMostTimeConsumingGraphType, filteredTests, onlyLastRun);
const graphData = data[0]
const callbackData = data[1];
var config;
const limit = inFullscreen && inFullscreenGraph.includes("testMostTimeConsuming") ? 50 : 10;
if (settings.graphTypes.testMostTimeConsumingGraphType == "bar") {
config = get_graph_config("bar", graphData, `Top ${limit}`, "Test", "Most Time Consuming");
config.options.plugins.legend = { display: false };
config.options.plugins.tooltip = {
callbacks: {
label: function (tooltipItem) {
const key = tooltipItem.label;
const cb = callbackData;
const runStarts = cb.run_starts[key] || [];
const namesToShow = settings.show.aliases ? cb.aliases[key] : runStarts;
return runStarts.map((runStart, idx) => {
const info = cb.details[key][runStart];
const displayName = namesToShow[idx];
if (!info) return `${displayName}: (no data)`;
return `${displayName}: ${format_duration(info.duration)}`;
});
}
},
};
delete config.options.onClick
} else if (settings.graphTypes.testMostTimeConsumingGraphType == "timeline") {
config = get_graph_config("timeline", graphData, `Top ${limit}`, "Run", "Test");
config.options.plugins.tooltip = {
callbacks: {
label: function (context) {
const key = context.dataset.label;
const runIndex = context.raw.x[0];
const runStart = callbackData.runs[runIndex];
const info = callbackData.details[key][runStart];
const displayName = settings.show.aliases
? callbackData.aliases[runIndex]
: runStart;
if (!info) return `${displayName}: (no data)`;
return `${displayName}: ${format_duration(info.duration)}`;
}
},
};
config.options.scales.x = {
ticks: {
minRotation: 45,
maxRotation: 45,
stepSize: 1,
callback: function (value, index, ticks) {
const displayName = settings.show.aliases
? callbackData.aliases[this.getLabelForValue(value)]
: callbackData.runs[this.getLabelForValue(value)];
return displayName;
},
},
title: {
display: settings.show.axisTitles,
text: "Run",
},
};
config.options.onClick = (event, chartElement) => {
if (chartElement.length) {
open_log_file(event, chartElement, callbackData.runs)
}
};
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
}
update_height("testMostTimeConsumingVertical", config.data.labels.length, settings.graphTypes.testMostTimeConsumingGraphType);
testMostTimeConsumingGraph = new Chart("testMostTimeConsumingGraph", config);
testMostTimeConsumingGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(testMostTimeConsumingGraph, event)
});
}
// === keyword.js ===
// function to keyword statistics graph in the keyword section
function create_keyword_statistics_graph() {
if (keywordStatisticsGraph) {
keywordStatisticsGraph.destroy();
}
const data = get_statistics_graph_data("keyword", settings.graphTypes.keywordStatisticsGraphType, filteredKeywords);
const graphData = data[0]
var config;
if (settings.graphTypes.keywordStatisticsGraphType == "line") {
config = get_graph_config("line", graphData, "", "Date", "Amount", false);
} else if (settings.graphTypes.keywordStatisticsGraphType == "amount") {
config = get_graph_config("bar", graphData, "", "Run", "Amount");
} else if (settings.graphTypes.keywordStatisticsGraphType == "percentages") {
config = get_graph_config("bar", graphData, "", "Run", "Percentage");
}
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
keywordStatisticsGraph = new Chart("keywordStatisticsGraph", config);
keywordStatisticsGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(keywordStatisticsGraph, event)
});
}
// function to keyword times run graph in the keyword section
function create_keyword_times_run_graph() {
if (keywordTimesRunGraph) {
keywordTimesRunGraph.destroy();
}
const graphData = get_duration_graph_data("keyword", settings.graphTypes.keywordTimesRunGraphType, "times_run", filteredKeywords);
var config;
if (settings.graphTypes.keywordTimesRunGraphType == "bar") {
const limit = inFullscreen && inFullscreenGraph.includes("keywordTimesRun") ? 100 : 30;
config = get_graph_config("bar", graphData, `Max ${limit} Bars`, "Run", "Times Run");
} else if (settings.graphTypes.keywordTimesRunGraphType == "line") {
config = get_graph_config("line", graphData, "", "Date", "Times Run");
}
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
keywordTimesRunGraph = new Chart("keywordTimesRunGraph", config);
keywordTimesRunGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(keywordTimesRunGraph, event)
});
}
// function to keyword total time graph in the keyword section
function create_keyword_total_duration_graph() {
if (keywordTotalDurationGraph) {
keywordTotalDurationGraph.destroy();
}
const graphData = get_duration_graph_data("keyword", settings.graphTypes.keywordTotalDurationGraphType, "total_time_s", filteredKeywords);
var config;
if (settings.graphTypes.keywordTotalDurationGraphType == "bar") {
const limit = inFullscreen && inFullscreenGraph.includes("keywordTotalDuration") ? 100 : 30;
config = get_graph_config("bar", graphData, `Max ${limit} Bars`, "Run", "Duration");
} else if (settings.graphTypes.keywordTotalDurationGraphType == "line") {
config = get_graph_config("line", graphData, "", "Date", "Duration");
}
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
keywordTotalDurationGraph = new Chart("keywordTotalDurationGraph", config);
keywordTotalDurationGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(keywordTotalDurationGraph, event)
});
}
// function to keyword average time graph in the keyword section
function create_keyword_average_duration_graph() {
if (keywordAverageDurationGraph) {
keywordAverageDurationGraph.destroy();
}
const graphData = get_duration_graph_data("keyword", settings.graphTypes.keywordAverageDurationGraphType, "average_time_s", filteredKeywords);
var config;
if (settings.graphTypes.keywordAverageDurationGraphType == "bar") {
const limit = inFullscreen && inFullscreenGraph.includes("keywordAverageDuration") ? 100 : 30;
config = get_graph_config("bar", graphData, `Max ${limit} Bars`, "Run", "Duration");
} else if (settings.graphTypes.keywordAverageDurationGraphType == "line") {
config = get_graph_config("line", graphData, "", "Date", "Duration");
}
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
keywordAverageDurationGraph = new Chart("keywordAverageDurationGraph", config);
keywordAverageDurationGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(keywordAverageDurationGraph, event)
});
}
// function to keyword min time graph in the keyword section
function create_keyword_min_duration_graph() {
if (keywordMinDurationGraph) {
keywordMinDurationGraph.destroy();
}
const graphData = get_duration_graph_data("keyword", settings.graphTypes.keywordMinDurationGraphType, "min_time_s", filteredKeywords);
var config;
if (settings.graphTypes.keywordMinDurationGraphType == "bar") {
const limit = inFullscreen && inFullscreenGraph.includes("keywordMinDuration") ? 100 : 30;
config = get_graph_config("bar", graphData, `Max ${limit} Bars`, "Run", "Duration");
} else if (settings.graphTypes.keywordMinDurationGraphType == "line") {
config = get_graph_config("line", graphData, "", "Date", "Duration");
}
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
keywordMinDurationGraph = new Chart("keywordMinDurationGraph", config);
keywordMinDurationGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(keywordMinDurationGraph, event)
});
}
// function to keyword max time graph in the keyword section
function create_keyword_max_duration_graph() {
if (keywordMaxDurationGraph) {
keywordMaxDurationGraph.destroy();
}
const graphData = get_duration_graph_data("keyword", settings.graphTypes.keywordMaxDurationGraphType, "max_time_s", filteredKeywords);
var config;
if (settings.graphTypes.keywordMaxDurationGraphType == "bar") {
const limit = inFullscreen && inFullscreenGraph.includes("keywordMaxDuration") ? 100 : 30;
config = get_graph_config("bar", graphData, `Max ${limit} Bars`, "Run", "Duration");
} else if (settings.graphTypes.keywordMaxDurationGraphType == "line") {
config = get_graph_config("line", graphData, "", "Date", "Duration");
}
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
keywordMaxDurationGraph = new Chart("keywordMaxDurationGraph", config);
keywordMaxDurationGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(keywordMaxDurationGraph, event)
});
}
// function to create test most failed graph in the keyword section
function create_keyword_most_failed_graph() {
if (keywordMostFailedGraph) {
keywordMostFailedGraph.destroy();
}
const data = get_most_failed_data("keyword", settings.graphTypes.keywordMostFailedGraphType, filteredKeywords, false);
const graphData = data[0]
const callbackData = data[1];
var config;
const limit = inFullscreen && inFullscreenGraph.includes("keywordMostFailed") ? 50 : 10;
if (settings.graphTypes.keywordMostFailedGraphType == "bar") {
config = get_graph_config("bar", graphData, `Top ${limit}`, "Keyword", "Fails");
config.options.plugins.legend = { display: false };
config.options.plugins.tooltip = {
callbacks: {
label: function (tooltipItem) {
return callbackData[tooltipItem.label];
},
},
};
delete config.options.onClick
} else if (settings.graphTypes.keywordMostFailedGraphType == "timeline") {
config = get_graph_config("timeline", graphData, `Top ${limit}`, "Run", "Keyword");
config.options.plugins.tooltip = {
callbacks: {
label: function (context) {
return callbackData[context.raw.x[0]];
},
},
};
config.options.scales.x = {
ticks: {
minRotation: 45,
maxRotation: 45,
stepSize: 1,
callback: function (value, index, ticks) {
return callbackData[this.getLabelForValue(value)];
},
},
title: {
display: settings.show.axisTitles,
text: "Run",
},
};
config.options.onClick = (event, chartElement) => {
if (chartElement.length) {
open_log_file(event, chartElement, callbackData)
}
};
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
}
update_height("keywordMostFailedVertical", config.data.labels.length, settings.graphTypes.keywordMostFailedGraphType);
keywordMostFailedGraph = new Chart("keywordMostFailedGraph", config);
keywordMostFailedGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(keywordMostFailedGraph, event)
});
}
// function to create the most time consuming keyword graph in the keyword section
function create_keyword_most_time_consuming_graph() {
if (keywordMostTimeConsumingGraph) {
keywordMostTimeConsumingGraph.destroy();
}
const onlyLastRun = document.getElementById("onlyLastRunKeyword").checked;
const data = get_most_time_consuming_or_most_used_data("keyword", settings.graphTypes.keywordMostTimeConsumingGraphType, filteredKeywords, onlyLastRun);
const graphData = data[0]
const callbackData = data[1];
var config;
const limit = inFullscreen && inFullscreenGraph.includes("keywordMostTimeConsuming") ? 50 : 10;
if (settings.graphTypes.keywordMostTimeConsumingGraphType == "bar") {
config = get_graph_config("bar", graphData, `Top ${limit}`, "Keyword", "Most Time Consuming");
config.options.plugins.legend = { display: false };
config.options.plugins.tooltip = {
callbacks: {
label: function (tooltipItem) {
const key = tooltipItem.label;
const cb = callbackData;
const runStarts = cb.run_starts[key] || [];
const namesToShow = settings.show.aliases ? cb.aliases[key] : runStarts;
return runStarts.map((runStart, idx) => {
const info = cb.details[key][runStart];
const displayName = namesToShow[idx];
if (!info) return `${displayName}: (no data)`;
return `${displayName}: ${format_duration(info.duration)}`;
});
}
},
};
delete config.options.onClick
} else if (settings.graphTypes.keywordMostTimeConsumingGraphType == "timeline") {
config = get_graph_config("timeline", graphData, `Top ${limit}`, "Run", "Keyword");
config.options.plugins.tooltip = {
callbacks: {
label: function (context) {
const key = context.dataset.label;
const runIndex = context.raw.x[0];
const runStart = callbackData.runs[runIndex];
const info = callbackData.details[key][runStart];
const displayName = settings.show.aliases
? callbackData.aliases[runIndex]
: runStart;
if (!info) return `${displayName}: (no data)`;
return `${displayName}: ${format_duration(info.duration)}`;
}
},
};
config.options.scales.x = {
ticks: {
minRotation: 45,
maxRotation: 45,
stepSize: 1,
callback: function (value, index, ticks) {
const displayName = settings.show.aliases
? callbackData.aliases[this.getLabelForValue(value)]
: callbackData.runs[this.getLabelForValue(value)];
return displayName;
},
},
title: {
display: settings.show.axisTitles,
text: "Run",
},
};
config.options.onClick = (event, chartElement) => {
if (chartElement.length) {
open_log_file(event, chartElement, callbackData.runs)
}
};
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
}
update_height("keywordMostTimeConsumingVertical", config.data.labels.length, settings.graphTypes.keywordMostTimeConsumingGraphType);
keywordMostTimeConsumingGraph = new Chart("keywordMostTimeConsumingGraph", config);
keywordMostTimeConsumingGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(keywordMostTimeConsumingGraph, event)
});
}
// function to create the most used keyword graph in the keyword section
function create_keyword_most_used_graph() {
if (keywordMostUsedGraph) {
keywordMostUsedGraph.destroy();
}
const onlyLastRun = document.getElementById("onlyLastRunKeywordMostUsed").checked;
const data = get_most_time_consuming_or_most_used_data("keyword", settings.graphTypes.keywordMostUsedGraphType, filteredKeywords, onlyLastRun, true);
const graphData = data[0]
const callbackData = data[1];
var config;
const limit = inFullscreen && inFullscreenGraph.includes("keywordMostUsed") ? 50 : 10;
if (settings.graphTypes.keywordMostUsedGraphType == "bar") {
config = get_graph_config("bar", graphData, `Top ${limit}`, "Keyword", "Most Used");
config.options.plugins.legend = { display: false };
config.options.plugins.tooltip = {
callbacks: {
label: function (tooltipItem) {
const key = tooltipItem.label;
const cb = callbackData;
const runStarts = cb.run_starts[key] || [];
const namesToShow = settings.show.aliases ? cb.aliases[key] : runStarts;
return runStarts.map((runStart, idx) => {
const info = cb.details[key][runStart];
const displayName = namesToShow[idx];
if (!info) return `${displayName}: (no data)`;
return `${displayName}: ran ${info.timesRun} times`;
});
}
},
};
delete config.options.onClick
} else if (settings.graphTypes.keywordMostUsedGraphType == "timeline") {
config = get_graph_config("timeline", graphData, `Top ${limit}`, "Run", "Keyword");
config.options.plugins.tooltip = {
callbacks: {
label: function (context) {
const key = context.dataset.label;
const runIndex = context.raw.x[0];
const runStart = callbackData.runs[runIndex];
const info = callbackData.details[key][runStart];
const displayName = settings.show.aliases
? callbackData.aliases[runIndex]
: runStart;
if (!info) return `${displayName}: (no data)`;
return `${displayName}: ran ${info.timesRun} times`;
}
},
};
config.options.scales.x = {
ticks: {
minRotation: 45,
maxRotation: 45,
stepSize: 1,
callback: function (value, index, ticks) {
const displayName = settings.show.aliases
? callbackData.aliases[this.getLabelForValue(value)]
: callbackData.runs[this.getLabelForValue(value)];
return displayName;
},
},
title: {
display: settings.show.axisTitles,
text: "Run",
},
};
config.options.onClick = (event, chartElement) => {
if (chartElement.length) {
open_log_file(event, chartElement, callbackData.runs)
}
};
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
}
update_height("keywordMostUsedVertical", config.data.labels.length, settings.graphTypes.keywordMostUsedGraphType);
keywordMostUsedGraph = new Chart("keywordMostUsedGraph", config);
keywordMostUsedGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(keywordMostUsedGraph, event)
});
}
// === compare.js ===
// function to create the compare statistics in the compare section
function create_compare_statistics_graph() {
if (compareStatisticsGraph) {
compareStatisticsGraph.destroy();
}
const graphData = get_compare_statistics_graph_data(filteredRuns);
const config = get_graph_config("bar", graphData, "", "Run", "Amount");
config.options.scales.y.stacked = false;
compareStatisticsGraph = new Chart("compareStatisticsGraph", config);
}
// function to create the compare statistics in the compare section
function create_compare_suite_duration_graph() {
if (compareSuiteDurationGraph) {
compareSuiteDurationGraph.destroy();
}
const graphData = get_compare_suite_duration_data(filteredSuites);
const config = get_graph_config("radar", graphData, "");
compareSuiteDurationGraph = new Chart("compareSuiteDurationGraph", config);
}
// function to create the compare statistics in the compare section
function create_compare_tests_graph() {
if (compareTestsGraph) {
compareTestsGraph.destroy();
}
const data = get_test_statistics_data(filteredTests);
const graphData = data[0]
const runStarts = data[1]
var config = get_graph_config("timeline", graphData, "", "Run", "Test");
config.options.plugins.tooltip = {
callbacks: {
label: function (context) {
return runStarts[context.raw.x[0]];
},
},
};
config.options.scales.x = {
ticks: {
minRotation: 45,
maxRotation: 45,
stepSize: 1,
callback: function (value, index, ticks) {
return runStarts[this.getLabelForValue(value)];
},
},
title: {
display: settings.show.axisTitles,
text: "Run",
},
};
config.options.onClick = (event, chartElement) => {
if (chartElement.length) {
open_log_file(event, chartElement, runStarts)
}
};
if (!settings.show.dateLabels) { config.options.scales.x.ticks.display = false }
update_height("compareTestsVertical", config.data.labels.length, "timeline");
compareTestsGraph = new Chart("compareTestsGraph", config);
compareTestsGraph.canvas.addEventListener("click", (event) => {
open_log_from_label(compareTestsGraph, event)
});
}
// === tables.js ===
// function to create run table in the run section
function create_run_table() {
if (runTable) {
runTable.destroy();
}
const data = [];
for (const run of filteredRuns) {
data.push([
run.run_start,
run.full_name,
run.name,
run.total,
run.passed,
run.failed,
run.skipped,
run.elapsed_s,
run.start_time,
run.project_version,
run.tags,
run.run_alias,
run.metadata,
]);
}
runTable = new DataTable("#runTable", {
layout: {
topStart: "info",
bottomStart: null,
},
columns: [
{ title: "run" },
{ title: "full_name" },
{ title: "name" },
{ title: "total" },
{ title: "passed" },
{ title: "failed" },
{ title: "skipped" },
{ title: "elapsed_s" },
{ title: "start_time" },
{ title: "version" },
{ title: "tags" },
{ title: "alias" },
{ title: "metadata" },
],
data: data,
});
}
// function to create suite table in the suite section
function create_suite_table() {
if (suiteTable) {
suiteTable.destroy();
}
const data = [];
for (const suite of filteredSuites) {
data.push([
suite.run_start,
suite.full_name,
suite.name,
suite.total,
suite.passed,
suite.failed,
suite.skipped,
suite.elapsed_s,
suite.start_time,
suite.run_alias,
suite.id,
]);
}
suiteTable = new DataTable("#suiteTable", {
layout: {
topStart: "info",
bottomStart: null,
},
columns: [
{ title: "run" },
{ title: "full_name" },
{ title: "name" },
{ title: "total" },
{ title: "passed" },
{ title: "failed" },
{ title: "skipped" },
{ title: "elapsed_s" },
{ title: "start_time" },
{ title: "alias" },
{ title: "id" },
],
data: data,
});
}
// function to create test table in the test section
function create_test_table() {
if (testTable) {
testTable.destroy();
}
const data = [];
for (const test of filteredTests) {
data.push([
test.run_start,
test.full_name,
test.name,
test.passed,
test.failed,
test.skipped,
test.elapsed_s,
test.start_time,
test.message,
test.tags,
test.run_alias,
test.id
]);
}
testTable = new DataTable("#testTable", {
layout: {
topStart: "info",
bottomStart: null,
},
columns: [
{ title: "run" },
{ title: "full_name" },
{ title: "name" },
{ title: "passed" },
{ title: "failed" },
{ title: "skipped" },
{ title: "elapsed_s" },
{ title: "start_time" },
{ title: "message" },
{ title: "tags" },
{ title: "alias" },
{ title: "id" },
],
data: data,
});
}
// function to create keyword table in the tables tab
function create_keyword_table() {
if (keywordTable) {
keywordTable.destroy();
}
const data = [];
for (const keyword of filteredKeywords) {
data.push([
keyword.run_start,
keyword.name,
keyword.passed,
keyword.failed,
keyword.skipped,
keyword.times_run,
keyword.total_time_s,
keyword.average_time_s,
keyword.min_time_s,
keyword.max_time_s,
keyword.run_alias,
keyword.owner,
]);
}
keywordTable = new DataTable("#keywordTable", {
layout: {
topStart: "info",
bottomStart: null,
},
columns: [
{ title: "run" },
{ title: "name" },
{ title: "passed" },
{ title: "failed" },
{ title: "skipped" },
{ title: "times_run" },
{ title: "total_execution_time" },
{ title: "average_execution_time" },
{ title: "min_execution_time" },
{ title: "max_execution_time" },
{ title: "alias" },
{ title: "owner" },
],
data: data,
});
}
// === all.js ===
// function that updates all graphs based on the new filtered data and hidden choices
function setup_dashboard_graphs() {
if (settings.menu.overview) {
create_overview_latest_graphs();
create_overview_total_graphs();
update_donut_charts();
} else if (settings.menu.dashboard) {
create_run_statistics_graph();
create_run_donut_graph();
create_run_donut_total_graph();
create_run_stats_graph();
create_run_duration_graph();
create_run_heatmap_graph();
create_suite_statistics_graph();
create_suite_folder_donut_graph();
create_suite_folder_fail_donut_graph();
create_suite_duration_graph();
create_suite_most_failed_graph();
create_suite_most_time_consuming_graph();
create_test_statistics_graph();
create_test_duration_graph();
create_test_duration_deviation_graph();
create_test_messages_graph();
create_test_most_flaky_graph();
create_test_recent_most_flaky_graph();
create_test_most_failed_graph();
create_test_recent_most_failed_graph();
create_test_most_time_consuming_graph();
create_keyword_statistics_graph();
create_keyword_times_run_graph();
create_keyword_total_duration_graph();
create_keyword_average_duration_graph();
create_keyword_min_duration_graph();
create_keyword_max_duration_graph();
create_keyword_most_failed_graph();
create_keyword_most_time_consuming_graph();
create_keyword_most_used_graph();
} else if (settings.menu.compare) {
create_compare_statistics_graph();
create_compare_suite_duration_graph();
create_compare_tests_graph();
} else if (settings.menu.tables) {
create_run_table();
create_suite_table();
create_test_table();
create_keyword_table();
}
}
// === theme.js ===
// function to update the theme when the button is clicked
function toggle_theme() {
if (document.documentElement.classList.contains("dark-mode")) {
set_local_storage_item("theme", "light");
} else {
set_local_storage_item("theme", "dark");
}
setup_theme()
setup_dashboard_graphs()
}
// theme function based on browser/machine color scheme
function setup_theme() {
Chart.defaults.font.size = graphFontSize;
const html = document.documentElement;
function swap_button_classes(from1, to1, from2, to2) {
// bootstrap buttons theme swap (outline and regular)
document.querySelectorAll(from1).forEach(btn => {
btn.classList.remove(from1.replace(".", ""));
btn.classList.add(to1);
});
document.querySelectorAll(from2).forEach(btn => {
btn.classList.remove(from2.replace(".", ""));
btn.classList.add(to2);
});
}
function set_light_mode() {
// menu theme
document.getElementById("navigation").classList.remove("navbar-dark")
document.getElementById("navigation").classList.add("navbar-light")
document.getElementById("themeLight").hidden = false;
document.getElementById("themeDark").hidden = true;
// bootstrap related settings
document.getElementsByTagName("html")[0].setAttribute("data-bs-theme", "light");
html.style.setProperty("--bs-body-bg", "#fff");
swap_button_classes(".btn-outline-light", "btn-outline-dark", ".btn-light", "btn-dark");
// chartjs default graph settings
Chart.defaults.color = "#666";
Chart.defaults.borderColor = "rgba(0,0,0,0.1)";
Chart.defaults.backgroundColor = "rgba(0,0,0,0.1)";
Chart.defaults.elements.line.borderColor = "rgba(0,0,0,0.1)";
// svgs
const svgMap = {
ids: {
"github": githubSVG("black"),
"docs": docsSVG("black"),
"settings": settingsSVG("black"),
"database": databaseSVG("black"),
"filters": filterSVG("black"),
"rflogo": getRflogoLightSVG(),
"themeLight": moonSVG,
"bug": bugSVG("black"),
"customizeLayout": customizeViewSVG("black"),
"saveLayout": saveSVG("black"),
},
classes: {
".percentage-graph": percentageSVG("black"),
".bar-graph": barSVG("black"),
".line-graph": lineSVG("black"),
".pie-graph": pieSVG("black"),
".boxplot-graph": boxplotSVG("black"),
".heatmap-graph": heatmapSVG("black"),
".stats-graph": statsSVG("black"),
".timeline-graph": timelineSVG("black"),
".radar-graph": radarSVG("black"),
".fullscreen-graph": fullscreenSVG("black"),
".close-graph": closeSVG("black"),
".information-icon": informationSVG("black"),
".shown-graph": eyeSVG("black"),
".hidden-graph": eyeOffSVG("black"),
".shown-section": eyeSVG("black"),
".hidden-section": eyeOffSVG("black"),
".move-up-table": moveUpSVG("black"),
".move-down-table": moveDownSVG("black"),
".move-up-section": moveUpSVG("black"),
".move-down-section": moveDownSVG("black"),
".clock-icon": clockSVG("black"),
}
};
for (const [id, svg] of Object.entries(svgMap.ids)) {
const el = document.getElementById(id);
if (el) el.innerHTML = svg;
}
for (const [selector, svg] of Object.entries(svgMap.classes)) {
document.querySelectorAll(selector).forEach(el => {
el.innerHTML = svg;
});
}
}
function set_dark_mode() {
// menu theme
document.getElementById("themeLight").hidden = true;
document.getElementById("themeDark").hidden = false;
document.getElementById("navigation").classList.remove("navbar-light")
document.getElementById("navigation").classList.add("navbar-dark")
// bootstrap related settings
document.getElementsByTagName("html")[0].setAttribute("data-bs-theme", "dark");
html.style.setProperty("--bs-body-bg", "rgba(30, 41, 59, 0.9)");
swap_button_classes(".btn-outline-dark", "btn-outline-light", ".btn-dark", "btn-light");
// chartjs default graph settings
Chart.defaults.color = "#eee";
Chart.defaults.borderColor = "rgba(255,255,255,0.1)";
Chart.defaults.backgroundColor = "rgba(255,255,0,0.1)";
Chart.defaults.elements.line.borderColor = "rgba(255,255,0,0.4)";
// svgs
const svgMap = {
ids: {
"github": githubSVG("white"),
"docs": docsSVG("white"),
"settings": settingsSVG("white"),
"database": databaseSVG("white"),
"filters": filterSVG("white"),
"rflogo": getRflogoDarkSVG(),
"themeDark": sunSVG,
"bug": bugSVG("white"),
"customizeLayout": customizeViewSVG("white"),
"saveLayout": saveSVG("white"),
},
classes: {
".percentage-graph": percentageSVG("white"),
".bar-graph": barSVG("white"),
".line-graph": lineSVG("white"),
".pie-graph": pieSVG("white"),
".boxplot-graph": boxplotSVG("white"),
".heatmap-graph": heatmapSVG("white"),
".stats-graph": statsSVG("white"),
".timeline-graph": timelineSVG("white"),
".radar-graph": radarSVG("white"),
".fullscreen-graph": fullscreenSVG("white"),
".close-graph": closeSVG("white"),
".information-icon": informationSVG("white"),
".shown-graph": eyeSVG("white"),
".hidden-graph": eyeOffSVG("white"),
".shown-section": eyeSVG("white"),
".hidden-section": eyeOffSVG("white"),
".move-up-table": moveUpSVG("white"),
".move-down-table": moveDownSVG("white"),
".move-up-section": moveUpSVG("white"),
".move-down-section": moveDownSVG("white"),
".clock-icon": clockSVG("white"),
}
};
for (const [id, svg] of Object.entries(svgMap.ids)) {
const el = document.getElementById(id);
if (el) el.innerHTML = svg;
}
for (const [selector, svg] of Object.entries(svgMap.classes)) {
document.querySelectorAll(selector).forEach(el => {
el.innerHTML = svg;
});
}
}
// detect theme preference
const isDark = html.classList.contains("dark-mode");
if (settings.theme === "light") {
if (isDark) html.classList.remove("dark-mode");
set_light_mode();
} else if (settings.theme === "dark") {
if (!isDark) html.classList.add("dark-mode");
set_dark_mode();
} else {
// No theme in localStorage, fall back to system preference
if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
html.classList.add("dark-mode");
set_dark_mode();
} else {
html.classList.remove("dark-mode");
set_light_mode();
}
}
}
// === eventlisteners.js ===
// function to setup filter modal eventlisteners
function setup_filter_modal() {
// eventlistener to catch the closing of the filter modal
$("#filtersModal").on("hidden.bs.modal", function () {
setup_data_and_graphs();
});
// eventlistener to reset the filters
document.getElementById("resetFilters").addEventListener("click", function () {
clear_all_filters();
add_alert("Filters have been set to default values!", "success")
});
// eventlistener for all runs button
document.getElementById("allRuns").addEventListener("click", function () {
document.getElementById("amount").value = Object.keys(runs).length;
});
// eventlistener for the runTags
function show_checkboxes() {
const checkboxes = document.getElementById("runTagCheckBoxes");
showingRunTags = !showingRunTags;
checkboxes.style.display = showingRunTags ? "block" : "none";
}
const checkboxesElement = document.getElementById("runTagCheckBoxes");
const runTagsSelectElement = document.getElementById("selectRunTags");
// eventlistener for click events on body to hide the run checkboxes when clicking outside of the select/checkboxes elements
document.getElementById("selectRunTags").addEventListener("click", show_checkboxes);
document.body.addEventListener("click", function (event) {
if (showingRunTags == true && !checkboxesElement.contains(event.target) && !runTagsSelectElement.contains(event.target)) {
show_checkboxes()
}
});
// eventlistener for the project version filter popup
const projectVersionCheckboxes = document.getElementById("projectVersionCheckBoxes");
const projectVersionSelectElement = document.getElementById("selectProjectVersion");
function toggle_project_version_filter_dialogue() {
showingProjectVersionDialogue = !showingProjectVersionDialogue;
projectVersionCheckboxes.style.display = showingProjectVersionDialogue ? "block" : "none";
}
projectVersionSelectElement.addEventListener("pointerdown", toggle_project_version_filter_dialogue);
document.body.addEventListener("pointerdown", function (event) {
if (showingProjectVersionDialogue && !projectVersionCheckboxes.contains(event.target) && !projectVersionSelectElement.contains(event.target)) {
toggle_project_version_filter_dialogue();
}
});
// amount filter setup
filteredAmountDefault = filteredAmount
document.getElementById("amount").value = filteredAmount
if (server) {
document.getElementById("openDashboard").hidden = false
}
// fill the filters with default values
setup_run_amount_filter();
setup_lowest_highest_dates();
setup_metadata_filter();
setup_runs_in_select_filter_buttons();
setup_runtags_in_select_filter_buttons();
setup_project_versions_in_select_filter_buttons();
}
// function to create customized view eventlisteners
function setup_settings_modal() {
// function to catch the closing of the settings modal
$("#settingsModal").on("hidden.bs.modal", function () {
setup_data_and_graphs();
});
// function to catch the closing of the settings modal
$("#settingsModal").on("shown.bs.modal", function () {
const libraries = [...new Set(
keywords
.map(item => item.owner)
.filter(owner => owner) // remove null, undefined, or empty string
)];
const keywordPrefs = settings.libraries ?? {};
function render_keyword_libraries() {
const container = document.getElementById("keywordLibraryList");
container.innerHTML = "";
libraries.forEach(lib => {
const isChecked = keywordPrefs[lib] ?? true;
const item = document.createElement("div");
item.className = "list-group-item d-flex justify-content-between align-items-center";
item.innerHTML = `
<span>${lib}</span>
<div class="form-check form-switch mb-0">
<input class="form-check-input" type="checkbox" id="keyword-${lib}"
${isChecked ? "checked" : ""}>
</div>
`;
container.appendChild(item);
document.getElementById(`keyword-${lib}`).addEventListener("change", e => {
keywordPrefs[lib] = e.target.checked;
set_local_storage_item("libraries", keywordPrefs)
});
});
}
render_keyword_libraries();
});
// function to create setting toggle handlers
function create_toggle_handler({ key, elementId, isNumber = false }) {
return function (load = false) {
const element = document.getElementById(elementId);
if (load) {
const storedValue = key.split(".").reduce((acc, k) => acc?.[k], settings);
if (isNumber) {
if (typeof storedValue === "number") {
element.value = storedValue;
}
} else {
if (typeof storedValue === "boolean") {
element.checked = storedValue;
}
}
} else {
let newValue;
if (isNumber) {
newValue = parseInt(element.value);
} else {
const currentValue = key.split(".").reduce((acc, k) => acc?.[k], settings);
newValue = !currentValue;
element.checked = newValue;
}
set_local_storage_item(key, newValue);
}
};
}
const toggle_unified = create_toggle_handler({
key: "show.unified",
elementId: "toggleUnified"
});
const toggle_labels = create_toggle_handler({
key: "show.dateLabels",
elementId: "toggleLabels"
});
const toggle_legends = create_toggle_handler({
key: "show.legends",
elementId: "toggleLegends"
});
const toggle_aliases = create_toggle_handler({
key: "show.aliases",
elementId: "toggleAliases"
});
const toggle_milliseconds = create_toggle_handler({
key: "show.milliseconds",
elementId: "toggleMilliseconds"
});
const toggle_axis_titles = create_toggle_handler({
key: "show.axisTitles",
elementId: "toggleAxisTitles"
});
const toggle_animations = create_toggle_handler({
key: "show.animation",
elementId: "toggleAnimations"
});
const toggle_animation_duration = create_toggle_handler({
key: "show.duration",
elementId: "toggleAnimationDuration",
isNumber: true
});
const toggle_bar_rounding = create_toggle_handler({
key: "show.rounding",
elementId: "toggleBarRounding",
isNumber: true
});
const toggle_prefixes = create_toggle_handler({
key: "show.prefixes",
elementId: "togglePrefixes"
});
// Initial load
toggle_unified(true);
toggle_labels(true);
toggle_legends(true);
toggle_aliases(true);
toggle_milliseconds(true);
toggle_axis_titles(true);
toggle_animations(true);
toggle_animation_duration(true);
toggle_bar_rounding(true);
toggle_prefixes(true);
// Add event listeners
document.getElementById("toggleUnified").addEventListener("click", () => toggle_unified());
document.getElementById("toggleLabels").addEventListener("click", () => toggle_labels());
document.getElementById("toggleLegends").addEventListener("click", () => toggle_legends());
document.getElementById("toggleAliases").addEventListener("click", () => toggle_aliases());
document.getElementById("toggleMilliseconds").addEventListener("click", () => toggle_milliseconds());
document.getElementById("toggleAxisTitles").addEventListener("click", () => toggle_axis_titles());
document.getElementById("toggleAnimations").addEventListener("click", () => toggle_animations());
document.getElementById("toggleAnimationDuration").addEventListener("change", () => toggle_animation_duration());
document.getElementById("toggleBarRounding").addEventListener("change", () => toggle_bar_rounding());
document.getElementById("togglePrefixes").addEventListener("click", () => toggle_prefixes());
document.getElementById("themeLight").addEventListener("click", () => toggle_theme());
document.getElementById("themeDark").addEventListener("click", () => toggle_theme());
function show_settings_in_textarea() {
const textArea = document.getElementById("settingsTextArea");
textArea.value = JSON.stringify(settings, null, 2);
}
function copy_settings_to_clipboard() {
const textArea = document.getElementById("settingsTextArea");
textArea.select();
textArea.setSelectionRange(0, 99999);
navigator.clipboard.writeText(textArea.value);
add_alert("Copied settings to clipboard!", "success")
}
async function reset_settings_to_default() {
const confirmed = await confirm_action(`Are you sure you want to resset all settings?<br><br>
This may override:<br>
- Graph settings<br>
- Custom layouts (e.g., moved or resized graphs)<br>
- Hidden graphs
If you only want to update a few small settings it is recommended to update the settings json and re-apply it.
`);
if (confirmed) {
localStorage.removeItem("settings");
location.reload();
}
}
async function apply_settings_from_textarea() {
const confirmed = await confirm_action(`Are you sure you want to apply the new settings?<br><br>
This may override:<br>
- Graph settings<br>
- Custom layouts (e.g., moved or resized graphs)<br>
- Hidden graphs
`);
if (confirmed) {
try {
const input = document.getElementById("settingsTextArea").value;
const newSettings = JSON.parse(input);
settings = newSettings
localStorage.setItem("settings", JSON.stringify(newSettings));
location.reload();
} catch (e) {
add_alert("Failed to update json config: " + e, "danger")
}
}
}
document.getElementById("copySettings").addEventListener("click", copy_settings_to_clipboard);
document.getElementById("resetSettings").addEventListener("click", reset_settings_to_default);
document.getElementById("applySettings").addEventListener("click", apply_settings_from_textarea);
document.getElementById("settingsModal").addEventListener("shown.bs.modal", show_settings_in_textarea);
}
function confirm_action(message = "Are you sure?") {
return new Promise((resolve) => {
const settingsModal = document.getElementById("settingsModal");
const modalEl = document.getElementById("confirmModal");
const modalBody = document.getElementById("confirmModalMessage");
const cancelBtn = document.getElementById("confirmCancel");
const okBtn = document.getElementById("confirmOk");
settingsModal.classList.add("dimmed");
modalBody.innerHTML = message;
const modal = new bootstrap.Modal(modalEl);
const onCancel = () => {
resolve(false);
modal.hide();
};
const onConfirm = () => {
resolve(true);
modal.hide();
};
const onHidden = () => {
cleanup();
};
const cleanup = () => {
cancelBtn.removeEventListener("click", onCancel);
okBtn.removeEventListener("click", onConfirm);
modalEl.removeEventListener("hidden.bs.modal", onHidden);
settingsModal.classList.remove("dimmed");
};
cancelBtn.addEventListener("click", onCancel);
okBtn.addEventListener("click", onConfirm);
modalEl.addEventListener("hidden.bs.modal", onHidden);
modal.show();
});
}
// function to setup eventlisteners for filter buttons
function setup_sections_filters() {
update_switch_local_storage("switch.runTags", settings.switch.runTags, true);
update_switch_local_storage("switch.runName", settings.switch.runName, true);
update_switch_local_storage("switch.totalStats", settings.switch.totalStats, true);
update_switch_local_storage("switch.latestRuns", settings.switch.latestRuns, true);
update_switch_local_storage("switch.percentageFilters", settings.switch.percentageFilters, true);
update_switch_local_storage("switch.versionFilters", settings.switch.versionFilters, true);
update_switch_local_storage("switch.sortFilters", settings.switch.sortFilters, true);
document.getElementById("switchRunTags").addEventListener("click", function () {
settings.switch.runTags = !settings.switch.runTags
update_switch_local_storage("switch.runTags", settings.switch.runTags);
// create latest and total bars and set visibility
create_overview_latest_graphs();
update_overview_latest_heading();
create_overview_total_graphs();
update_overview_total_heading();
update_overview_sections_visibility();
// update all tagged bars
update_overview_version_select_list();
update_projectbar_visibility();
});
document.getElementById("switchRunName").addEventListener("click", function () {
settings.switch.runName = !settings.switch.runName
update_switch_local_storage("switch.runName", settings.switch.runName);
// create latest and total bars and set visibility
create_overview_latest_graphs();
update_overview_latest_heading();
create_overview_total_graphs();
update_overview_total_heading();
update_overview_sections_visibility();
// update all named project bars
update_overview_version_select_list();
update_projectbar_visibility();
});
document.getElementById("switchLatestRuns").addEventListener("click", function () {
settings.switch.latestRuns = !settings.switch.latestRuns
update_switch_local_storage("switch.latestRuns", settings.switch.latestRuns);
update_overview_sections_visibility();
});
document.getElementById("switchTotalStats").addEventListener("click", function () {
settings.switch.totalStats = !settings.switch.totalStats
update_switch_local_storage("switch.totalStats", settings.switch.totalStats);
update_overview_sections_visibility();
});
document.getElementById("switchPercentageFilters").addEventListener("click", function () {
settings.switch.percentageFilters = !settings.switch.percentageFilters
update_switch_local_storage("switch.percentageFilters", settings.switch.percentageFilters);
update_overview_filter_visibility();
});
document.getElementById("switchSortFilters").addEventListener("click", function () {
settings.switch.sortFilters = !settings.switch.sortFilters
update_switch_local_storage("switch.sortFilters", settings.switch.sortFilters);
update_overview_filter_visibility();
});
document.getElementById("switchVersionFilters").addEventListener("click", function () {
settings.switch.versionFilters = !settings.switch.versionFilters
update_switch_local_storage("switch.versionFilters", settings.switch.versionFilters);
update_overview_filter_visibility();
});
document.getElementById("suiteSelectSuites").addEventListener("change", () => {
create_suite_duration_graph();
create_suite_statistics_graph();
});
update_switch_local_storage("switch.suitePathsSuiteSection", settings.switch.suitePathsSuiteSection, true);
document.getElementById("switchSuitePathsSuiteSection").addEventListener("change", (e) => {
settings.switch.suitePathsSuiteSection = !settings.switch.suitePathsSuiteSection;
update_switch_local_storage("switch.suitePathsSuiteSection", settings.switch.suitePathsSuiteSection);
setup_suites_in_suite_select();
create_suite_statistics_graph();
create_suite_duration_graph();
create_suite_most_failed_graph();
create_suite_most_time_consuming_graph();
});
document.getElementById("resetSuiteFolder").addEventListener("click", () => {
create_suite_folder_donut_graph("");
});
document.getElementById("suiteSelectTests").addEventListener("change", () => {
setup_testtags_in_select();
setup_tests_in_select();
create_test_statistics_graph();
create_test_duration_graph();
create_test_duration_deviation_graph();
});
update_switch_local_storage("switch.suitePathsTestSection", settings.switch.suitePathsTestSection, true);
document.getElementById("switchSuitePathsTestSection").addEventListener("change", () => {
settings.switch.suitePathsTestSection = !settings.switch.suitePathsTestSection;
update_switch_local_storage("switch.suitePathsTestSection", settings.switch.suitePathsTestSection);
setup_suites_in_test_select();
create_test_statistics_graph();
create_test_duration_graph();
create_test_duration_deviation_graph();
create_test_messages_graph();
create_test_most_flaky_graph();
create_test_recent_most_flaky_graph();
create_test_most_failed_graph();
create_test_recent_most_failed_graph();
create_test_most_time_consuming_graph();
});
document.getElementById("testTagsSelect").addEventListener("change", () => {
setup_tests_in_select();
create_test_statistics_graph();
create_test_duration_graph();
create_test_duration_deviation_graph();
});
document.getElementById("testSelect").addEventListener("change", () => {
create_test_statistics_graph();
create_test_duration_graph();
create_test_duration_deviation_graph();
});
document.getElementById("keywordSelect").addEventListener("change", () => {
create_keyword_statistics_graph();
create_keyword_times_run_graph();
create_keyword_total_duration_graph();
create_keyword_average_duration_graph();
create_keyword_min_duration_graph();
create_keyword_max_duration_graph();
});
update_switch_local_storage("switch.useLibraryNames", settings.switch.useLibraryNames, true);
document.getElementById("switchUseLibraryNames").addEventListener("change", () => {
settings.switch.useLibraryNames = !settings.switch.useLibraryNames;
update_switch_local_storage("switch.useLibraryNames", settings.switch.useLibraryNames);
setup_keywords_in_select();
create_keyword_statistics_graph();
create_keyword_times_run_graph();
create_keyword_total_duration_graph();
create_keyword_average_duration_graph();
create_keyword_min_duration_graph();
create_keyword_max_duration_graph();
create_keyword_most_failed_graph();
create_keyword_most_time_consuming_graph();
create_keyword_most_used_graph();
});
// compare filters
compareRunIds.forEach(id => {
const element = document.getElementById(id);
if (element) {
element.addEventListener('change', () => {
create_compare_statistics_graph();
create_compare_suite_duration_graph();
create_compare_tests_graph();
});
}
});
update_switch_local_storage("switch.suitePathsCompareSection", settings.switch.suitePathsCompareSection, true);
document.getElementById("switchSuitePathsCompareSection").addEventListener("change", (e) => {
settings.switch.suitePathsCompareSection = !settings.switch.suitePathsCompareSection;
update_switch_local_storage("switch.suitePathsCompareSection", settings.switch.suitePathsCompareSection);
create_compare_statistics_graph();
create_compare_suite_duration_graph();
create_compare_tests_graph();
});
}
// function to setup eventlisteners for changing the graph view buttons
function setup_graph_view_buttons() {
// eventlisteners for fullscreen buttons
for (let fullscreenButton of fullscreenButtons) {
const fullscreenId = `${fullscreenButton}Fullscreen`;
const closeId = `${fullscreenButton}Close`;
const graphFunctionName = `create_${camelcase_to_underscore(fullscreenButton)}_graph`;
const toggleFullscreen = (entering) => {
const fullscreen = document.getElementById(fullscreenId);
const close = document.getElementById(closeId);
const content = fullscreen.closest(".grid-stack-item-content");
inFullscreen = entering;
fullscreen.hidden = entering;
close.hidden = !entering;
content.classList.toggle("fullscreen", entering);
document.body.classList.toggle("lock-scroll", entering);
document.documentElement.classList.toggle("html-scroll", !entering)
if (typeof window[graphFunctionName] === "function") {
window[graphFunctionName]();
}
if (fullscreenButton === "runDonut") {
create_run_donut_total_graph();
} else if (fullscreenButton === "suiteFolderDonut") {
create_suite_folder_fail_donut_graph();
}
let section = null;
if (fullscreenButton.includes("suite")) {
section = "suite";
} else if (fullscreenButton.includes("test")) {
section = "test";
} else if (fullscreenButton.includes("keyword")) {
section = "keyword";
} else if (fullscreenButton.includes("compare")) {
section = "compare";
}
if (section) {
const filters = document.getElementById(`${section}SectionFilters`);
const originalContainer = document.getElementById(`${section}SectionFiltersContainer`);
if (entering) {
const fullscreenHeader = document.querySelector('.grid-stack-item-content.fullscreen');
fullscreenHeader.insertBefore(filters, fullscreenHeader.firstChild);
} else {
originalContainer.insertBefore(filters, originalContainer.firstChild);
}
}
};
document.getElementById(fullscreenId).addEventListener("click", () => {
inFullscreenGraph = fullscreenId;
lastScrollY = window.scrollY;
$("#navigation").hide();
toggleFullscreen(true);
});
document.getElementById(closeId).addEventListener("click", () => {
inFullscreenGraph = ""
$("#navigation").show();
toggleFullscreen(false);
window.scrollTo({ top: lastScrollY, behavior: "auto" });
});
}
// has to be added after the creation of the sections and graphs
document.getElementById("suiteFolderDonutGoUp").addEventListener("click", function () {
function remove_last_folder(path) {
const parts = path.split(".");
parts.pop();
return parts.length > 0 ? parts.join('.') : "";
}
const folder = remove_last_folder(previousFolder)
if (previousFolder == "" && folder == "") { return }
create_suite_folder_donut_graph(folder)
});
// ignore skip button eventlisteners
document.getElementById("ignoreSkips").addEventListener("change", () => {
ignoreSkips = !ignoreSkips;
create_test_most_flaky_graph();
});
document.getElementById("ignoreSkipsRecent").addEventListener("change", () => {
ignoreSkipsRecent = !ignoreSkipsRecent;
create_test_recent_most_flaky_graph();
});
document.getElementById("onlyFailedFolders").addEventListener("change", () => {
onlyFailedFolders = !onlyFailedFolders;
create_suite_folder_donut_graph("");
});
document.getElementById("heatMapTestType").addEventListener("change", () => {
create_run_heatmap_graph();
});
document.getElementById("heatMapHour").addEventListener("change", () => {
heatMapHourAll = document.getElementById("heatMapHour").value == "All" ? true : false;
create_run_heatmap_graph();
});
document.getElementById("testOnlyChanges").addEventListener("change", () => {
create_test_statistics_graph();
});
document.getElementById("testNoChanges").addEventListener("change", () => {
create_test_statistics_graph();
});
document.getElementById("compareOnlyChanges").addEventListener("change", () => {
create_compare_tests_graph();
});
document.getElementById("compareNoChanges").addEventListener("change", () => {
create_compare_tests_graph();
});
// most time consuming only latest run switch event listeners
document.getElementById("onlyLastRunSuite").addEventListener("change", () => {
create_suite_most_time_consuming_graph();
});
document.getElementById("onlyLastRunTest").addEventListener("change", () => {
create_test_most_time_consuming_graph();
});
document.getElementById("onlyLastRunKeyword").addEventListener("change", () => {
create_keyword_most_time_consuming_graph();
});
document.getElementById("onlyLastRunKeywordMostUsed").addEventListener("change", () => {
create_keyword_most_used_graph();
});
// graph layout changes
document.querySelectorAll(".shown-graph").forEach(btn => {
btn.addEventListener("click", () => {
btn.hidden = true;
document.getElementById(`${btn.id.replace("Shown", "Hidden")}`).hidden = false;
})
});
document.querySelectorAll(".hidden-graph").forEach(btn => {
btn.addEventListener("click", () => {
btn.hidden = true;
document.getElementById(`${btn.id.replace("Hidden", "Shown")}`).hidden = false;
})
});
// table layout changes
document.querySelectorAll(".move-up-table").forEach(btn => {
btn.addEventListener("click", () => {
const section = btn.closest(".table-section");
const previous = section.previousElementSibling;
if (previous && previous.classList.contains("table-section")) {
section.parentElement.insertBefore(section, previous);
}
});
});
document.querySelectorAll(".move-down-table").forEach(btn => {
btn.addEventListener("click", () => {
const section = btn.closest(".table-section");
const next = section.nextElementSibling;
if (next && next.classList.contains("table-section")) {
section.parentElement.insertBefore(next, section);
}
});
});
function update_active_graph_type_buttons(graphChangeButton, activeGraphType) {
const camelButtonName = underscore_to_camelcase(graphChangeButton);
const buttonTypes = graphChangeButtons[graphChangeButton].split(",");
buttonTypes.forEach((graphType) => {
const buttonId = `${camelButtonName}Graph${graphType}`;
const buttonElement = document.getElementById(buttonId);
buttonElement.classList.remove("active");
if (graphType.toLowerCase() === activeGraphType) {
buttonElement.classList.add("active");
}
});
}
function handle_graph_change_type_button_click(graphChangeButton, graphType, camelButtonName) {
update_graph_type(`${camelButtonName}GraphType`, graphType)
window[`create_${graphChangeButton}_graph`]();
update_active_graph_type_buttons(graphChangeButton, graphType);
if (graphChangeButton == 'run_donut') { create_run_donut_total_graph(); }
if (graphChangeButton == 'suite_folder_donut') { create_suite_folder_fail_donut_graph(); }
}
function add_graph_eventlisteners(graphChangeButton, buttonTypes) {
const camelButtonName = underscore_to_camelcase(graphChangeButton);
const graphTypes = buttonTypes.split(",");
graphTypes.forEach((graphType, index) => {
const buttonId = `${camelButtonName}Graph${graphType}`;
if (document.getElementById(buttonId)) {
document.getElementById(buttonId).addEventListener("click", () => {
handle_graph_change_type_button_click(graphChangeButton, graphType.toLowerCase(), camelButtonName);
});
}
});
}
Object.entries(graphChangeButtons).forEach(([graphChangeButton, buttonTypes]) => {
add_graph_eventlisteners(graphChangeButton, buttonTypes);
});
// Initialize active states for all graph types on first load
Object.entries(graphChangeButtons).forEach(([graphChangeButton, buttonTypes]) => {
if (graphChangeButton.includes("table")) { return; }
const camelButtonName = underscore_to_camelcase(graphChangeButton);
const storedGraphType = settings?.graphTypes?.[`${camelButtonName}GraphType`];
const defaultGraphType = buttonTypes.split(",")[0].toLowerCase();
const activeGraphType = storedGraphType || defaultGraphType;
update_active_graph_type_buttons(graphChangeButton, activeGraphType);
});
// Handle modal show event - move filters to modal
$("#sectionFiltersModal").on("show.bs.modal", function () {
// Move suite filters
const suiteFilters = document.getElementById('suiteSectionFilters');
const suiteCardBody = document.getElementById('suiteSectionFiltersCardBody');
if (suiteFilters && suiteCardBody) {
suiteCardBody.appendChild(suiteFilters);
}
// Move test filters
const testFilters = document.getElementById('testSectionFilters');
const testCardBody = document.getElementById('testSectionFiltersCardBody');
if (testFilters && testCardBody) {
testCardBody.appendChild(testFilters);
}
// Move keyword filters
const keywordFilters = document.getElementById('keywordSectionFilters');
const keywordCardBody = document.getElementById('keywordSectionFiltersCardBody');
if (keywordFilters && keywordCardBody) {
keywordCardBody.appendChild(keywordFilters);
}
});
// Handle modal hide event - return filters to original positions
$("#sectionFiltersModal").on("hide.bs.modal", function () {
// Return suite filters
const suiteFilters = document.getElementById('suiteSectionFilters');
const suiteOriginalContainer = document.getElementById('suiteSectionFiltersContainer');
if (suiteFilters && suiteOriginalContainer) {
suiteOriginalContainer.insertBefore(suiteFilters, suiteOriginalContainer.firstChild);
}
// Return test filters
const testFilters = document.getElementById('testSectionFilters');
const testOriginalContainer = document.getElementById('testSectionFiltersContainer');
if (testFilters && testOriginalContainer) {
testOriginalContainer.insertBefore(testFilters, testOriginalContainer.firstChild);
}
// Return keyword filters
const keywordFilters = document.getElementById('keywordSectionFilters');
const keywordOriginalContainer = document.getElementById('keywordSectionFiltersContainer');
if (keywordFilters && keywordOriginalContainer) {
keywordOriginalContainer.insertBefore(keywordFilters, keywordOriginalContainer.firstChild);
}
});
}
// function to setup collapse buttons and icons
function setup_collapsables() {
document.querySelectorAll(".collapse-icon").forEach(origIcon => {
// Replace the element with a clone to remove existing listeners
// required to readd collapsables for overview project sections
const icon = origIcon.cloneNode(true);
origIcon.replaceWith(icon);
const sectionId = icon.id.replace("collapse", "");
const update_icon = () => {
const section = document.getElementById(sectionId);
icon.innerHTML = section.hidden ? arrowRight : arrowDown;
};
icon.addEventListener("click", () => {
const section = document.getElementById(sectionId);
section.hidden = !section.hidden;
update_icon();
});
update_icon();
});
}
function attach_run_card_version_listener(versionElement, projectName, projectVersion) {
versionElement.addEventListener("click", (event) => {
clear_all_filters();
set_filter_show_current_project(projectName);
set_filter_show_current_version(projectVersion);
event.stopPropagation();
update_menu("menuDashboard");
});
}
// this function setups the project bar "sort by" filters eventlisteners
function setup_overview_order_filters() {
const parseProjectId = (selectId) => selectId.replace(/SectionOrder$/i, "");
const parseRunStatsFromCard = (cardEl) => {
const text = cardEl.innerText || "";
const runMatch = text.match(/#\s*(\d+)/); // e.g., "#8"
const passedMatch = text.match(/Passed:\s*(\d+)/i);
const failedMatch = text.match(/Failed:\s*(\d+)/i);
const skippedMatch = text.match(/Skipped:\s*(\d+)/i);
return {
runNumber: runMatch ? parseInt(runMatch[1]) : 0,
passed: passedMatch ? parseInt(passedMatch[1]) : 0,
failed: failedMatch ? parseInt(failedMatch[1]) : 0,
skipped: skippedMatch ? parseInt(skippedMatch[1]) : 0,
};
};
const reorderProjectCards = (projectId, order) => {
// Determine correct container for both overview and project sections
const containerId = `${projectId}RunCardsContainer`;
const container = document.getElementById(containerId);
if (!container) return; // guard against missing containers
const cards = Array.from(container.querySelectorAll('.overview-card'));
if (cards.length === 0) return;
const enriched = cards.map(card => ({ el: card, stats: parseRunStatsFromCard(card) }));
const cmpDesc = (a, b, key) => (b.stats[key] - a.stats[key]);
const cmpAsc = (a, b, key) => (a.stats[key] - b.stats[key]);
if (order === "oldest" || order.toLowerCase() === "oldest run") {
enriched.sort((a, b) => cmpAsc(a, b, 'runNumber'));
} else if (order === "most failed") {
enriched.sort((a, b) => cmpDesc(a, b, 'failed'));
} else if (order === "most skipped") {
enriched.sort((a, b) => cmpDesc(a, b, 'skipped'));
} else if (order === "most passed") {
enriched.sort((a, b) => cmpDesc(a, b, 'passed'));
} else {
enriched.sort((a, b) => cmpDesc(a, b, 'runNumber'));
}
const fragment = document.createDocumentFragment();
enriched.forEach(item => fragment.appendChild(item.el));
container.innerHTML = '';
container.appendChild(fragment);
};
document.querySelectorAll('.section-order-filter').forEach(select => {
const selectId = select.id;
if (selectId === "overviewLatestSectionOrder") {
select.addEventListener('change', (e) => {
create_overview_latest_graphs();
});
} else {
const projectId = parseProjectId(selectId);
select.addEventListener('change', (e) => {
const order = (e.target.value || '').toLowerCase();
reorderProjectCards(projectId, order);
});
}
});
}
// === main.js ===
// function that triggers all functions that should be executed when the dashboard is loaded first
// in the correct order!
function main() {
setup_local_storage();
setup_database_stats();
setup_dashboard_section_layout_buttons();
setup_sections_filters();
setup_collapsables();
setup_filter_modal();
setup_settings_modal();
setup_menu();
}
Chart.register(ChartDataLabels);
main() // trigger on first load
</script>
</body>
</html>